// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/launch-bc2c66d5dd0b.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2022-09-29T07:13:24Z",turbineBuildDate:"2022-06-22T20:54:39Z",turbineVersion:"27.3.3-latest"},environment:{id:"EN29958f5199984bd5b6434818162d5ca7",stage:"production"},dataElements:{"AT-AffinityParams":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(e,t){for(var a=Object.keys(t),o=0;o<a.length;o++)if(new RegExp(a[o]).test(e))return!0;return!1},t=function(e,t){var a=function(){try{var e=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return e&&e.product&&e.product.length&&e.product[0].attributes&&e.product[0].attributes.bodyType||void 0}catch(e){}},o=function(){try{var e=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return e&&e.product&&e.product.length&&e.product[0].attributes&&e.product[0].attributes.mmdr||void 0}catch(e){}},s=function(e,t){var a=e.match(t);if(a)return a[6]?"Z":a[7]?"BMW i":(a[3]||a[5]||a[4]).toUpperCase()},n=function(e,t){if(e.match(t))return"M"},i=function(e,t){if(e.match(t))return"true"},r=function(e,t){for(var a=Object.keys(t),o=0;o<a.length;o++)if(new RegExp(a[o]).test(e))return t[a[o]]},c=t.listOfExceptions&&r(e,t.listOfExceptions)||{};return{"car-body-type":c["car-body-type"]||a(),"car-series":c["car-series"]||s(e,t.seriesRegex),"car-variant":c["car-variant"]||n(e,t.variantRegex),"is-electric":c["is-electric"]||i(e,t.electricRegex),"car-model":c["car-model"]||o()}},a={"bmw.co.uk":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/,variantRegex:/all-models\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|#phev|#plug-in|#bmw-X1-xDrive25e|#X2_hybrid|#plug-in-hybrid/,listOfExceptions:{}},"bmw.it":{seriesRegex:/gamma.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/,variantRegex:/gamma\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|#phev|#f45_phev|#G30_hybrid|#G31_hybrid|#plug-in|#bmw-X1-xDrive25e|#plug-in-hybrid|#ibrida-plug-in/,listOfExceptions:{"mondo-bmw/bmw-i/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"m/bmw-z4-m40i/2021/panoramica-bmw-z4.html":{"car-series":"Z"},"gamma/Versioni-Serie-8/":{"car-series":"8"},"/all-models/2-series/activetourer/2021/bmw-2-series-active-tourer-highlights.html":{"car-series":"2"}}},"bmw.fr":{seriesRegex:/tous-les-modeles.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/,variantRegex:/tous-les-modeles\/(m-).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|phev|#G21_mildhybrid|#G30_hybrid|#X2_hybrid|#bmw-X1-xDrive25e|#hybride-rechargeable/,listOfExceptions:{"x-series/X4/2018/apercu.html":{"car-series":"X4"},"/bmw-concept/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"tous-les-modeles/modeles-serie-8":{"car-series":"8"}}},"bmw.ru":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/^$/,listOfExceptions:{}},"bmw.de":{seriesRegex:/neufahrzeuge.*(\/|bmw-)((\d)er|m(\d)|(x\d)|(z4)|(i(\d|x|\/)))/,variantRegex:/neufahrzeuge\/m\//,electricRegex:/i\d|bmw-i(\/|x|\d)|phev|#330e|#\/530e|#bmw-X1-xDrive25e|#x5-xdrive45e|elektromobilitaet|#plug-in-hybrid/,listOfExceptions:{"/neufahrzeuge/m/m-240i-convertible/":{"car-series":"2","car-variant":"M"},"/topics/faszination-bmw/bmw-concept-cars/bmw-concept-i4-ueberblick.html":{"car-series":"BMW i"},"/topics/faszination-bmw(.*)elektromobilitaet/":{"is-electric":"true"}}},"bmw.es":{seriesRegex:/coches-bmw.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/,variantRegex:/coches-bmw\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|(iX\d)|#hibrido-enchufable|#phev/,listOfExceptions:{"/x/iX3/2021/presentacion.html":{"car-series":"x","is-electric":"true"},"/2-series/coupe/2021/presentacion.html":{"car-series":"2"},"/2-series/gran-coupe/2021/vision-general-bmw-serie2-gran-coupe.html":{"car-series":"2"},"/2-series/grantourer/2020/presentacion.html":{"car-series":"2"}}}}[_satellite.getVar("topLevelDomain")],o=window.location.href,s=/neufahrzeuge|all-models|tous-les-modeles|gamma|coches-bmw/.test(o)||a&&a.listOfExceptions&&e(o,a.listOfExceptions);return a&&s&&consentcontroller.api.isUsageAllowed("AdobeTargetPersonalization")?t(o,a):{}}catch(e){_satellite.logger.error("Error in Data element AT-AffinityParams-",e)}}}},hashingMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=s.marketingCloudVisitorID,t="erpAVj*ED9aTVMs%",a=a||function(e,t){var a={},o=a.lib={},s=function(){},n=o.Base={extend:function(e){s.prototype=this;var t=new s;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=o.WordArray=n.extend({init:function(e,a){e=this.words=e||[],this.sigBytes=a!=t?a:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,a=e.words,o=this.sigBytes;if(e=e.sigBytes,this.clamp(),o%4)for(var s=0;s<e;s++)t[o+s>>>2]|=(a[s>>>2]>>>24-s%4*8&255)<<24-(o+s)%4*8;else if(65535<a.length)for(s=0;s<e;s+=4)t[o+s>>>2]=a[s>>>2];else t.push.apply(t,a);return this.sigBytes+=e,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var a=[],o=0;o<t;o+=4)a.push(4294967296*e.random()|0);return new i.init(a,t)}}),r=a.enc={},c=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],o=0;o<e;o++){var s=t[o>>>2]>>>24-o%4*8&255;a.push((s>>>4).toString(16)),a.push((15&s).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o+=2)a[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new i.init(a,t/2)}},d=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var a=[],o=0;o<e;o++)a.push(String.fromCharCode(t[o>>>2]>>>24-o%4*8&255));return a.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o++)a[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new i.init(a,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=o.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a=this._data,o=a.words,s=a.sigBytes,n=this.blockSize,r=s/(4*n);if(t=(r=t?e.ceil(r):e.max((0|r)-this._minBufferSize,0))*n,s=e.min(4*t,s),t){for(var c=0;c<t;c+=n)this._doProcessBlock(o,c);c=o.splice(0,t),a.sigBytes-=s}return new i.init(c,s)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=u.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new m.HMAC.init(e,a).finalize(t)}}});var m=a.algo={};return a}(Math);!function(e){for(var t=a,o=(n=t.lib).WordArray,s=n.Hasher,n=t.algo,i=[],r=[],c=function(e){return 4294967296*(e-(0|e))|0},d=2,l=0;64>l;){var u;e:{u=d;for(var m=e.sqrt(u),b=2;b<=m;b++)if(!(u%b)){u=!1;break e}u=!0}u&&(8>l&&(i[l]=c(e.pow(d,.5))),r[l]=c(e.pow(d,1/3)),l++),d++}var g=[];n=n.SHA256=s.extend({_doReset:function(){this._hash=new o.init(i.slice(0))},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],s=a[1],n=a[2],i=a[3],c=a[4],d=a[5],l=a[6],u=a[7],m=0;64>m;m++){if(16>m)g[m]=0|e[t+m];else{var b=g[m-15],f=g[m-2];g[m]=((b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3)+g[m-7]+((f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10)+g[m-16]}b=u+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&d^~c&l)+r[m]+g[m],f=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&s^o&n^s&n),u=l,l=d,d=c,c=i+b|0,i=n,n=s,s=o,o=b+f|0}a[0]=a[0]+o|0,a[1]=a[1]+s|0,a[2]=a[2]+n|0,a[3]=a[3]+i|0,a[4]=a[4]+c|0,a[5]=a[5]+d|0,a[6]=a[6]+l|0,a[7]=a[7]+u|0},_doFinalize:function(){var t=this._data,a=t.words,o=8*this._nDataBytes,s=8*t.sigBytes;return a[s>>>5]|=128<<24-s%32,a[14+(s+64>>>9<<4)]=e.floor(o/4294967296),a[15+(s+64>>>9<<4)]=o,t.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=s._createHelper(n),t.HmacSHA256=s._createHmacHelper(n)}(Math);var o=t+e,n=a.SHA256(o);return btoa(n)}catch(e){var i={from:"AA",type:"DE",name:"hashingMID"};_satellite.logger.error(e,i)}}}},cookieDomainPeriods:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("topLevelDomain").split(".").length}catch(t){var e={from:"AA",type:"DE",name:"cookieDomainPeriods"};_satellite.logger.error(t,e)}}}},URL:{defaultValue:"URL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.href.substring(0,255);return e=e.toLowerCase()}catch(e){}}}},consentstatus:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return null!=processingWrapper&&processingWrapper._getProcessingInfo("BaseTracking",{type:processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2}).adobe,"test"}catch(e){}}}},"AA-consentMetaData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if(void 0!==window.processingWrapper&&"function"==typeof window.processingWrapper._getProcessingInfo){var t=window.processingWrapper._getProcessingInfo("BaseTracking",{type:window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2});return e?t[e]:t}return"processingwrapper not available"}catch(e){var a={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,a)}}}}},targetModelsExclusion:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex()).product[0].attributes.mmdr,t=window.location.host;if(t.indexOf("www.bmw.at")>-1)var a=["G80","G82","G83","F90","F91","F92","F93","F97","F98","F95","F96","G07","G11","G12","G14","G15","G16","U11 BEV","G70E","U11E","G70"].indexOf(e)>-1;else t.indexOf("www.bmw.de")>-1?a=["F40","G42","F44","U06","F46","G22","G23","G26","G26E","G30","G31","G32","F48","F39","G01","G02","G05","G06","G29","I20","G08"].indexOf(e)>-1:(t.indexOf("www.bmw.be")>-1||t.indexOf("www.bmw.lu")>-1)&&(a=["F40","G42","F44","U06","G20","G21","G22","G26","G30","G31","G32","G15","G14","G16","F39","G01","G08","G02","G05","G06","G07","G29","G26","i20","I01"].indexOf(e)>-1);return a}catch(e){_satellite.logger.error("VisitorReco: Error in DE targetModelsExclusion"+e)}}}},server:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},usabilla_randomizer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),a=t[t.length-1].toUpperCase();"UK"==a&&(a="GB"),"COM"==a&&window.location.href.indexOf("bmw.com/en-au/")>-1&&(a="AU");var o,s=["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA","MX","TR","PL"],n={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:20,CES:0,Psyma:60,Other:20}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:0,Psyma:56,Other:24}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:0,Psyma:46,Other:44}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:0,Psyma:52,Other:22}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:0,Psyma:0,Other:85}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:0,Psyma:0,Other:80}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:75,CES:0,Psyma:0,Other:25}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:0,Psyma:0,Other:15}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:0,Psyma:35,Other:15}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:50,CES:0,Psyma:0,Other:50}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}},i=(null==(m=epaas.api.getPersistence("bmwdtm_hq_vs"))&&(m=Math.floor(Date.now()/1e3),s.indexOf(a)>-1&&epaas.api.setPersistence("bmwdtm_hq_vs",m)),void 0!==epaas.api.getPersistence("bmwdtm_hq_vs")&&null!=epaas.api.getPersistence("bmwdtm_hq_vs")&&(u=epaas.api.getPersistence("bmwdtm_hq_vs").slice(-2)),u=+u);if(o=n[a]?function(e,t,a,o,s){if(t+a+o+s==100)return e>=0&&e<t?"NPS":e>=t&&e<t+a?"CES":e>=t+a&&e<t+a+o?"PSYMA":e>=t+a+o&&e<t+a+o+s?"NO-SURVEY":void 0}(i,n[a].random.NPS,n[a].random.CES,n[a].random.Psyma,n[a].random.Other):"NO-SURVEY",("NPS"==o||"CES"==o)&&s.indexOf(a)>-1){var r,c,d=null!=localStorage.getItem("usbl."+n[a].buttonCode[e]+".c."+n[a].NPS[e]),l=null!=localStorage.getItem("usbl."+n[a].buttonCode[e]+".c."+n[a].CES[e]);return r=!d||"T"!=localStorage.getItem("usbl."+n[a].buttonCode[e]+".c."+n[a].NPS[e]).split("/")[0],c=!l||"T"!=localStorage.getItem("usbl."+n[a].buttonCode[e]+".c."+n[a].CES[e]).split("/")[0],r&&c&&s.indexOf(a)>-1?o:"NO-SURVEY"}return o}catch(e){_satellite.logger.error(e)}var u,m}}},"AA-localCampaignVariable":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["mz_ca","mz_sp"];function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}_satellite.getVar("topLevelDomain");for(var a="",o=0,s=0;s<e.length;s++)t(e[s])?a+=t(e[s])+"|":(a+="no value|",o++);return a=2==o?"":a.slice(0,-1)}catch(e){var n={from:"AA",type:"DE",name:"AA-localCampaignVariable"};_satellite.logger.error(e,n)}}}},"Trigger-pageLoadTPT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){var t,a="re-trigger-third-party";_satellite.logger.log('An attempt to trigger the page load TPTs is made from - "'+e+'"'),_satellite.getVar("haveTPTsTriggered")?_satellite.logger.log("Page load TPTs have already been triggered, hence will not be re-trigerred"):("function"==typeof Event?t=new Event(a):(t=document.createEvent("Event")).initEvent(a,!0,!0),t.detail={processing:_satellite.getVar("consentMap").Others},_satellite.logger.log("Triggering the page load TPTs successfully"),document.body.dispatchEvent(t),_satellite.setVar("haveTPTsTriggered",!0))}}catch(t){var e={from:"AA",type:"DE",name:"Trigger-pageLoadTPT"};_satellite.logger.error(t,e)}}}},pa_cat_primaryCategory:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.primaryCategory}catch(e){}}}},"AA-pageID":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.pageInfo.pageID"}}},gcdmcookie:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"gcdmToken"}},"AA-InternalcampaignParameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"icp",caseInsensitive:!0}},ev_eve_eventAction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventAction||""}catch(e){}}}},"AA-contextData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){var e=new Date,t=e.getUTCFullYear().toString(),a=(e.getUTCMonth()+1).toString(),o=e.getUTCDate().toString();1==a.length&&(a="0"+(e.getUTCMonth()+1).toString()),1==o.length&&(o="0"+e.getUTCDate().toString());var s=document.location.hostname.split(".").pop().toUpperCase();return base_context=t+"_"+a+"_"+o+"_"+s,base_context+"_A,"+base_context+"_W,"+base_context+"_I,"+base_context+"_E"}}catch(t){var e={from:"AA",type:"DE",name:"AA-contextData"};_satellite.logger.error(t,e)}}}},setDefaultFormVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t){try{var a=_satellite.getVar("snapshotDL"),o=(_satellite.getVar("WA_FormOrigin"),a.get("event.-1.eventInfo.eventName")),s=a.get("event.-1.eventInfo.effect"),n=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.eventInfo.eventPoints"),a.get("event.-1.eventInfo.type")),i=a.get("event.-1.category.subCategory1"),r=a.get("event.-1.category.subCategory2"),c=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));console.log("Mayank's event Identifier is "+e.identifier),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=-1==s.indexOf("nsc >")?"nsc > "+s:s;var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},u=l[n.toLowerCase()],m=l[i.toLowerCase()],b=l[r.toLowerCase()];"nsc > form started"==s||"local > form started"==s?(d=t.apl(d,"event3,event4"),null!=b&&(d=t.apl(d,b[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"roi"!=n&&"rfi"!=n||null!=m&&(d=t.apl(d,m[0]))):"nsc > form finished"==s||"local > form finished"==s?(d=t.apl(d,"event15,event16"),null!=b&&(d=t.apl(d,b[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"rfi"!=n&&"roi"!=n||null!=m&&(d=t.apl(d,m[1]))):"nsc > form finish intention"==s||"form finish intension"==s||"local > form finish intention"==s?d=t.apl(d,"event917,event918,event13,event14"):"first form interaction"==s||"local > first form interaction"==s?d=t.apl(d,"event917,event918,event5,event6"):"form interaction"==s||"local > form interaction"==s?d=t.apl(d,"event917,event918,event9,event10"):s.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"form impression"==s?d=t.apl(d,"event925,event926"):o.indexOf("error")>-1&&(d=t.apl(d,"event931,event932"));var g=a.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+g),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.prop7=a.get("event.-1.category.subCategory1"),t.prop9=a.get("page.category.subCategory1"),t.prop10=a.get("page.category.subCategory2"),t.prop11=n,t.prop16=a.get("page.pageInfo.pageName"),t.prop17=a.get("event.-1.attributes.form.rfxID"),t.prop18=a.get("event.-1.category.subCategory2",a.get("event.-1.category.subCategory02")),t.prop43="forms",t.prop55=a.get("event.-1.category.subCategory1",a.get("event.-1.attributes.errorCode")),t.prop56="form",t.eVar23=a.get("page.attributes.marketingConsent"),t.eVar41=a.get("dealer.-1.dealerInfo.dealerGroupName",a.get("dealer.-1.dealerInfo.dealerGroup")),t.eVar42=a.get("dealer.-1.dealerInfo.dealerID",a.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=a.get("dealer.-1.dealerInfo.dealerOutletName",a.get("dealer.-1.dealerInfo.dealerName")),t.eVar40=a.get("dealer.-1.dealerInfo.outletID",a.get("dealer.-1.dealerInfo.dealerOutletID")),t.eVar137=a.get("component.-1.category.application","aem6"),("form"!=a.get("component.-1.category.subCategory01")&&"form"!=a.get("component.-1.category.subCategory1")||"aem6"!=a.get("component.-1.category.application"))&&"nsc > form finish intention"!=a.get("event.-1.eventInfo.effect")||"interaction"==o&&(t.prop6=t.prop53="adobe form"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop7="generic"),"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop55="generic"),"error"==o&&(t.prop56="error",t.prop6="",t.prop8="",t.prop55=a.get("event.-1.category.subCategory1"),t.prop53=a.get("event.-1.eventInfo.type"),t.eVar34=a.get("event.-1.eventInfo.effect"),t.prop52=a.get("event.-1.eventInfo.cause")),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(e){var f={from:"AA",type:"DE",name:"setDefaultFormVariables"};_satellite.logger.error(e,f)}}}}},hierarchy:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),a=_satellite.getVar("jcrPathLevel3"),o=_satellite.getVar("pageName"),s=[e,t,a],n=3;a.indexOf("None")>-1&&(n=2),t.indexOf("None")>-1&&(n=1),e.indexOf("None")>-1&&(n=0);for(var i="",r=0;r<n;r++)i+=s[r]+"|";return i+=o}catch(e){}}}},"AAM-initConfig":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.co.za":{containerNSID:4},"bmw.it":{containerNSID:6},"bmw.de":{containerNSID:1},"bmw.co.uk":{containerNSID:19},"bmw.fr":{containerNSID:21},"bmw.co.jp":{containerNSID:23},"bmw.es":{containerNSID:26},"bmw.be":{containerNSID:28},"bmw.lu":{containerNSID:30},"bmw.se":{containerNSID:32},"bmw.dk":{containerNSID:33},"bmw.no":{containerNSID:34},"bmw.fi":{containerNSID:35},"bmw.ch":{containerNSID:51},"bmw.nl":{containerNSID:53},"mini.ch":{containerNSID:52},"mini.de":{containerNSID:3},"mini.it":{containerNSID:8},"mini.fr":{containerNSID:22}};return a=_satellite.getVar("topLevelDomain"),o={partner:"bmwag",containerNSID:0,uuidCookie:{name:"aam_uuid",days:30,domain:_satellite.getVar("topLevelDomain")},visitorService:{namespace:"B52D1CFE5330949C0A490D45@AdobeOrg"}},(s=e[a])&&(s.partner=s.partner||o.partner,s.containerNSID=s.containerNSID||o.containerNSID,s.uuidCookie=s.uuidCookie||o.uuidCookie,s.visitorService=s.visitorService||o.visitorService),s}catch(e){var t={from:"AA",type:"DE",name:"AAM-initConfig"};_satellite.logger.error(e,t)}var a,o,s}}},pageInstanceId:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").pageInstanceId,t=e;return"-prod"==e.substr(e.length-5)&&(t=e.substr(0,e.length-5)),"-dev"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),"-int"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),6===t.split("/").length&&(t+="/index"),t}catch(e){}}}},finalDataLayer:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==e){var t=e.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var a=t;a>0;a--)if("object"==typeof e.getPageObject(a).page&&"VCO"==e.getPageObject(a).page.category.primaryCategory){t=a;break}var o=e.getPageObject(t);if(void 0!==o.pageInstanceId&&""!=o.pageInstanceId&&-1==o.pageInstanceId.indexOf("need-analyzer"))return o;if(void 0!==o.component&&o&&o.component[0]&&o.component[0].category&&"stock locator"==o.component[0].category.subCategory01)return o;if(void 0!==o.component&&o&&o.component[0]&&o.component[0].componentInfo&&"digital checkout solution"==o.component[0].componentInfo.componentName)return o;if(void 0!==o.pageInstanceId&&""!=o.pageInstanceId&&o.product.length>0)return o;if(void 0!==o.pageInstanceId&&""!=o.pageInstanceId)return o=e.getPageObject(0)}return window.digitalData&&window.digitalData.pages&&window.digitalData.activePageIndex?window.digitalData.pages[window.digitalData.activePageIndex]:void 0}catch(e){var s={from:"AA",type:"DE",name:"finalDataLayer"};_satellite.logger.error(e,s)}}}},Usabilla_vs_IgnitionOne:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.cookie.get("bmwdtm_hq_vs").slice(-2)<"20"?"Usabilla":"IgnitionOne"}catch(e){_satellite.logger.error("Error In: Usabilla_vs_IgnitionOne"+e)}}}},perfTime_query:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.query):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_query : "+e),"na"}}}},"geoRegion copy":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(void 0!==e.page)return e.page.pageInfo.geoRegion;var t=location.hostname;if(t.indexOf("bmwjamaica.com")>-1)return"JM";if(t.indexOf("bmwhk.com")>-1)return"HK";if(t.indexOf("bmw-eg.com")>-1)return"EG";if(t.indexOf("bmwusa.com")>-1)return"US";var a=t.split("."),o=a[a.length-1];return o=o.toUpperCase()}catch(e){}}}},"AA-subCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.subCategory01"}}},setTronDefaultVariableGeneric:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=_satellite.getVar("snapshotDL"),a=_satellite.getVar("errObj"),o=_satellite.getVar("tronVisualizer"),s="nsc > ";e.prop1=t.get("page.pageInfo.pageName"),e.prop2=t.get("page.category.pageType"),e.prop5=t.get("page.category.subCategory02");try{if(""!=o&&null!=o){var n=o.event.cause,i=o.event.type,r=o.event.effect,c=o.event.action,d=o.event.timeStamp,l=o.component.name,u=o.component.type,m=o.version,b=o.custom.scenery;switch(void 0===l?l="datalayer field missing":""==l?l="datalayer field empty":e.prop19=l,e.prop52=n,e.prop53=i,e.prop57=c,e.prop41=u,e.prop44=m,e.prop45=m,e.eVar136=m,e.eVar34=s+r,e.prop12=d,e.prop54=l,l){case"visualizer":e.prop43="showroom",e.prop42="configuration",e.prop50="datalayer field missing",e.prop55=b,e.prop56="interaction";break;case"video player":e.prop43="video",e.prop50="media",e.prop55="video",e.prop56="interaction"}}}catch(e){var g={from:"AA",type:"DE",name:"Custom Code for TRON Specific Variables Mapping"};_satellite.logger.error(e,g)}try{if(""!=a&&null!=a){var f=a.event.name;if(null!=f&&"error"===f){var p=a.event.effect;e.eVar34=void 0===p?"datalayer field missing":""==p?"datalayer field empty":s+p;var v=a.custom.errorURL;e.eVar71=void 0===v?"datalayer field missing":""==v?"datalayer field empty":v;var h=a.custom.errorOrigin;e.prop51=void 0===h?"datalayer field missing":""==h?"datalayer field empty":h;var _=a.event.cause;e.prop52=void 0===_?"datalayer field missing":""==_?"datalayer field empty":_;var P=a.event.type;e.prop53=void 0===P?"datalayer field missing":""==P?"datalayer field empty":P;var j=a.custom.errorCode;e.prop55=void 0===j?"datalayer field missing":""==j?"datalayer field empty":j;var y=a.version;e.prop44=void 0===y?"datalayer field missing":""==y?"datalayer field empty":y,e.prop45=e.prop44,e.prop56=void 0===f?"datalayer field missing":""==f?"datalayer field empty":f;var C=a.event.action;e.prop57=void 0===C?"datalayer field missing":""==C?"datalayer field empty":C;var w=a.component.name;switch(e.prop19=void 0===w?"datalayer field missing":""==w?"datalayer field empty":w,w){case"electric range calculator":e.prop50="calculator",e.prop43="showroom";break;case"all-models-list":e.prop50="model list",e.prop43="content";break;case"dynamic disclaimer":e.prop50="disclaimer",e.prop43="legal information";break;default:e.prop50="datalayer field missing"}}}}catch(e){var R={from:"AA",type:"DE",name:"Custom Code for Error Events tracking"};_satellite.logger.error(e,R)}""!=e.linkTrackVars&&e.linkTrackVars,e.linkTrackVars=e.apl(e.linkTrackVars,"prop1,prop2,prop5,prop45,prop56,prop57,prop55,prop53,prop52,prop51,eVar71,eVar34,prop44,eVar7,prop12,prop19,prop42,prop43,prop50")}catch(e){var x={from:"AA",type:"DE",name:"setTronDefaultVariables"};_satellite.logger.error(e,x)}}}}},"AAM-hashedid_cookie":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["hashedid"],t=decodeURI(document.cookie).split(";"),a="";return t.forEach((function(t){for(i=0;i<e.length;i++)if(-1!=t.split("=")[0].indexOf(e[i])){a=t.split("=")[1];break}})),hashedid_cookie_clean=decodeURIComponent(a),hashedid_cookie_clean}catch(e){_satellite.logger.error("hashedid cookie Error ",e)}}}},pr_att_mmdr:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(0==e.product.length)return"";var t=e.product.length-1;return e.product[t].attributes.mmdr}catch(e){}}}},pa_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",
settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.subCategory01}catch(e){}}}},"AAM-emailid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=document.querySelector("#email").value;if(1==/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e))return e}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"AAM-dilMarketList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return["bmw.de"]}catch(t){var e={from:"AA",type:"DE",name:"AAM-dilMarketList"};_satellite.logger.error(t,e)}}}},"AA-setFallbackValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=["eVar4","eVar5","eVar9","eVar11","eVar12","eVar13","eVar71","server","eVar7","eVar8","prop13","eVar36","eVar37","eVar38","pageType","prop1","prop2","prop3","prop4","prop5","prop12","prop14","prop15","prop27","prop28","prop29","prop19","prop41","prop42","prop43","prop44","prop45","prop60","prop61","prop63","prop64","prop71","prop74"],t=0;t<e.length;t++)s[e[t]]||(s[e[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(e[t]+",")&&(s.linkTrackVars+=","+e[t]);var a=["eVar6","eVar14","eVar28","eVar29","prop31","prop32","prop33"];for(t=0;t<a.length;t++)s[a[t]]||(s[a[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(a[t]+",")&&(s.linkTrackVars+=","+a[t]);var o=["eVar120","eVar122","eVar123","eVar125"];for(t=0;t<o.length;t++)s[o[t]]||(s[o[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(o[t]+",")&&(s.linkTrackVars+=","+o[t]);var n=["prop6","prop7","prop8","prop9","prop10","prop11","prop17","prop18","prop23","prop40","prop51","prop52","prop53","prop54","prop55","prop56","prop57","prop59","prop69","eVar34","eVar59"];for(t=0;t<=n.length;t++)s[n[t]]||(s[n[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(n[t]+",")&&(s.linkTrackVars+=","+n[t]);var i=["prop24","prop34","prop35","prop36","prop37","prop38","prop39","prop46","prop47","prop48","prop49","prop50","prop65","prop66","prop67","prop72","prop73","eVar18","eVar22","eVar136","eVar137","eVar138","eVar151","eVar152","eVar153","eVar154","eVar155","eVar156","eVar157","eVar158","eVar159","eVar160"];for(t=0;t<=i.length;t++)s[i[t]]||(s[i[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(i[t]+",")&&(s.linkTrackVars+=","+i[t]);var r=["eVar35","eVar39","eVar40","eVar41","eVar42","eVar43","eVar76","eVar77","eVar78","eVar79","eVar132","eVar134","eVar135","eVar142","eVar175","eVar199","campaign","eVar61","eVar63","eVar64","eVar171","eVar172","eVar15","eVar16","eVar17","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar26","eVar27","eVar130","eVar131","eVar133","eVar191","eVar192","eVar193","eVar194","eVar197","eVar199","eVar200","prop75"];for(t=0;t<=r.length;t++)!s[r[t]]||"datalayer field missing"!=s[r[t]]&&"datalayer field empty"!=s[r[t]]||delete s[r[t]]}catch(e){var c={from:"AA",type:"DE",name:"AA-mapAllDimensions"};_satellite.logger.error(e,c)}}}},perfTime_url:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.path):""}catch(e){return _satellite.logger.error("Error in Data Element perfTime_url: "+e),"na"}}}},setUserTypeForReco:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("true"===_satellite.getVar("isAdobeAnalyticsAllowed")){var e,t=_satellite.cookie.get("s_lv_s"),a=window.epaas.api.getPersistence("v_reco_data");e=t&&"First Visit"!==t?"returning":"new",(a=a?JSON.parse(a):{}).user=e,window.epaas.api.setPersistence("v_reco_data",JSON.stringify(a))}}catch(e){_satellite.logger.error(e)}}}},ev_att_componentHeadline:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentHeadline}catch(e){}}}},clearCookies:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e,t=["s_vnum","s_cc","s_getNewRepeat","s_invisit","s_lv","s_lv_s","s_fid","s_sq","s_ptc","s_ppv","at_check","bmwdtm_hq_previouspage_meta","bmwdtm_hq_sid","bmwdtm_hq_cc","bmwdtm_hq_pp","bmwdtm_hq_pcg","bmwdtm_hq_vs","bmwdtm_hq_nav","bmwdtm_hq_epv","bmwdtm_hq_perf","bmwdtm_hq_csevent","bmwdtm_ru_campaign","bmwdtm_MO","AMCV_B52D1CFE5330949C0A490D45%40AdobeOrg","AMCVS_B52D1CFE5330949C0A490D45%40AdobeOrg","c5b3573c15461c7fb62c3c6af53d7ce46d446a36","bmwdtm_za_channel","bmwdtm_za_model","bmwdtm_za_date","bmwdtm_cs_utm","bmwdtm_cs_utm_req","bmwdtm_tr_mayfestProgrammatic","bmwdtm_tr_configuratorLandingTime","bmwdtm_ru_landingTime","bmwdtm_cn_campaigndata","bmwdtm_hq_userdata","bmwdtm_hq_SedanExperience","aam_uuid","mbox","mboxPC","mboxSession","tempNavigation","psyma_participation","daktela_chat_email","daktela_chat_session","daktela_chat_title","_em_t","_em_v","_em_vt","nmfirstparty","_mtruid","__lc.visitor_id","lc_window_state","__telemetric.v","__telemetric.s","bmnet","s3optout","s3timer","s3_AE","s3_AESess","s3_AR","s3_ARSess","s3noae","s3sess","evo5_popin_instance","tdid","cikneeto","cikneeto_uuid","tdid","campaign_complete","impressionsNo","LaSID","LaVisitorId","LaVisitorNew","LaRunningChat","LaUserDetails","LaEventId","gdt_flag","_ym_isad","_ym_uid","bmwdtm_hq_feedbackcomplete","mpt_vid","mpt_opted_out","visitorid","pageViewCount","time_spent","s_ppvl","aam_test","check","_gcl_au","_fbp","campaign_cookie","bmwdtm_HK","ces_status","_ga","IDE","mp_scr_","mp_scr_06","mp_scr_08","mp_scr_11","mp_scr_12","mp_scr_14","mp_scrActions","mp_scrPoints","ActivityInfo2","TargetInfo2","u2","cikneeto","cikneeto_uuid","_kuid_","anj","audience","AWSELB","bkdc","bkpa","bku","C","cid","CMID","CMPRO","CMPS","CMRUM3","CMST","data-rk","dsp_id","mako_uid","ONPLFTRH","pb","pxrc","r1","rlas3","sd-session-id","sec","sid","smd","tuuid","tuuid_lu","uid","um2","uuid2","visitor-id","zync-uuid","__qca","mc","n/a","dsp_id_1","evo5","evo5_BMW","evo5_BMW_popin","ione_MTA4MDYx","ionengagementscore","nmfp_evo5_BMW","nmfp_evo5_BMW_popin","_id","_ss","bs","cas","cdb0","cdb1","cdb2","cdb3","cdbp","d","dct_oba","evo5_CLIENT","evo5_CLIENT_popin","evo5_display","EVO5_MINI","evo5_MINI_popin","EVO5_OPT","evo5_popin_instance","f","iOne_","kanapr","nmfirstparty","nmfp_","nmfp_dsp_id","nmfp_evo5_MINI","nmfp_u","notrack","ss","t","ts","u","mt_misc","mt_mop","uuid","uuidc","TDCPM","TDID","beaconRetry","dtBW","dtcookie","dtLatC","dtPC","dtSa","dtsrE","dtsrTID","dtsrVID","ruxitagent","rxVisitId","rxVisitor","rxvt","MUID","MUIDB","__gads","_dc_gtm_UA-127190505-1","_gaexp","_gat","_gat_gtag_UA_","_gat_UA-","_gid","1P_JAR","eud","euds","glc","NID","rud","ruds","_ga1","_dc_gtm_UA-","1143061:session-data","cmd","eng_mt","rc::a","rc::b","rc::c","Cookie_B","lu","xs","c_user","m_user","pl","dblc","aks","aksb","sfau","ick","s","datr","sb","fr","oo","ddid","_fbc","dpr","gu","lh","L\xe4ndereinstellung","shopping_cart","wd","js_ver","rc","campaign_click_url","Checkpoint","lp","hckd","noscript","m_pixel_ratio","act","sfiu","m_ts","p","reg_ext_ref","ar","next","sW","reg_fb_gate","av","next_path","reg_fb_ref","dnonce","presence","a11y","reg_uniqid","rdir","i_user","x-referer","x-src","i_key","i_id","AA003","ATN","lang","bcookie","bscookie","UserMatchHistory","lidc","personalitation_id","personalization_id","psyma_participation","pageViewCount","usabilla_","time_spent","usbl.","_cs_c","_cs_s","_cs_id","GAD","Gdyn","bmw_chatbot_nlhyperchat_session","UserID1","_pk_uid","TCSess","_s3_cvar.","TCID","_s3_id.","_s3_id.19.","s3optout","_s3_ses.19.","_s3_ref.","_s3_ses.","xdt_143","_s3_ses.97.72cd","_s3_id.97.72cd","bmwdtm_perf","time_spent_adhoc","FACEBOOKWITHOUTANAME","_cs_vars","_cs_ex","_cs_optout","YouTubePlayer","dotaki.id","dotaki.idt","dotaki.time","dotaki.segment","_s3_cvar","_s3_id","_s3_ref","_s3_ses","criteo_cookie_perm","criteo_localstorage_check","criteo_write_test","cto_bundle","cto_clc","cto_idcpy","cto_idfs","cto_lwid","cto_optout","cto_sid","cto_sid_ack","cto_tld_test","eid","opt","optout","r.ack","zdi","unvisited","_em_lt","_em_dmp","_em_ft","_em_c3","_em_pc","_em_scf","_em_gc","_em_vi","_em_mb","baqend-speedkit-ab-test-info"],a=document.cookie.split(";"),o=0;o<a.length;o++)(e=a[o].split("=")[0].substr(1)).indexOf("_s3")>-1&&(t[t.length]=e),e.indexOf("nmfp")>-1&&(t[t.length]=e),e.indexOf("_ym_viso")>-1&&(t[t.length]=e),e.indexOf("_sdsat")>-1&&(t[t.length]=e);function s(){var e=window.location.hostname,t=e.split(".").reverse(),a=t[1]+"."+t[0];return e.indexOf("www.bmw-int4.com")>-1?a=".bmw-int4.com":(e.indexOf(".co.")>-1||e.indexOf(".com.")>-1&&t.length>2)&&(a=t[2]+"."+a),a}var n=s();function i(){for(_satellite.logger.log("Clearing cookies from inside clearCookies data element.."),o=0;o<t.length;o++)_satellite.cookie.remove(t[o]),_satellite.cookie.remove(t[o],{domain:n})}i()}catch(e){var r={from:"AA",type:"DE",name:"clearCookies"};_satellite.logger.error(r,e)}}}},splitConsentEnabled:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("undefined"==typeof epaas){var e=["bmw.de","bmw.co.za","bmw.co.jp","bmw.co.nz","bmw-int5.com","bmw-int4.com","bmw.it","bmw.bg","bmw.hr","bmw.com.cy","bmw.cz","bmw.com.mt","bmw.gr","bmw.hu","bmw.ro","bmw.sk","bmw.si","bmw.be","bmw.lu","bmw.at","bmw.es","bmw.pl","bmw-int6.com","bmw.nl","bmw.fr","bmw.ch","bmw.ie","bmw.lv","bmw.ee","bmw.gp","bmw.mu","bmw.mq","bmw.co.uk","bmw.pt","bmw.re","bmw.is","bmw.lt","bmw.dk","bmw.fi","bmw.se","bmw.no","bmw.co.th","bmw.com.br","bmwbkk.de","bmw.in","bmw.com.mx","adobemc.com","mini.de","mini.it","mini.fr","mini.at","mini.ch","mini.be","mini.lu","mini-int7.com","bmw.co.kr","bmw.com.my"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1?"true":"false"}if(epaas&&epaas.api&&epaas.api.getApiInfo)return epaas.api.getApiInfo().splitConsentManagement?"true":"false"}catch(e){var a={from:"AA",type:"DE",name:"splitConsentEnabled"};_satellite.logger.error(e,a)}}}},isAAMAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AAM;return e.isTrackingAllowed(t).toString()}catch(e){var a={from:"AA",type:"DE",name:"isAAMAllowed"};_satellite.logger.error(e,a)}}}},"AA-componentDefaultValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL").get("pageInstanceId").split("/"),t={primaryCat:"nsc website",subCat:e[6]||"content",componentName:e[7]};switch(t.subCat.toLowerCase()){case"index-prod":t.subCat="content",t.componentName="homepage";break;case"all-models":t.subCat="showroom";break;case"all-models-prod":t.subCat="content",t.componentName="all-models-prod";break;case"topics":t.subCat="topics";break;case"ssl":"requests"===e[7]?(t.subCat="forms",t.componentName="Target: Visitor Reco"===_satellite.getVar("snapshotDL").get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"Target: Visitor Reco":e[8]):t.subCat="content";break;case"stocklocator-prod":t.primaryCat="stock locator",t.componentName="used car stock locator";break;case"usedcar-prod":t.componentName="used car";break;case"rakenna-oma-bmw-prod":case"bygg-din-bmw-prod":t.componentName="configurator all models";break;default:if(RegExp("^[c|k]onf.*prod$").test(t.subCat.toLowerCase()))t.componentName="configurator all models";else{var a=_satellite.getVar("snapshotDL");t.componentName=a.get("component.-1.componentInfo.componentName",t.componentName)}}return t}catch(e){var o={from:"AA",type:"DE",name:"AA-componentDefaultValues"};_satellite.logger.error(e,o)}}}},pa_pag_pageTitle:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.pageInfo.pageTitle}catch(e){}}}},"AA-PagesubCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.category.subCategory01"}}},ev_eve_eventName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventName}catch(e){}}}},geoRegion:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL");if(void 0!==e.page)return e.page.pageInfo.geoRegion;var t=location.hostname;if(t.indexOf("bmwusa.com")>-1)return"US";var a=t.split("."),o=a[a.length-1];return o=o.toUpperCase()}catch(e){}}}},"AAM-containerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("AAM-initConfig");return e&&e.containerNSID||""}catch(e){var t={from:"AA",type:"DE",name:"AAM-containerID"};_satellite.logger.error(e,t)}}}},pr_att_sellingPriceTotal:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,a=e.product[t].attributes.sellingPriceTotal;return""==a&&(a="not set"),a}catch(e){return"not set"}}}},setTronEvent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL"),t=e.get("page.pageInfo.pageName"),a=e.get("page.category.subCategory1",e.get("page.category.subCategory01")),o=e.get("event.eventInfo.eventAction",e.get("event.-1.eventInfo.eventAction")),n=e.get("event.eventInfo.eventName",e.get("event.-1.eventInfo.eventName")),i=e.get("event.eventInfo.type",e.get("event.-1.eventInfo.type")),r=e.get("event.eventInfo.effect",e.get("event.-1.eventInfo.effect")),c=e.get("event.attributes.media.totalLength",e.get("event.-1.attributes.media.totalLength")),d=e.get("event.attributes.media.currentTime",e.get("event.-1.attributes.media.currentTime")),l=e.get("component.category.primaryCategory",e.get("component.-1.category.primaryCategory")),u=e.get("component.componentInfo.componentName",e.get("component.-1.componentInfo.componentName")),m=(e.get("event.category.primaryCategory",e.get("event.-1.category.primaryCategory")),e.get("event.category.subCategory1",e.get("event.-1.category.subCategory1"))),b=e.get("event.category.subCategory2",e.get("event.-1.category.subCategory2")),g=e.get("event.category.subCategory3",e.get("event.-1.category.subCategory3")),f={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]},p=f[a.toLowerCase()],v=f[i.toLowerCase()],h=f[m.toLowerCase()],_=f[b.toLowerCase()],P=f[g.toLowerCase()];r.indexOf("form started")>-1||"Form Start"==n||"Form Start"==t?(s.events=s.apl(s.events,"event3,event4"),null!=P&&(s.events=s.apl(s.events,P[0])),null!=_&&(s.events=s.apl(s.events,_[0])),null!=v&&(s.events=s.apl(s.events,v[0])),null!=p&&(s.events=s.apl(s.events,p[0])),null!=h&&(s.events=s.apl(s.events,h[0]))):r.indexOf("form finished")>-1||"Form Success"==n||"Form Start"==t?(s.events=s.apl(s.events,"event15,event16"),null!=P&&(s.events=s.apl(s.events,P[1])),null!=_&&(s.events=s.apl(s.events,_[1])),null!=v&&(s.events=s.apl(sevents,v[1])),null!=p&&(s.events=s.apl(s.events,p[1])),null!=h&&(s.events=s.apl(s.events,h[1]))):r.indexOf("form start intention")>-1||"First Interaction"==n?s.events=s.apl(s.events,"event5,event6,event917,event918"):r.indexOf("form step")>-1||"Form Step"==n||"Form Step"==t?s.events=s.apl(s.events,"event7,event8"):r.indexOf("form interaction")>-1?s.events=s.apl(s.events,"event9,event10,event917,event918"):r.indexOf("form finish intention")>-1&&(s.events=s.apl(s.events,"event13,event14,event917,event918")),"media started"==o||"video play"==o?s.events=s.apl(s.events,"event351"):"media milestone reached"==o||o.indexOf("reached milestone")>-1?(s.events=s.apl(s.events,"event357="+c),s.events=s.apl(s.events,"event358="+d),r.indexOf("10%")>-1&&(s.events=s.apl(s.events,"event352")),r.indexOf("25%")>-1&&(s.events=s.apl(s.events,"event353")),r.indexOf("50%")>-1&&(s.events=s.apl(s.events,"event354")),r.indexOf("75%")>-1&&(s.events=s.apl(s.events,"event355")),r.indexOf("95%")>-1&&(s.events=s.apl(s.events,"event356"))):"media finished"!=o&&"video stop"!=o||(s.events=s.apl(s.events,"event359"));var j={"e-mail":["event901, event902"],download:["event903, event904"],share:["event905, event906"],call:["event913, event914"],print:["event915, event916"]}[o.toLowerCase()];null!=j&&(s.events=s.apl(s.events,j[0])),"interaction"==n&&(s.events=s.apl(s.events,"event917,event918")),"configurations"==l&&"visualizer"==u&&("user started configuration"==r&&(s.events=s.apl(s.events,"event311,event312")),"interaction"==n&&(s.events=s.apl(s.events,"event313,event314")),"user finished configuration"==r&&(s.events=s.apl(s.events,"event315,event316"))),s.linkTrackEvents+=s.events,s.linkTrackVars+="events"}catch(e){var y={from:"AA",type:"DE",name:"setTronEvent"};_satellite.logger.error(e,y)}}}},hierarchyEvar:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),a=_satellite.getVar("jcrPathLevel3"),o=_satellite.getVar("pageName"),s=_satellite.getVar("pa_pag_pageName"),n=[e,t,a],i=3;a.indexOf("None")>-1&&(i=2),t.indexOf("None")>-1&&(i=1),e.indexOf("None")>-1&&(i=0);for(var r="",c=0;c<i;c++){for(var d="",l=0;l<=c;l++)d+=n[l]+" > ";r+=(d=d.substring(0,d.length-3))+"|"}for(c=i;c<3;c++)r+=d+"|";return r+=o,r+="|"+s}catch(e){}}}},"Trigger-AnalyticsConsentChangeEvent":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var e,t="re-trigger";"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),document.body.dispatchEvent(e)}catch(e){var a={from:"AA",type:"DE",name:"Trigger-AnalyticsConsentChangeEvent"};_satellite.logger.error(e,a)}}}}},"AAM-hashedemail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.toString(),t=new URL(e).searchParams.get("hemaid");if(null!=t)return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},smartPreviousValueManager:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e="bmwdtm_hq_previouspage_meta";function t(){var t=_satellite.getVar("KIT-helpers").cache;this.init=function(a){var o=t.get(e);if(!o){for(var s in o={},a)a.hasOwnProperty(s)&&(o[s]={value:a[s],valueAfterVirtualPageLoad:void 0});t.set(e,o)}},this.update=function(a,o){var s=t.get(e);s[a]=s[a]||{value:void 0},s[a].valueAfterVirtualPageLoad&&(s[a].value=s[a].valueAfterVirtualPageLoad),s[a].valueAfterVirtualPageLoad=o,t.set(e,s)},this.get=function(a){var o=t.get(e);return"object"==typeof o[a]?o[a].value:void 0},this.saveDeferredObject=function(a){t.set(e+"_deferred",a)},this.getDeferredObject=function(){return t.get(e+"_deferred")||{}}}function a(){var t=_satellite.cookie;this.get=function(t){var a={};try{a=JSON.parse(window.decodeURIComponent(_satellite.cookie.get(e)||"{}"))}catch(e){}return t?a[t]:a},this.update=function(a,o){var s=this.get();if(s[a]=o,!1===t.set(e,window.encodeURIComponent(JSON.stringify(s)),{domain:_satellite.getVar("topLevelDomain"),expires:18e5/864e5})||"false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1},this.saveDeferredObject=function(e){for(var t in e)e.hasOwnProperty(t)&&this.update(t,e[t])}}function o(e,t){t.init(e.get()),this.update=function(a,o,s){if(s&&t.update(a,o),!1===e.update(a,o)){var n=t.getDeferredObject();n[a]=o,t.saveDeferredObject(n)}},this.get=function(e){return t.get(e)},this.saveDeferredObject=function(){e.saveDeferredObject(t.getDeferredObject())}}return new o(new a,new t)}catch(e){var s={from:"AA",type:"DE",name:"smartPreviousValueManager"};_satellite.logger.error(e,s)}}}},"AA-AEMpageDL":{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){"use strict";class e{constructor(t,a){this.data={},this.defaultv=a,"object"==typeof t&&t instanceof e==0?Array.isArray(t)&&t.length>0?t.forEach((function(e){this.data=Object.assign(this.data,JSON.parse(JSON.stringify(e)))})):this.data=Object.assign({},JSON.parse(JSON.stringify(t))):"object"==typeof t&&t instanceof e==1&&(this.data=Object.assign({},JSON.parse(JSON.stringify(t.data))))}get(e,t){if(void 0===e||""==e)return this.data;if("string"==typeof e){for(var a=e.split("."),o=this.data,s=0;s<a.length&&null!=o;s++)o=Array.isArray(o)&&Math.abs(parseInt(a[s]))<=o.length?parseInt(a[s])<0?o[o.length-Math.abs(parseInt(a[s]))]:o[parseInt(a[s])]:Array.isArray(o)&&Math.abs(parseInt(a[s]))>o.length?t||this.defaultv||void 0:o[a[s]];return o||t||this.defaultv||void 0}}assign(e,t){if(void 0===t&&(t={}),void 0!==e&&""!=e&&"string"==typeof e)for(var a=e.split("."),o=this.data,s=0;s<a.length&&null!=o;s++)if("string"==typeof a[s]&&1==isNaN(a[s]))if(Object(o).hasOwnProperty(a[s]))s==a.length-1?Array.isArray(o[a[s]])?o[a[s]].push(t):o[a[s]]=t:("string"==typeof o[a[s]]&&(o[a[s]]={}),o=o[a[s]]);else if(s==a.length-1){if("object"!=typeof o)return;o[a[s]]=t}else isNaN(a[s+1])?o[a[s]]={}:o[a[s]]=[],o=o[a[s]];else"string"==typeof a[s]&&0==isNaN(a[s])&&(Array.isArray(o)&&Math.abs(a[s])<o.length?s==a.length-1?o[a[s]]=t:o=o[a[s]]:Array.isArray(o)&&a[s]>=o.length&&(s==a.length-1?o.push(t):(o.push({}),o=o[o.length-1])));else"object"==typeof e&&(this.data=Object.assign(this.data,e));return this.data}merge(e,t){if(void 0===t||""==t)return this.data=Object.assign(this.data,JSON.parse(JSON.stringify(e))),this.data;for(var a=t.split("."),o=this.data,s=0;s<a.length&&null!=o;s++)o=Array.isArray(o)&&Math.abs(parseInt(a[s]))<=o.length?parseInt(a[s])<0?o[o.length-Math.abs(parseInt(a[s]))]:o[parseInt(a[s])]:Array.isArray(o)&&Math.abs(parseInt(a[s]))>o.length?this.defaultv||void 0:o[a[s]];if(void 0!==o||o!=this.defaultv){if(Array.isArray(o)&&Array.isArray(e))e.forEach((function(e){o.push(e)}));else{var n=Object.assign(o,JSON.parse(JSON.stringify(e)));this.data=this.assign(t,n)}return this.data}}remove(e,t){if(void 0===t&&(t=!1),""==e||void 0===e)this.clear();else for(var a=e.split("."),o=this.data,s=0;s<a.length&&null!=o;s++)if("string"==typeof a[s]&&1==isNaN(a[s])){if(!Object(o).hasOwnProperty(a[s]))return this.data;s==a.length-1?"object"==typeof o[a[s]]||t?delete o[a[s]]:o[a[s]]=void 0:o=o[a[s]]}else if("string"==typeof a[s]&&0==isNaN(a[s])){if(!(Array.isArray(o)&&Math.abs(a[s])<o.length))return this.data;if(s==a.length-1)return o.splice(a[s],1),this.data;o=o[a[s]]}}clear(){this.data={}}}window.pageInfo=window.pageInfo||new e({},"datalayer field empty"),pageInfo.assign("pageInstanceId",_satellite.getVar("snapshotDL").get("pageInstanceId")),pageInfo.assign("pageType",_satellite.getVar("snapshotDL").get("page.category.pageType")),pageInfo.assign("pageVersion",_satellite.getVar("snapshotDL").get("page.pageInfo.version")),pageInfo.assign("sysEnv",_satellite.getVar("snapshotDL").get("page.pageInfo.devEnv")),pageInfo.assign("vehicleBodyType",_satellite.getVar("snapshotDL").get("product.0.attributes.bodyType")),pageInfo.assign("vehicleMmdrVG",_satellite.getVar("snapshotDL").get("product.0.attributes.mmdr")),pageInfo.assign("userLoginStatus",_satellite.getVar("snapshotDL").get("user.0.segment.logged")),"undefined"!=pageInfo.data&&console.log("\ud83e\udd13 \ud83d\udce5%cAEM page data layer: dynamic parameters received from AEM page%c \ud83e\udde9","color:darkblue; font-size:12px; font-weight:bold; background:yellow","");let t=pageInfo.data.pageInstanceId;const a=t.split("/");let o=a.length,s=a[2],n=a[3].slice(6),i=a[5].slice(0,2),r=a[6],c=a[7]||"datalayer field empty",d=a[8]||"datalayer field empty",l=a[9]||"datalayer field empty",u=a[o-1];return 7===o&&(r="homepage",c="content",u="homepage"),"all-models"===r&&(r="showroom"),"showroom"==r&&8===o&&(r="series overview"),1==n.length>2&&(n="global"),"UK"===n&&(n="GB"),console.log("\ud83e\udd13 \u2702\ufe0f %cAEM page data layer: values defined based on pageInstanceId%c \ud83e\udde9","color:darkblue; font-size:12px; font-weight:bold; background:yellow",""),window.AEMpageDL=window.AEMpageDL||new e({},"datalayer field empty"),"datalayer field missing"!==t?(AEMpageDL.assign("page.category.pageType",pageInfo.data.pageType.toLowerCase()),AEMpageDL.assign("page.category.primaryCategory",r.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.category.subCategory1",c.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.category.subCategory2",d.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.category.subCategory3",l.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.pageInfo.author","aem page template"),AEMpageDL.assign("page.pageInfo.destinationURL",window.location.href),AEMpageDL.assign("page.pageInfo.geoRegion",n.toUpperCase()),AEMpageDL.assign("page.pageInfo.language",i.toLowerCase()),AEMpageDL.assign("page.pageInfo.pageID",pageInfo.data.pageInstanceId.toLowerCase()),AEMpageDL.assign("page.pageInfo.pageName",u.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.pageInfo.referringURL",document.referrer),AEMpageDL.assign("page.pageInfo.sysEnv",pageInfo.data.sysEnv.toLowerCase()),AEMpageDL.assign("page.pageInfo.variant","real page"),AEMpageDL.assign("page.pageInfo.version","fusion: "+pageInfo.data.pageVersion),AEMpageDL.assign("page.attributes.brand",s.toLowerCase()),AEMpageDL.assign("page.attributes.pageTitle",document.title.toLowerCase()),AEMpageDL.assign("page.attributes.timeStamp",Date.now()),console.log("\ud83e\udd13 \u2714\ufe0f %cAEM page data layer : page object built%c \ud83e\udde9","color:darkgreen; font-size:12px; font-weight:bold; background:yellow","")):console.log("\ud83d\ude22 \u274c %cAEM page data layer : page instance ID missing%c \ud83e\udde9","color:red; font-size:12px; font-weight:bold; background:yellow",""),"showroom"==r&&"undefined"!==pageInfo.data.vehicleMmdrVG?(AEMpageDL.assign("product.0.attributes.bodyType",pageInfo.data.vehicleBodyType),AEMpageDL.assign("product.0.attributes.mmdr",pageInfo.data.vehicleMmdrVG),AEMpageDL.assign("product.0.category.productType","new vehicle"),AEMpageDL.assign("product.0.category.primaryCategory","new car"),AEMpageDL.assign("product.0.category.subCategroy1","showroom"),console.log("\ud83e\udd13 \u2714\ufe0f %cAEM page data layer : some product information received%c \ud83e\udde9","color:darkgreen; font-size:12px; font-weight:bold; background:yellow","")):console.log("\ud83d\ude22 \u274c %cAEM page data layer : no product data available%c \ud83e\udde9","color:red; font-size:12px; font-weight:bold; background:yellow",""),"datalayer field missing"!==pageInfo.data.userLoginStatus?(AEMpageDL.assign("user.0.profile.0.attributes.loggedInStatus",pageInfo.data.userLoginStatus.toLowerCase()),console.log("\ud83e\udd13 \u2714\ufe0f %cAEM page data layer : user login status received%c \ud83e\udde9","color:darkgreen; font-size:12px; font-weight:bold; background:yellow","")):console.log("\ud83d\ude22 \u274c %cAEM page data layer : user login status unknown%c \ud83e\udde9","color:red; font-size:12px; font-weight:bold; background:yellow",""),AEMpageDL.data}}},snapshotDL:{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js",settings:{dataLayerSnapshot:null}},"AA-currencyCode":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("currencyCode"))return e.get("currencyCode");var t={"bmw.co.za":"ZAR","bmw.com.ar":"ARS","bmw.at":"EUR","bmw.com.au":"AUD","bmw.be":"EUR","bmw.bg":"BGN","bmw.com.br":"BRL","bmw.ca":"CAD","bmw.ch":"CHF","bmw.com.cn":"CNY","bmw.cz":"CZK","bmw.de":"EUR","bmw.dk":"DKK","bmw.es":"EUR","bmw.fi":"EUR","bmw.fr":"EUR","bmw.co.uk":"GBP","bmw.gr":"EUR","bmw.hu":"HUF","bmw.co.id":"IDR","bmw.ie":"EUR","bmw.in":"INR","bmw.is":"ISK","bmw.it":"EUR","bmw.co.jp":"JPY","bmw.co.kr":"KRW","bmw.lu":"EUR","bmw.com.mx":"MXN","bmw.com.my":"MYR","bmw.nl":"EUR","bmw.no":"NOK","bmw.co.nz":"NZD","bmw.pl":"PLN","bmw.pt":"EUR","bmw.ro":"RON","bmw.ru":"RUB","bmw.se":"SEK","bmw.si":"EUR","bmw.sk":"EUR\t","bmw.co.th":"THB","bmw.com.sg":"SGD","bmw.com/en-au":"AUD","mini.de":"EUR","mini.fr":"EUR","mini.it":"EUR","mini.ch":"CHF","mini.at":"EUR"},a=t[_satellite.getVar("topLevelDomain")]||t[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"EUR";return e.set("currencyCode",a),a}catch(e){var o={from:"AA",type:"DE",name:"AA-currencycode"};_satellite.logger.error(e,o)}}}},jcrPathLevel2:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_cat_subCategory01"),a=_satellite.getVar("pa_cat_primaryCategory"),o=e.split("/"),s=2;if((s=s+6-1)<o.length)var n=o[s];else n="None";return e.indexOf("/configurator")>-1&&(n="Configurator Page"),"VCO"===a&&(n=t),n}catch(e){}}}},productBuilder:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){this.id=void 0,this.category=void 0,this.merchEvars={},this.events=[],this.quantity=void 0,this.price=void 0,this.load=[]};return e.prototype.toString=function(){try{var e="";for(var t in this.merchEvars)Object.prototype.hasOwnProperty.call(this.merchEvars,t)&&(-1!=_satellite.getVar("AA-Exclusionlist").indexOf(t)?e+=t+"="+String(this.merchEvars[t]||"").replaceAll(/[,]/g," ")+"|":e+=t+"="+String((this.merchEvars[t].toString()||"").toLowerCase()).replaceAll(/[,]/g," ")+"|");e.length&&(e=e.substring(0,e.length-1));var a=this.category||"";a+=";"+(this.id||""),a+=";"+(this.quantity||""),a+=";"+(this.price||""),a+=";"+(this.events?Array.isArray(this.events)?this.events.join("|"):this.events:""),a+=";"+(e||"");for(var o="",s=0;s<this.load.length;s++)o+=","+this.load[s].toString();return a+=o}catch(e){var n={from:"AA",type:"DE",name:"productBuilder->toString"};_satellite.logger.error(e,n)}},e.prototype.append=function(e){if(Array.isArray(e))this.load=this.load.concat(e);else{if("object"!=typeof e)throw new Error("Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances");this.load.push(e)}},new e}catch(e){var t={from:"AA",type:"DE",name:"productBuilder"};_satellite.logger.error(e,t)}}}},campaign:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tl",caseInsensitive:!0}},pa_pag_language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.language,t=_satellite.getVar("topLevelDomain");return"bmw-m.com"!=t&&"bmw.com"!=t&&"bmw-yachtsport.com"!=t&&"bmw-motorsport.com"!=t&&"bmw-golfsport.com"!=t&&"bmw-special-sales.com"!=t&&"bmwbkk.de"!=t||(e=e.split("-")[0]+"-HQ"),e}catch(e){}}}},"AA-eventType":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.type"}}},ev_eve_cause:{defaultValue:"",storageDuration:"pageview",
modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.cause}catch(e){}}}},searchDefaultProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"eVar10=datalayer field empty|eVar44=datalayer field missing|eVar45=datalayer field missing|eVar46=datalayer field missing|eVar47=datalayer field missing|eVar48=datalayer field missing|eVar49=datalayer field missing|eVar50=datalayer field missing|eVar51=datalayer field missing|eVar52=datalayer field missing|eVar53=datalayer field missing|eVar54=datalayer field missing|eVar55=datalayer field missing|eVar56=datalayer field missing|eVar57=datalayer field missing|eVar58=datalayer field missing|eVar65=datalayer field missing|eVar66=datalayer field missing|eVar69=datalayer field missing|eVar121=datalayer field missing|eVar124=datalayer field missing|eVar126=datalayer field missing|"}}},setProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){for(var a=[],o=0;o<e.length;o++)-1===t.indexOf(e[o])&&a.push(e[o]);return a}function t(e){return e.indexOf("gasoline")>-1?e.indexOf("hybrid")>-1?"x":"o":e.indexOf("diesel")>-1?e.indexOf("hybrid")>-1?"y":"d":e.indexOf("electric")>-1?"e":e.indexOf("petrol")>-1?"b":e}return function(a){var o=["new vehicle","used vehicle","service","search","after sales","other"];try{var s,n=_satellite.getVar("snapshotDL"),i="",r=(n.get("product"),{});for(var c in n.get("product"))isNaN(+c)||(r[n.get("product."+c+".productInfo.productID")]=c,"vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(s=c,n.get("product."+c+".productInfo.productID")),"new vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(s=c,n.get("product."+c+".productInfo.productID")),"used vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(s=c,n.get("product."+c+".productInfo.productID")));var d={product:{}};for(var c in n.get("product"))isNaN(+c)||(d.product[n.get("product."+c+".productInfo.productID")]={},d.product[n.get("product."+c+".productInfo.productID")]=n.get("product."+c));var l=Object.keys(d.product);for(var u in n.get("cart"),d.cart={},n.get("cart.item"))isNaN(+u)||"datalayer field missing"!=n.get("cart.item."+u+".productInfo.productID")&&"datalayer field empty"!=n.get("cart.item."+u+".productInfo.productID")&&(d.cart[n.get("cart.item."+u+".productInfo.productID")]={},d.cart[n.get("cart.item."+u+".productInfo.productID")]=n.get("cart.item."+u));var m=Object.keys(d.cart);for(var b in n.get("transaction"),d.transaction={},n.get("transaction.-1.item"))isNaN(+u)||"datalayer field missing"!=n.get("transaction.-1.item."+b+".productInfo.productID")&&"datalayer field empty"!=n.get("transaction.-1.item."+b+".productInfo.productID")&&(d.transaction[n.get("transaction.-1.item."+b+".productInfo.productID")]={},d.transaction[n.get("transaction.-1.item."+b+".productInfo.productID")]=n.get("transaction.-1.item."+b));var g=Object.keys(d.transaction);if(n.get("product").length>0)for(var f in n.get("product"))if(!isNaN(+f)){var p=_satellite.getVar("productBuilder"),v=n.get("product."+f+".category.productType"),h=n.get("product."+f+".productInfo.productID",n.get("product."+f+".attributes.mmdr"));p.id=h,o.indexOf(v)>-1?p.category=v:p.category="datalayer field missing";var _=+(((d.cart[h]||"").price||"").voucherDiscount||"0"),P=+(((d.cart[h]||"").price||"").priceWithTax||"0"),j=+n.get("transaction.-1.total.voucherDiscount","0"),y=+n.get("transaction.-1.total.priceWithTax","0"),C=n.get("product."+f+".attributes.mmdr",n.get("product."+f+".attributes.internalCode")),w=n.get("product."+f+".attributes.mmdrVG",n.get("product."+f+".attributes.internalCode")),R=n.get("product."+f+".attributes.modelCode");if(eVar10="G26E"==C||"G26E"==w||"71AW"==R||"31AW"==R?"G26E":"G70E"==C||"G70E"==w?"G70E":n.get("product."+f+".attributes.mmdr",n.get("product."+f+".attributes.internalCode")),"vehicle"==v||"new vehicle"==v||"used vehicle"==v){var x=t(n.get("product."+f+".attributes.fuelType"));p.merchEvars={eVar10:eVar10,eVar44:n.get("product."+f+".attributes.productionYear"),eVar45:n.get("product."+f+".attributes.yearOfRegistration"),eVar46:n.get("product."+f+".attributes.vehicleStatus",n.get("product."+f+".attributes.vehicleSelection")),eVar47:n.get("product."+f+".productInfo.color"),eVar48:n.get("product."+f+".attributes.modelCode"),eVar49:n.get("product."+f+".attributes.gearing"),eVar50:n.get("product."+f+".attributes.series"),eVar51:n.get("product."+f+".attributes.bodyType"),eVar52:n.get("product."+f+".productInfo.productName",n.get("product."+f+".attributes.modelName")),eVar53:"model_navigation_hp"==n.get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"new car":n.get("product."+f+".category.primaryCategory"),eVar54:n.get("product."+f+".category.subCategory1"),eVar55:n.get("product."+f+".category.subCategory2"),eVar56:x,eVar57:n.get("product."+f+".attributes.hybridVersion"),eVar58:n.get("product."+f+".attributes.motorization",n.get("product."+f+".attributes.engine")),eVar59:n.get("product."+f+".attributes.configID",n.get("product."+f+".attributes.configLink")),eVar60:n.get("product."+f+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+f+".attributes.modelName"),eVar66:n.get("product."+f+".attributes.trimLevel"),eVar69:n.get("product."+f+".attributes.modelCodeAG"),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")};var k=["event801="+ +n.get("product."+f+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+f+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+f+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+f+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+f+".attributes.fin.term","0"),"event806="+ +n.get("product."+f+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")];p.events=k,p.quantity=(d.cart[h]||"").quantity||"0",p.price=((d.cart[h]||"").price||"").priceWithTax||"0",a.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")}else"Related Service / Finance"==v||"service"==v?(x=t(n.get("product."+s+".attributes.fuelType",n.get("product."+f+".attributes.fuelType"))),p.merchEvars={eVar52:n.get("product."+f+".productInfo.productName"),eVar53:n.get("product."+f+".category.primaryCategory"),eVar54:n.get("product."+f+".category.subCategory1"),eVar55:n.get("product."+f+".category.subCategory2"),eVar84:n.get("product."+f+".attributes.fin.downPayment"),eVar85:n.get("product."+f+".attributes.fin.mileage"),eVar86:n.get("product."+f+".attributes.fin.monthlyPayment"),eVar87:n.get("product."+f+".attributes.fin.term"),eVar10:n.get("product."+s+".attributes.mmdr",n.get("product."+s+".attributes.internalCode",n.get("product."+f+".attributes.mmdr",n.get("product."+f+".attributes.internalCode")))),eVar44:n.get("product."+s+".attributes.productionYear",n.get("product."+f+".attributes.productionYear")),eVar45:n.get("product."+s+".attributes.yearOfRegistration",n.get("product."+f+".attributes.yearOfRegistration")),eVar46:n.get("product."+s+".attributes.vehicleStatus",n.get("product."+s+".attributes.vehicleSelection",n.get("product."+f+".attributes.vehicleStatus",n.get("product."+f+".attributes.vehicleSelection")))),eVar47:n.get("product."+s+".productInfo.color",n.get("product."+f+".productInfo.color")),eVar48:n.get("product."+s+".attributes.modelCode",n.get("product."+f+".attributes.modelCode")),eVar49:n.get("product."+s+".attributes.gearing",n.get("product."+f+".attributes.gearing")),eVar50:n.get("product."+s+".attributes.series",n.get("product."+f+".attributes.series")),eVar51:n.get("product."+s+".attributes.bodyType",n.get("product."+f+".attributes.bodyType")),eVar56:x,eVar57:n.get("product."+s+".attributes.hybridVersion",n.get("product."+f+".attributes.hybridVersion")),eVar58:n.get("product."+s+".attributes.motorization",n.get("product."+s+".attributes.engine",n.get("product."+f+".attributes.motorization",n.get("product."+f+".attributes.engine")))),eVar59:n.get("product."+s+".attributes.configID",n.get("product."+s+".attributes.configLink",n.get("product."+f+".attributes.configID",n.get("product."+f+".attributes.configLink")))),eVar60:n.get("product."+s+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+s+".attributes.modelName",n.get("product."+f+".attributes.modelName")),eVar66:n.get("product."+s+".attributes.trimLevel",n.get("product."+f+".attributes.trimLevel")),eVar69:n.get("product."+s+".attributes.modelCodeAG",n.get("product."+f+".attributes.modelCodeAG")),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event801="+ +n.get("product."+f+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+f+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+f+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+f+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+f+".attributes.fin.term","0"),"event806="+ +n.get("product."+f+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")],p.events=k,p.quantity=(d.cart[h]||"").quantity||"0",p.price=((d.cart[h]||"").price||"").priceWithTax||"0",a.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(x=t(n.get("product."+s+".attributes.fuelType",n.get("product."+f+".attributes.fuelType"))),p.merchEvars={eVar52:n.get("product."+f+".productInfo.productName"),eVar53:n.get("product."+f+".category.primaryCategory"),eVar54:n.get("product."+f+".category.subCategory1"),eVar55:n.get("product."+f+".category.subCategory2"),eVar10:n.get("product."+s+".attributes.mmdr",n.get("product."+s+".attributes.internalCode",n.get("product."+f+".attributes.mmdr",n.get("product."+f+".attributes.internalCode")))),eVar44:n.get("product."+s+".attributes.productionYear",n.get("product."+f+".attributes.productionYear")),eVar45:n.get("product."+s+".attributes.yearOfRegistration",n.get("product."+f+".attributes.yearOfRegistration")),eVar46:n.get("product."+s+".attributes.vehicleStatus",n.get("product."+s+".attributes.vehicleSelection",n.get("product."+f+".attributes.vehicleStatus",n.get("product."+f+".attributes.vehicleSelection")))),eVar47:n.get("product."+s+".productInfo.color",n.get("product."+f+".productInfo.color")),eVar48:n.get("product."+s+".attributes.modelCode",n.get("product."+f+".attributes.modelCode")),eVar49:n.get("product."+s+".attributes.gearing",n.get("product."+f+".attributes.gearing")),eVar50:n.get("product."+s+".attributes.series",n.get("product."+f+".attributes.series")),eVar51:n.get("product."+s+".attributes.bodyType",n.get("product."+f+".attributes.bodyType")),eVar56:x,eVar57:n.get("product."+s+".attributes.hybridVersion",n.get("product."+f+".attributes.hybridVersion")),eVar58:n.get("product."+s+".attributes.motorization",n.get("product."+s+".attributes.engine",n.get("product."+f+".attributes.motorization",n.get("product."+f+".attributes.engine")))),eVar59:n.get("product."+s+".attributes.configID",n.get("product."+s+".attributes.configLink",n.get("product."+f+".attributes.configID",n.get("product."+f+".attributes.configLink")))),eVar60:n.get("product."+s+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+s+".attributes.modelName",n.get("product."+f+".attributes.modelName")),eVar66:n.get("product."+s+".attributes.trimLevel",n.get("product."+f+".attributes.trimLevel")),eVar69:n.get("product."+s+".attributes.modelCodeAG",n.get("product."+f+".attributes.modelCodeAG")),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event801="+ +n.get("product."+f+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+f+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+f+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+f+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+f+".attributes.fin.term","0"),"event806="+ +n.get("product."+f+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")],p.events=k,p.quantity=(d.cart[h]||"").quantity||"0",p.price=((d.cart[h]||"").price||"").priceWithTax||"0",a.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858"));"vehicle"==v&&"new car"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="new vehicle"),"vehicle"==v&&"new bike"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="new vehicle"),"vehicle"==v&&"used car"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="used vehicle"),"vehicle"==v&&"used bike"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="used vehicle"),"accessory"==v&&"accessory configurator"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="after sales"),"service"==v&&"oneshop"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="after sales"),"online appointment scheduler"==a.prop19&&(p.category="after sales",a.eVar53="online appointment scheduler"),i+=p.toString()+","}var T=e(m,l);if(T&&T.length>0){var E={};for(var c in T)if(!isNaN(+c))for(var u in n.get("cart.item"))isNaN(+u)||T[c]==n.get("cart.item."+u+".productInfo.productID")&&(E[T[c]]=u);for(var f in T)isNaN(+f)||(p=_satellite.getVar("productBuilder"),v=n.get("cart.item."+E[T[f]]+".category.productType"),h=n.get("cart.item."+E[T[f]]+".productInfo.productID"),p.id=h,o.indexOf(v)>-1?p.category=v:p.category="datalayer field missing",_=+n.get("cart.item."+E[T[f]]+".price.voucherDiscount","0"),P=+n.get("cart.item."+E[T[f]]+".price.priceWithTax","0"),j=+n.get("transaction.-1.total.voucherDiscount","0"),y=+n.get("transaction.-1.total.priceWithTax","0"),"vehicle"==v||"new vehicle"==v||"used vehicle"==v||"Related Service / Finance"==v||"service"==v?(x=t(n.get("product."+r[h]+".attributes.fuelType")),p.merchEvars={eVar52:n.get("cart.item."+E[T[f]]+".productInfo.productName"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:x,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+E[T[f]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+E[T[f]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event831="+n.get("cart.item."+E[T[f]]+".price.basePrice","0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+n.get("cart.item."+E[T[f]]+".price.taxRate","0"),"event835="+n.get("cart.item."+E[T[f]]+".price.taxRate","0"),"event836="+n.get("cart.item."+E[T[f]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+E[T[f]]+".quantity","0")],p.events=k,p.quantity=n.get("cart.item."+E[T[f]]+".quantity","0"),p.price=n.get("cart.item."+E[T[f]]+".price.priceWithTax","0"),a.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(x=t(n.get("product."+r[h]+".attributes.fuelType")),p.merchEvars={eVar52:n.get("cart.item."+E[T[f]]+".productInfo.productName"),eVar53:n.get("cart.item."+E[T[f]]+".category.primaryCategory"),eVar54:n.get("cart.item."+E[T[f]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:x,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+E[T[f]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+E[T[f]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event831="+n.get("cart.item."+E[T[f]]+".price.basePrice","0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+n.get("cart.item."+E[T[f]]+".price.taxRate","0"),"event835="+n.get("cart.item."+E[T[f]]+".price.taxRate","0"),"event836="+n.get("cart.item."+E[T[f]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+E[T[f]]+".quantity","0")],p.events=k,p.quantity=n.get("cart.item."+E[T[f]]+".quantity","0"),p.price=n.get("cart.item."+E[T[f]]+".price.priceWithTax","0"),a.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event831,event832,event833,event834,event835,event836,event837,event858")),"vehicle"==v&&"new car"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="new vehicle"),"vehicle"==v&&"new bike"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="new vehicle"),"vehicle"==v&&"used car"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="used vehicle"),"vehicle"==v&&"used bike"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="used vehicle"),"accessory"==v&&"accessory configurator"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="after sales"),"service"==v&&"oneshop"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="after sales"),"online appointment scheduler"==a.prop19&&(p.category="after sales",a.eVar53="online appointment scheduler"),i+=p.toString()+",")}var I=e(g,l);if(I&&I.length>0){var A={};for(var c in I)if(!isNaN(+c))for(var u in n.get("transaction.-1.item"))isNaN(+u)||I[c]==n.get("transaction.-1.item."+u+".productInfo.productID")&&(A[I[c]]=u);for(var f in I)isNaN(+f)||(p=_satellite.getVar("productBuilder"),v=n.get("transaction.-1.item."+A[I[f]]+".category.productType"),h=n.get("transaction.-1.item."+A[I[f]]+".productInfo.productID"),p.id=h,o.indexOf(v)>-1?p.category=v:p.category="datalayer field missing",_=+n.get("transaction.-1.item."+A[I[f]]+".price.voucherDiscount","0"),P=+n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),j=+n.get("transaction.-1.total.voucherDiscount","0"),y=+n.get("transaction.-1.total.priceWithTax","0"),"vehicle"==v||"new vehicle"==v||"used vehicle"==v?(x=t(n.get("product."+r[h]+".attributes.fuelType")),p.merchEvars={eVar52:n.get("transaction.-1.item."+A[I[f]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+A[I[f]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+A[I[f]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:x,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+A[I[f]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+A[I[f]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event831="+n.get("transaction.-1.item."+A[I[f]]+".price.basePrice","0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+n.get("transaction.-1.item."+A[I[f]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+A[I[f]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+A[I[f]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+A[I[f]]+".quantity","0")],p.events=k,p.quantity=n.get("transaction.-1.item."+A[I[f]]+".quantity","0"),p.price=n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),a.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Related Service / Finance"==v||"service"==v?(x=t(n.get("product."+r[h]+".attributes.fuelType")),p.merchEvars={eVar52:n.get("transaction.-1.item."+A[I[f]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+A[I[f]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+A[I[f]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:x,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+A[I[f]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+A[I[f]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event831="+n.get("transaction.-1.item."+A[I[f]]+".price.basePrice","0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+n.get("transaction.-1.item."+A[I[f]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+A[I[f]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+A[I[f]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0")],p.events=k,p.quantity=n.get("transaction.-1.item."+A[I[f]]+".quantity","0"),p.price=n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),a.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(x=t(n.get("product."+r[h]+".attributes.fuelType")),p.merchEvars={eVar52:n.get("transaction.-1.item."+A[I[f]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+A[I[f]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+A[I[f]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:x,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+A[I[f]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+A[I[f]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},k=["event831="+n.get("transaction.-1.item."+A[I[f]]+".price.basePrice","0"),"event832="+(_<0?+ +P*_/P:_),"event833="+(_<0?+P*_:_),"event834="+n.get("transaction.-1.item."+A[I[f]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+A[I[f]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+A[I[f]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0")],p.events=k,p.quantity=n.get("transaction.-1.item."+A[I[f]]+".quantity","0"),p.price=n.get("transaction.-1.item."+A[I[f]]+".price.priceWithTax","0"),a.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(a.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",a.events+=",event831,event832,event833,event834,event835,event836,event837,event858")),"vehicle"==v&&"new car"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="new vehicle"),"vehicle"==v&&"new bike"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="new vehicle"),"vehicle"==v&&"used car"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="used vehicle"),"vehicle"==v&&"used bike"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="used vehicle"),"accessory"==v&&"accessory configurator"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="after sales"),"service"==v&&"oneshop"==getDatalayerValue("product."+f+".category.primaryCategory")&&(p.category="after sales"),"online appointment scheduler"==a.prop19&&(p.category="after sales",a.eVar53="online appointment scheduler"),i+=p.toString()+",")}
null!=a.products?a.products+=i.slice(0,-1):a.products=i.slice(0,-1),"undefined"!=a.products&&(a.linkTrackVars+="products,"),a.events=a.apl(a.events,"event841="+n.get("cart.price.basePrice",n.get("transaction.-1.total.basePrice","0")),",",1),"datalayer field empty"!=n.get("transaction.-1.total.taxRate")&&"datalayer field missing"!=n.get("transaction.-1.total.taxRate")?(a.events=a.apl(a.events,"event842="+((j<0?+ +y*j/y:j)||"0"),",",1),a.events=a.apl(a.events,"event843="+((j<0?+y*j:j)||"0"),",",1)):(a.events=a.apl(a.events,"event842="+((_<0?+ +P*_/P:_)||"0"),",",1),a.events=a.apl(a.events,"event843="+((_<0?+P*_:_)||"0"),",",1)),a.events=a.apl(a.events,"event844="+n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate","0")),",",1),a.events=a.apl(a.events,"event845="+n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate","0")),",",1),a.events=a.apl(a.events,"event846="+n.get("cart.price.priceWithTax",n.get("transaction.-1.total.priceWithTax","0")),",",1),a.events=a.apl(a.events,"event847="+n.get("cart.price.shipping",n.get("transaction.-1.total.shipping","0")),",",1),a.events=a.apl(a.events,"event848="+n.get("cart.price.cartTotal",n.get("transaction.-1.total.transactionTotal","0")),",",1),a.eVar120=n.get("cart.cartID"),a.eVar122=n.get("page.attributes.currencyCode",n.get("transaction.-1.total.currency",n.get("cart.price.currency"))),a.eVar123=n.get("transaction.-1.attributes.paymentMethod"),a.eVar125=n.get("transaction.-1.transactionID"),a.linkTrackVars+="eVar120,eVar122,eVar123,eVar125,"}catch(e){var D={from:"AA",type:"DE",name:"setProductString"};_satellite.logger.error(e,D)}}}}},setTronProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t={},a="",o=_satellite.getVar("snapshotDL");for(var s in o.get("cart"),t.cart={},o.get("cart.item"))isNaN(+s)||"snapshotDL field missing"!=o.get("cart.item."+s+".productInfo.productID")&&"snapshotDL field empty"!=o.get("cart.item."+s+".productInfo.productID")&&(t.cart[o.get("cart.item."+s+".productInfo.productID")]={},t.cart[o.get("cart.item."+s+".productInfo.productID")]=o.get("cart.item."+s));for(var n in o.get("transaction"),t.transaction={},o.get("transaction.-1.item"))isNaN(+s)||"snapshotDL field missing"!=o.get("transaction.-1.item."+n+".productInfo.productID")&&"snapshotDL field empty"!=o.get("transaction.-1.item."+n+".productInfo.productID")&&(t.transaction[o.get("transaction.-1.item."+n+".productInfo.productID")]={},t.transaction[o.get("transaction.-1.item."+n+".productInfo.productID")]=o.get("transaction.-1.item."+n));if(o.get("product").length>0)for(var i in o.get("product"))if(!isNaN(+i)){var r=o.get("product."+i+".category.productType"),c=o.get("product."+i+".productInfo.productID"),d=+(((t.cart[c]||"").price||"").voucherDiscount||"0"),l=+(((t.cart[c]||"").price||"").priceWithTax||"0"),u=_satellite.getVar("productBuilder");u.id=c,u.category=r;var m={eVar10:o.get("product."+i+".attributes.mmdrVG",o.get("product."+i+".attributes.mmdr")),eVar44:o.get("product."+i+".attributes.productionYear"),eVar45:o.get("product."+i+".attributes.yearOfRegistration"),eVar46:o.get("product."+i+".attributes.status"),eVar47:o.get("product."+i+".productInfo.color"),eVar48:o.get("product."+i+".attributes.modelCode"),eVar49:o.get("product."+i+".attributes.gearing"),eVar50:o.get("product."+i+".attributes.series"),eVar51:o.get("product."+i+".attributes.bodyType"),eVar52:o.get("product."+i+".productInfo.productName"),eVar53:o.get("product."+i+".category.primaryCategory"),eVar54:o.get("product."+i+".category.subCategory1"),eVar55:o.get("product."+i+".category.subCategory2"),eVar56:o.get("product."+i+".attributes.fuelType"),eVar57:o.get("product."+i+".attributes.hybridVersion"),eVar58:o.get("product."+i+".attributes.motorization"),eVar60:o.get("product."+i+".productInfo.manufacturer"),eVar65:o.get("product."+i+".attributes.modelName"),eVar66:o.get("product."+i+".attributes.trimLevel"),eVar69:o.get("product."+i+".attributes.modelCodeAG"),eVar121:((t.transaction[c]||"").price||"").voucherCode||((t.cart[c]||"").price||"").voucherCode?((t.transaction[c]||"").price||"").voucherCode||((t.cart[c]||"").price||"").voucherCode||"":o.get("transaction.-1.total.voucherCode",o.get("cart.price.voucherCode")),eVar124:((t.transaction[c]||"").price||"").taxRate||((t.cart[c]||"").price||"").taxRate?((t.transaction[c]||"").price||"").taxRate||((t.cart[c]||"").price||"").taxRate||"":o.get("cart.price.taxRate",o.get("transaction.-1.total.taxRate")),eVar126:o.get("cart.price.shippingMethod",o.get("transaction.total.shippingMethod"))};u.merchEvars=m;var b=[];b.push("event831="+(((t.cart[c]||"").price||"").basePrice||"0")),b.push("event832="+(d<0?+ +l*d/l:d)),b.push("event833="+(d<0?+l*d:d)),b.push("event834="+(((t.cart[c]||"").price||"").taxRate||"0")),b.push("event835="+((((t.cart[c]||"").price||"").attributes||"").taxAmount||"0")),b.push("event836="+(((t.cart[c]||"").price||"").priceWithTax||"0")),b.push("event837="+(((t.transaction[c]||"").price||"").shipping||"0")),b.push("event858="+((t.cart[c]||"").quantity||"0")),u.events=b,e.events=e.apl(e.events,"event831,event832,event833,event834,event835,event836,event837,event858"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),e.linkTrackVars=e.apl(e.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar121,eVar124,eVar126",","),a+=u.toString()+","}null!=e.products?e.products+=a:e.products=a,"undefined"!=e.products&&(e.linkTrackVars+="products,")}catch(e){var g={from:"AA",type:"DE",name:"setTronProductString"};_satellite.logger.error(e,g)}}}}},"AA-doNotTrack":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["sales > dcs: entry","stocklocator"]}}},"AA-Exclusionlist":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["eVar0","eVar4","eVar5","eVar7","eVar8","eVar12","eVar36","eVar6","eVar9","eVar10","eVar11","eVar13","eVar14","eVar17","eVar37","eVar38","eVar48","eVar59","eVar61","eVar62","eVar63","eVar64","eVar71","eVar120","eVar122","eVar125","eVar130","eVar132","eVar133","eVar142","eVar171","eVar172","prop17"]}}},"AA-hashedID":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.hostname.split(".").reverse()[0];return"de"==e||"uk"==e?_satellite.getVar("hashingMID"):"datalayer field missing"}catch(e){var t={from:"AA",type:"DE",name:"AA-hashedID"};_satellite.logger.error(e,t)}}}},"AA-reportSuite":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("AA-reportSuite"))return e.get("AA-reportSuite");var t="bmwgroup.group.global.test",a="bmwgroup.group.global.all",o={"bmw.co.za":"bmwgroup.bmw.za.market","bmw.tj":"bmwgroup.bmw.tj.market","bmw.com.ar":"bmwgroup.bmw.ar.market","bmw.at":"bmwgroup.bmw.at.market","bmw.com.au":"bmwgroup.bmw.au.market","bmw.be":"bmwgroup.bmw.be.market","bmw.bg":"bmwgroup.bmw.bg.market","bmw.com.br":"bmwgroup.bmw.br.market","bmw.ca":"bmwgroup.bmw.ca.market","bmw.ch":"bmwgroup.bmw.ch.market","bmw.com.cn":"bmwgroup.bmw.cn.market","bmw.cz":"bmwgroup.bmw.cz.market","bmw.de":"bmwgroup.bmw.de.market","bmw.dk":"bmwgroup.bmw.dk.market","bmw.es":"bmwgroup.bmw.es.market","bmw.fi":"bmwgroup.bmw.fi.market","bmw.fr":"bmwgroup.bmw.fr.market","bmw.co.uk":"bmwgroup.bmw.uk.market","bmw.gr":"bmwgroup.bmw.gr.market","bmw.hu":"bmwgroup.bmw.hu.market","bmw.co.id":"bmwgroup.bmw.id.market","bmw.ie":"bmwgroup.bmw.ie.market","bmw.in":"bmwgroup.bmw.in.market","bmw.is":"bmwgroup.bmw.is.market","bmw.it":"bmwgroup.bmw.ita.market","bmw.co.jp":"bmwgroup.bmw.jp.market","bmw.co.kr":"bmwgroup.bmw.kr.market","bmw.lu":"bmwgroup.bmw.lu.market","bmw.com.mx":"bmwgroup.bmw.mx.market","bmw.com.my":"bmwgroup.bmw.my.market","bmw.nl":"bmwgroup.bmw.nl.market","bmw.no":"bmwgroup.bmw.no.market","bmw.co.nz":"bmwgroup.bmw.nz.market","bmw.pl":"bmwgroup.bmw.pl.market","bmw.pt":"bmwgroup.bmw.pt.market","bmw.ro":"bmwgroup.bmw.ro.market","bmw.ru":"bmwgroup.bmw.ru.market","bmw.se":"bmwgroup.bmw.se.market","bmw.si":"bmwgroup.bmw.si.market","bmw.sk":"bmwgroup.bmw.sk.market","bmw.co.th":"bmwgroup.bmw.th.market","bmw.com.sg":"bmwgroup.bmw.sg.market","bmw.com/en-au":"bmwgroup.bmw.au.market","mini.de":"bmwgroup.mini.de.market","mini.fr":"bmwgroup.mini.fr.market","mini.it":"bmwgroup.mini.it.market","mini.ch":"bmwgroup.mini.ch.market","mini.at":"bmwgroup.mini.at.market","mini.be":"bmwgroup.mini.be.market","mini.lu":"bmwgroup.mini.lu.market"},s=o[_satellite.getVar("topLevelDomain")]||o[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()],n=(r=new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname),c="staging"===_satellite.buildInfo.environment||"development"===_satellite.buildInfo.environment,r||c?t:a+","+s);return n.indexOf("undefined")>-1&&(n=t),e.set("AA-reportSuite",n),n}catch(e){var i={from:"AA",type:"DE",name:"AA-reportSuite"};_satellite.logger.error(e,i)}var r,c}}},"AA-languageWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t={"bmw.co.za":"ZA","bmw.com.ar":"AR","bmw.at":"AT","bmw.com.au":"AU","bmw.be":"BE","bmw.bg":"BG","bmw.com.br":"BR","bmw.ca":"CA","bmw.ch":"CH","bmw.com.cn":"CN","bmw.cz":"CZ","bmw.de":"DE","bmw.dk":"DK","bmw.es":"ES","bmw.fi":"FI","bmw.fr":"FR","bmw.co.uk":"GB","bmw.gr":"GR","bmw.hu":"HU","bmw.co.id":"ID","bmw.ie":"IE","bmw.in":"IN","bmw.is":"IS","bmw.it":"IT","bmw.co.jp":"JP","bmw.co.kr":"KR","bmw.lu":"LU","bmw.com.mx":"MX","bmw.com.my":"MY","bmw.nl":"NL","bmw.no":"NO","bmw.co.nz":"NZ","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.se":"SE","bmw.si":"SI","bmw.sk":"SK","bmw.co.th":"TH","bmw.com.sg":"SG","bmwusa.com":"US","bmw.com/en-au":"AU","mini.de":"DE","mini.fr":"FR","mini.it":"IT","mini.at":"AT","mini.ch":"CH","mini.be":"BE","mini.lu":"LU"};return t[e]||t[e+"/"+location.pathname.split("/")[1].toLowerCase()]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},jcrPathLevel1:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=e.split("/"),a=1;if((a=a+6-1)<t.length)var o=t[a];else o="None";return e.indexOf("/configurator")>-1&&(o="Configurator"),o}catch(e){}}}},isTargetAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").Target;return e.isTrackingAllowed(t).toString()}catch(e){var a={from:"AA",type:"DE",name:"isTargetAllowed"};_satellite.logger.error(e,a)}}}},ev_eve_element:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.element}catch(e){}}}},setDefaultVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.pageInfo.destinationUrl",location.href),s=new Date,n=_satellite.getVar("smartPreviousValueManager"),i=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");t.prop44=a.get("component.-1.componentInfo.componentID",a.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop27=a.get("page.pageInstanceId",a.get("pageInstanceId")).split("/").slice(6).join("/"),t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp",Math.round(s.getTime()))),t.prop13="bmw",t.prop15=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds(),t.prop14=s.getUTCHours()+":"+s.getUTCMinutes()+":"+s.getUTCSeconds(),t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.eVar7=a.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=t.eVar7.indexOf("-")>-1?t.eVar7.split("-")[0]:t.eVar7,t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.eVar18=a.get("page.pageInfo.pageTitle",document.title),t.prop50="page title",t.prop19="virtual page"===i?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,t.campaign=t.eVar61=t.eVar62=_satellite.getVar("campaign"),t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),"bmw.com.cn"==_satellite.getVar("topLevelDomain")?t.eVar64=_satellite.getVar("AA-localCampaignVariable"):t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),t.server=location.host,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.pageType="error"==a.get("page.category.pageType")?"errorPage":a.get("page.category.pageType"),a.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL,t.pageType="errorPage",t.prop1=t.pageName),t.eVar4=o,o.length>255&&(t.eVar5=o.substring(255,o.length)),n.update("url",t.eVar4),t.eVar14=n.get("url"),t.eVar29=n.get("pathName"),t.prop31=n.get("pagePrimaryCategory"),_satellite.logger.log("khubruy prop31",t.prop31),t.prop32=n.get("pageSubCategory01"),t.prop33=n.get("pageName"),t.prop3=a.get("page.category.primaryCategory"),n.update("pagePrimaryCategory",t.prop19),t.prop4=a.get("page.category.subCategory01"),n.update("pageSubCategory01",t.prop4),n.update("jcrPath",a.get("pageInstanceId",window.location.pathname)),t.eVar28=n.get("componentSubcategory1"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar132=window.navigator.userAgent,t.eVar135=a.get("page.pageInfo.envWork",a.get("page.pageInfo.devEnv")),t.eVar6=document.referrer.split("/")[2],n.update("pathName",t.eVar12),t.eVar120=a.get("cart.cartID"),t.eVar122=a.get("cart.item-1.price.currency",a.get("cart.price.currency",a.get("transaction.item-1.price.currency",a.get("transaction.total.currency.currency",a.get("product.-1.attributes.currency"))))),t.eVar123=a.get("transaction.attributes.paymentMethod"),t.eVar125=a.get("transaction.transactionID"),""!=t.linkTrackVars&&null!=t.linkTrackVars?t.linkTrackVars+=",prop44,eVar134,eVar64,eVar18,prop27,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,":t.linkTrackVars="prop44,eVar134,eVar64,prop27,eVar18,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,"}catch(e){var r={from:"AA",type:"DE",name:"setDefaultVariables"};_satellite.logger.error(e,r)}}}}},lastTwoDigitsOfMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){return Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().slice(-2).toString()}}catch(t){var e={from:"AA",type:"DE",name:"lastTwoDigitsOfMID"};_satellite.logger.error(t,e)}}}},isOfferApplicable:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{function t(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var a,o=window.location.href;a=o&&o.indexOf("bmw.de")>-1?+t("v_reco_data").SFB||0:+t("v_reco_data").scorefinal||0;var s=o.indexOf("bmw.lu")>-1||o.indexOf("bmw.be")>-1||o.indexOf("bmw.at")>-1||o.indexOf("bmw.de/de/neufahrzeuge")>-1||o.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/neufahrzeuge")>-1||o.indexOf("bmw.de/de/all-models/")>-1||o.indexOf("bmw.de/de/index")>-1||o.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de_DE/index")>-1||o.indexOf("bmw.de/de/home")>-1||o.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/home")>-1,n=o.indexOf("https://www.bmw.be/forms/")>-1||o.indexOf("https://www.bmw.lu/forms/")>-1||o.indexOf("https://www.bmw.lu/fr/topics/offers-and-services/")>-1||o.indexOf("https://www.bmw.lu/de/topics/offers-and-services/")>-1||o.indexOf("https://www.bmw.lu/de/topics/offers-and-services/")>-1||o.indexOf("https://www.bmw.be/fr/topics/offers-and-services/")>-1||o.indexOf("https://www.bmw.be/nl/topics/offers-and-services/")>-1||o.indexOf("https://www.bmw.at/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html")>-1||o.indexOf("https://www.bmw.at/forms/rfc/kontaktanfrage.html")>-1||o.indexOf("www.bmw.at/de/footer/metanavigation/legal-disclaimer-pool/legal-disclaimer.html")>-1||o.indexOf("www.bmw.at/de/footer/metanavigation/legal-notice-pool/imprint.html")>-1||o.indexOf("www.bmw.at/de/footer/footer-section/cookie-policy.html")>-1||o.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy.html")>-1||o.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy-fs.html")>-1||o.indexOf("https://www.bmw.at/forms/probefahrt/tda.html")>-1||o.indexOf("https://www.bmw.at/forms/rfo/angebot-anfordern.html")>-1||o.indexOf("https://www.bmw.at/de/neuwagensuche.html#/")>-1||o.indexOf("https://configure.bmw.at/de_AT/")>-1,i="";o&&o.indexOf("bmw.de")>-1?i=60:o&&o.indexOf("bmw.at")>-1?i=65:(o&&o.indexOf("bmw.be")>-1||o&&o.indexOf("bmw.lu")>-1)&&(i=70);var r,c=JSON.parse(sessionStorage.getItem("Personalization_VisitorReco"))||{},d=c.isOfferShown,l=c.isFormSubmitted;r="boolean"==typeof c.isOfferShown?Object.keys(c).length-1:Object.keys(c),_satellite.logger.log("VisitorReco: final Score is:",a),_satellite.logger.log("VisitorReco: Count of models present:",r),_satellite.logger.log("VisitorReco: offer shown flag value:",d),a>=i&&s&&!n&&0==d&&r>0&&"true"!=_satellite.getVar("isSetTimeOut")&&!l&&(_satellite.setVar("isSetTimeOut","true"),_satellite.logger.log("VisitorReco: SetTimeOut function is set"),setTimeout((function(){0==JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")).isOfferShown&&(_satellite.logger.log("VisitorReco: get and apply offer method called"),document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,(function(e){if(void 0!==e&&void 0!==e.detail&&void 0!==e.detail.responseTokens&&e.detail.responseTokens.length>0)for(var t=0;t<e.detail.responseTokens.length;t++)void 0!==e.detail.responseTokens[t]&&void 0!==e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]&&_satellite.setVar("AT-catHist_CarModel_HIST",JSON.parse(e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]))})),adobe.target.getOffer({mbox:"visitor-reco-mbox",params:{vs_score:a},success:function(e){adobe.target.applyOffer({mbox:"visitor-reco-mbox",offer:e})},error:function(e,t){_satellite.logger.error("VisitorReco: Error in applying offer: ",e,t)}}))}),5e3))}catch(t){var u={from:"AA",type:"DE",name:"isOfferApplicable"};_satellite.logger.error(e,u)}}}}},isRegulationAccepted_Tags:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").Others;return"false"===e.isTrackingAllowed(t).toString()?"false":a();function a(){var e=_satellite.getVar("TPT-PII_keywords"),t=window.location.href.toLowerCase(),a=t.split("?")[1];if(/[\w-]+@([\w-]+\.)+[\w-]+/.test(t))return"false";if(null!=a)for(var o=0;o<e.length;o++)if(a.indexOf(e[o]+"=")>-1)return"false";return"true"}}catch(e){var o={from:"AA",type:"DE",name:"isRegulationAccepted_Tags"};_satellite.logger.error(e,o)}}}},GlobalDE:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){var t=_satellite.getVar("snapshotDL"),a={eventName:-1==t.get("event.-1.eventInfo.eventName").indexOf("nsc >")?"nsc > "+t.get("event.-1.eventInfo.eventName"):t.get("event.-1.eventInfo.eventName"),eventAction:t.get("event.-1.eventInfo.eventAction"),eventPoints:t.get("event.-1.eventInfo.eventPoints"),eventTimestamp:t.get("event.-1.eventInfo.timeStamp"),eventCause:t.get("event.-1.eventInfo.cause"),eventType:t.get("event.-1.category.eventType"),eventPrimarycategory:t.get("event.-1.category.primaryCategory"),eventSubcategory01:t.get("event.-1.category.subCategory01"),eventElement:t.get("event.-1.eventInfo.element"),pageInstanceId:t.get("pageInstanceId"),productMmdr:t.get("product.-1.attributes.mmdr"),productModelname:t.get("product.-1.attributes.modelName"),productManufacturer:t.get("product.-1.productInfo.manufacturer"),productBodytype:t.get("product.-1.attributes.bodyType"),pageSubcategory02:t.get("page.category.subCategory02")};e.prototype.getelement=function(e){return a[e]}};return new e}catch(e){var t={from:"AA",type:"DE",name:"GlobalDE"};_satellite.logger.error(e,t)}}}},Usabilla_success_events:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["Form Success","Online TDA Booking Finish"],t=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return e.indexOf(t)>-1}catch(e){var a={from:"Usabilla",type:"DE",name:"Usabilla_success_events"};_satellite.logger.error(e,a)}}}},pa_pag_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.pageName;return""==e&&(e="not set"),e}catch(e){return"not set"}}}},"ECID-previousPermissions":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.adobe.OptInCategories,t={};return t[e.ECID]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),t[e.ANALYTICS]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),t[e.TARGET]="true"==_satellite.getVar("isTargetAllowed"),t[e.AAM]="true"==_satellite.getVar("isAAMAllowed"),t}catch(e){var a={from:"AA",type:"DE",name:"ECID-previousPermissions"};_satellite.logger.error(e,a)}}}},"AT-TargetParamsManager":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache,t=function(){var a="targetParamsCache",o=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e};t.prototype.mergeParams=function(t,o){var s=e.get(a)||{};for(var n in t)s.hasOwnProperty(n)&&s[n]===t[n]||(s[n]={value:t[n],once:!!o,fired:!1});e.set(a,s)},t.prototype.getParams=function(){var t=e.get(a)||{},s={};for(var n in t)t[n].fired&&t[n].once||(t[n].fired=!0,s[n]=t[n].value);return s=o(s),_satellite.logger.log("DE:TargetParamsManager : Sending following mbox params-",s),s},t.prototype.hasFired=function(t,o){var s=e.get(a)||{};return!(!s[t]||!s[t].fired||s[t].value!==o)}};return new t}catch(e){var a={from:"AA",type:"DE",name:"AT-TargetParamsManager"};_satellite.logger.error(e,a)}}}},fusionProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e,t,a){try{a=a||"datalayer field missing";for(var o=["","na","not set","n/a","not available"],s=(t=t||"").split("."),n=e,i=0;i<s.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(s[i])?n[n.length-Math.abs(parseInt(s[i]))]:n[s[i]];return"string"==typeof n&&o.indexOf(n.toLowerCase())>-1?"datalayer field empty":n||a}catch(e){console.error("Error:",e)}}return function(a){try{var o=Object.keys(e.message.eventInfo.reference.linkedProducts),s=e.fullState,n=_satellite.getVar("productBuilder"),r=[];if(o.length>0){for(i=0;i<o.length;i++)if(o[i]in s.product){var c=o[i],d=t(s,"cart.item")[c],l=t(s,"product")[c],u=t(s,"transaction.item")[c],m=t(l,"category.productType"),b=t(l,"productInfo.productID"),g=t(d,"price.taxRate",t(u,"price.taxRate","0")),f={eVar10:t(l,"attributes.mmdr"),eVar44:t(l,"attributes.productionYear"),eVar45:t(l,"attributes.yearOfRegistration"),eVar46:t(l,"attributes.status"),eVar47:t(l,"productInfo.color"),eVar48:t(l,"attributes.modelCode"),eVar49:t(l,"attributes.gearing"),eVar50:t(l,"attributes.series"),eVar51:t(l,"attributes.bodyType"),eVar52:t(l,"productInfo.productName"),eVar53:t(l,"category.primaryCategory"),eVar54:t(l,"category.subCategory1"),eVar55:t(l,"category.subCategory2"),eVar56:t(l,"attributes.fuelType"),eVar57:t(l,"attributes.hybridVersion"),eVar58:t(l,"attributes.motorization"),eVar60:t(l,"productInfo.manufacturer"),eVar65:t(l,"attributes.modelName"),eVar66:t(l,"attributes.trimLevel"),eVar69:t(l,"attributes.modelCodeAG"),eVar121:t(d,"price.voucherCode",t(u,"price.voucherCode")),eVar124:g,eVar126:t(d,"price.shippingMethod",t(u,"price.shippingMethod"))};n.id=b,n.category=m,n.merchEvars=f;var p=t(d,"price.basePrice",t(u,"price.basePrice","0")),v=t(d,"price.priceWithTax",t(u,"price.priceWithTax","0")),h=t(d,"price.shipping",t(u,"price.shipping","0")),_=t(d,"quantity",t(u,"quantity","0")),P=t(d,"price.voucherDiscount","0"),j=t(d,"price.priceWithTax","0"),y=t(d,"price.attributes.taxAmount",t(u,"price.attributes.taxAmount")),C=[];C.push("event831="+p),C.push("event832="+(P<0?+ +j*P/j:P)),C.push("event833="+(P<0?+j*P:P)),C.push("event834="+g),C.push("event835="+y),C.push("event836="+v),C.push("event837="+h),C.push("event858="+_),n.events=C,a.events=a.apl(a.events,"event831,event832,event833,event834,event835,event836,event837,event858"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),a.linkTrackVars=a.apl(a.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar121,eVar124,eVar126",","),r.push(n.toString())}a.products=r.join(","),"undefined"!=a.products&&(a.linkTrackVars+="products,")}else _satellite.logger.log("fusion product string ~~~ No product in product object")}catch(e){var w={from:"AA",type:"DE",name:"fusionProductString"};_satellite.logger.error(e,w)}}}}},"AA-eventEffect":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.effect"}}},removePII:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["firstname","lastname","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","telephone","email"],t=["eVar","prop","referrer","pageURL","pageName","channel","hier1","products"];function a(t){var a=[];if("string"==typeof t){var o=t.toLowerCase();e.forEach((function(e){-1!=o.indexOf(e)&&a.push(e)}))}return a}function o(e){var o=[],s=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),n=new RegExp("(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[\\w]{14}","gi"),i=new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$","gi");return t.forEach((function(t){Object.keys(e).forEach((function(r){0===r.indexOf(t)&&e[r]&&(a(e[r]).length||"string"==typeof e[r]&&(e[r].match(s)||e[r].match(i)||e[r].match(n)))&&o.push(r)}))})),o}function s(e){var t=e,o=a(e);if(o.length&&t.indexOf("eVar33")<0)o.forEach((function(e){t=n(e,t)}));else{var s=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),i=new RegExp("(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[\\w]{14}","gi"),r=new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$","gi"),c=e.match(s),d=e.match(r),l=e.match(i);if(-1==e.indexOf("eVar33")&&c)return n("withoutVin",e);if(e.indexOf("eVar33")>-1&&(d||l))return n("withoutVin",e)}return t}function n(e,t){var a,o,s,n=t.split("?")[0],i=-1!==t.indexOf("?")?t.split("?")[1]:"",r="?";if(i||(n=t.split("#")[0],r="#",i=-1!==t.indexOf("#")?t.split("#")[1]:""),""!==i){for(var c=(s=i.split("&")).length-1;c>=0;c--)a=s[c].split("=")[0].toLowerCase(),console.log(a,e),a===e&&(s[c]="email"===e?s[c].replace(s[c].split("=")[1],"potential_pii_removed"):s[c].replace(s[c].split("=")[1],"value_rejected"));n=n+r+s.join("&")}if(-1!=n.toLowerCase().indexOf(e)&&(o=new RegExp("[a-z]"+e+"[a-z]","gi"),result=n.match(o),result||"email"===e&&document.location.pathname.split(e).length>1&&(1==document.location.href.split(r).length||document.location.href.split(r)[1]&&-1==document.location.href.split(r)[1].indexOf(e))||document.location.href.split(r).length>-1&&document.location.href.split(r)[1]&&document.location.href.toLowerCase().split(r)[1].indexOf(e)>-1||(n=n.toLowerCase().split(e)[0])),o=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),result=n.match(o),-1==n.indexOf("eVar33")&&result)for(var d=0;d<result.length;d++)n=n.replace(result[d].slice(1),"potential_pii_removed");var l=new RegExp("[\\w]*(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[\\w]{14}","gi"),u=new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$","gi"),m=n.match(u)||n.match(l);if(n.indexOf("eVar33")>-1&&m)for(d=0;d<m.length;d++)n=n.replace(m[d].slice(0),"value_rejected");return n}function i(e){return o(e).forEach((function(t){var a=e[t];e[t]=s(a)})),e}function r(e){switch(typeof e){case"object":return i(e);case"string":return s(e);default:return Error("Not a valid parameter")}}return r}catch(e){var c={from:"AA",type:"DE",name:"removePII"};_satellite.logger.error(e,c)}}}},"AA-eventPrimarycategory":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.primaryCategory"}}},"AA-eventFilter-priceControl":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return filterEvent=function(e){var t=e,a=["event831","event832","event833","event834","event835","event836","event837","event858","event841","event842","event843","event844","event845","event846","event847","event848","event851","event852","event853","event854","event855","event856","event857","event861","event862","event863","event864","event865","event866","event867","event868"],o=["event841","event842","event843","event844","event845","event846","event847","event861","event862","event863","event864","event865","event866","event867","event868"];try{var n={ALLOW:"ALLOW",DENY:"DENY",FILTER:"FILTER"},r={con:{permission:n.ALLOW},"stock locator":{permission:n.DENY},oneshop:{permission:n.FILTER}},c={"digital services":{permission:n.ALLOW},"physical products":{permission:n.DENY},"physical goods":{permission:n.DENY}},d=r[t]||{permission:n.DENY};if(d.permission==n.ALLOW)return _satellite.logger.debug("DE - eventFilter-PriceControl: ALLOW"),evar139="prices are allowed",evar139;if(d.permission==n.DENY){for(var l in a)s.events=s.rfl(s.events,a[l]),_satellite.logger.debug("DE - eventFilter-PriceControl: DENY");return evar139="prices are denied",evar139}if(d.permission==n.FILTER)return _satellite.logger.debug("DE - eventFilter-PriceControl: FILTER"),void 0!==s.products&&""!=s.products&&(sProductsList=s.products.split(","),arrayProduct=[],sProductsList.forEach((function(e){var t=e.split(";"),a=[],r=!1;for(i=t.length;i>=0;i--)if(5==i)a.push(t[i]),evars=t[i].split("|"),evarsValues=evars.filter((function(e){return-1!=e.indexOf("eVar54")||-1!=e.indexOf("eVar53")})).flatMap((function(e){return e.split("=")[1]})),evarsValues.forEach((function(e){merchValuePermission=c[e]||{permission:n.DENY},merchValuePermission.permission==n.DENY&&(r=!0,_satellite.logger.info("DE - eventFilter-PriceControl: merchEvars: "+e),
_satellite.logger.info("DE - eventFilter-PriceControl: flag set to True"))}));else if(4==i)if(r){for(var d in _satellite.logger.info("DE - eventFilter-PriceControl: remove merchandising events"),a.push(""),o)s.events=s.rfl(s.events,o[d]),_satellite.logger.debug("DE - eventFilter-PriceControl: DENY");r=!1}else a.push(t[i]);else i<4&&a.push(t[i]);arrayProduct.push(a.reverse().join(";"))})),s.products=arrayProduct.join(",")),evar139="prices are filtered",evar139}catch(e){var u={from:"AA",type:"DE",name:"AA-eventFilter-priceControl"};_satellite.logger.error(e,u)}},filterEvent}}},pa_pag_referringUrl:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.referringUrl;return e=e.toLowerCase()}catch(e){}}}},PRC_adform:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){var t=_satellite.getVar("snapshotDL"),a=(t.get("page.pageInfo.pageName"),t.get("event.-1.attributes.mmdr",t.get("product.-1.attributes.mmdr"))),o=t.get("product.-1.attributes.modelCode");("datalayer field empty"==a||"datalayer field missing"==a)&&window.location.href.indexOf("modelRange")>-1&&(a=window.location.href.substring(window.location.href.indexOf("modelRange")+11,window.location.href.indexOf("modelRange")+14));var s={8:_satellite.getVar("AA-componentDefaultValues").subCat,9:window.location.pathname,10:window.location.href,11:a,12:o,13:_satellite.getVar("AA-languageWorkaround"),14:t.get("page.attributes.outletName"),15:t.get("cart.cartID"),16:t.get("page.attributes.currencyCode",t.get("transaction.-1.total.currency",t.get("cart.price.currency")))},n=function(e){let t={};for(var a of e)t["sv"+a]=s[a];return t};e.prototype.exec=function(e){if(null==e.sv)(window.p15r=window.p15r||[]).push({action:"execute",processingId:"AdformRetargeting",params:{accountId:e.pmId,divider:encodeURIComponent("|"),pagename:encodeURIComponent(e.page)}});else{var t=n(e.sv);(window.p15r=window.p15r||[]).push({action:"execute",processingId:"AdformRetargeting",params:{accountId:e.pmId,divider:encodeURIComponent("|"),pagename:encodeURIComponent(e.page),order:t}})}}};return new e}catch(e){var t={from:"AA",type:"DE",name:"PRC_adform"};_satellite.logger.error(e,t)}}}},"AA-languageAndMarketWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t={"bmw.com.al":"en-AL","bmw.dz":"fr-DZ","bmw.co.ao":"pt-AO","bmw.am":"en-AM","bmw.com.au":"en-AU","bmw.at":"de-AT","bmw.az":"ru-AZ","bmw.bs":"en-BS","bmw.bb":"en-BB","bmw.by":"ru-BY","bmw.bm":"en-BM","bmw.com.bo":"es-BO","bmw.ba":"hr-BA","bmw.com.br":"pt-BR","bmw.com.bn":"en-BN","bmw.bg":"bg-BG","bmw.com.ky":"en-KY","bmw.cl":"es-CL","bmw.com.cn":"zh-CN","bmw.com.co":"es-CO","bmw.co.cr":"es-CR","bmw.com.cy":"en-CY","bmw.cz":"cs-CZ","bmw.dk":"da-DK","bmw.com.do":"es-DO","bmw.com.ec":"es-EC","bmw-eg.com":"en-EG","bmw.com.sv":"es-SV","bmw.ee":"et-EE","bmw.fi":"fi-FI","bmw.fr":"fr-FR","bmw.com.ge":"en-GE","bmw.de":"de-DE","bmw-ghana.com":"en-GH","bmw.gr":"el-GR","bmw-antilles.fr":"fr-GP","bmw.com.gt":"es-GT","bmw.ht":"en-HT","bmw.hn":"es-HN","bmwhk.com":"en-HK","bmw.hu":"hu-HU","bmw.is":"en-IS","bmw.in":"en-IN","bmw.co.id":"en-ID","bmw-iraq.com":"en-IQ","bmw.ie":"en-IE","bmw.co.il":"iw-IL","bmw.it":"it-IT","bmwjamaica.com":"en-JM","bmw.co.jp":"ja-JP","bmw.kz":"ru-KZ","bmw.co.ke":"en-KE","bmw.co.kr":"ko-KR","bmw-lao.la":"en-LA","bmw.re":"fr-RE","bmw.lv":"lv-LV","bmw-lebanon.com":"en-LB","bmw.ly":"en-LY","bmw.lt":"lt-LT","bmw.com.mo":"en-MO","bmw.com.mk":"mk-MK","bmw.com.my":"en-MY","bmw.com.mt":"en-MT","bmw.mu":"en-MU","bmw.com.mx":"es-MX","bmw.md":"ro-MD","bmw-voli.me":"sr-ME","bmw.ma":"fr-MA","bmwmyanmar.com":"en-MM","bmw.nl":"nl-NL","bmw.nc":"fr-NC","bmw.co.nz":"en-NZ","bmw.com.ni":"es-NI","bmw-nigeria.com":"en-NG","bmw.no":"no-NO","bmw-pakistan.com":"en-PK","bmw.com.pa":"es-PA","bmw.com.py":"es-PY","bmw.com.pe":"es-PE","bmw.com.ph":"en-PH","bmw.pl":"pl-PL","bmw.pt":"pt-PT","bmw.ro":"ro-RO","bmw.ru":"ru-RU","bmw.lc":"en-LC","bmw.rs":"sr-RS","bmw.com.sg":"en-SG","bmw.sk":"sk-SK","bmw.si":"sl-SI","bmw.co.za":"en-ZA","bmw.es":"es-ES","bmw.lk":"en-LK","bmw.sr":"en-SR","bmw.se":"sv-SE","bmw-tahiti.com":"fr-PF","bmw.com.tw":"zh-TW","bmw.tt":"en-TT","bmw-tunisia.com":"fr-TN","bmw.com.tr":"tr-TR","bmw.ua":"uk-UA","bmw.co.uk":"en-GB","bmw.com.uy":"es-UY","bmw.vn":"vi-VN","bmw-m.com":"en-HQ","bmw.uz":"ru-UZ","bmw.com/en-au":"en-AU"},a=["en","nl","fr","pt","de","ru","es","hr","bg","zh","cs","da","et","fi","el","hu","iw","it","ja","ko","lv","lt","mk","ro","sr","nl","no","pl","ro","sk","sl","sv","th","tr","uk","vi"],o={"bmw.com.al":"AL","bmw.ca":"CA","bmw.be":"BE","bmw.dz":"DZ","bmw.co.ao":"AO","bmw.am":"AM","bmw.com.au":"AU","bmw.at":"AT","bmw.az":"AZ","bmw.bs":"BS","bmw.bb":"BB","bmw.by":"BY","bmw.bm":"BM","bmw.com.bo":"BO","bmw.ba":"BA","bmw.com.br":"BR","bmw.com.bn":"BN","bmw.bg":"BG","bmw.com.ky":"KY","bmw.cl":"CL","bmw.com.cn":"CN","bmw.com.co":"CO","bmw.co.cr":"CR","bmw.com.cy":"CY","bmw.cz":"CZ","bmw.dk":"DK","bmw.com.do":"DO","bmw.com.ec":"EC","bmw-eg.com":"EG","bmw.com.sv":"SV","bmw.ee":"EE","bmw.fi":"FI","bmw.fr":"FR","bmw.com.ge":"GE","bmw.de":"DE","bmw-ghana.com":"GH","bmw.gr":"GR","bmw-antilles.fr":"GP","bmw.com.gt":"GT","bmw.ht":"HT","bmw.hn":"HN","bmwhk.com":"HK","bmw.hu":"HU","bmw.is":"IS","bmw.in":"IN","bmw.co.id":"ID","bmw-iraq.com":"IQ","bmw.ie":"IE","bmw.co.il":"IL","bmw.it":"IT","bmwjamaica.com":"JM","bmw.co.jp":"JP","bmw.kz":"KZ","bmw.co.ke":"KE","bmw.co.kr":"KR","bmw-lao.la":"LA","bmw.re":"RE","bmw.lv":"LV","bmw-lebanon.com":"LB","bmw.ly":"LY","bmw.lt":"LT","bmw.lu":"LU","bmw.com.mo":"MO","bmw.com.mk":"MK","bmw.com.my":"MY","bmw.com.mt":"MT","bmw.mu":"MU","bmw.com.mx":"MX","bmw.md":"MD","bmw-voli.me":"ME","bmw.ma":"MA","bmwmyanmar.com":"MM","bmw.nl":"NL","bmw.nc":"NC","bmw.co.nz":"NZ","bmw.com.ni":"NI","bmw-nigeria.com":"NG","bmw.no":"NO","bmw-pakistan.com":"PK","bmw.com.pa":"PA","bmw.com.py":"PY","bmw.com.pe":"PE","bmw.com.ph":"PH","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.lc":"LC","bmw.rs":"RS","bmw.com.sg":"SG","bmw.sk":"SK","bmw.si":"SI","bmw.co.za":"ZA","bmw.es":"ES","bmw.lk":"LK","bmw.sr":"SR","bmw.se":"SE","bmw.ch":"CH","bmw-tahiti.com":"PF","bmw.com.tw":"TW","bmw.co.th":"TH","bmw.tt":"TT","bmw-tunisia.com":"TN","bmw.com.tr":"TR","bmw.ua":"UA","bmw.co.uk":"GB","bmw.com.uy":"UY","bmw.vn":"VN","bmw-m.com":"HQ","bmw.uz":"UZ","bmw.com/en-au":"AU"};if(window.location.href.indexOf("bmw-bahrain.com/en/")>-1)return"en-BH";if(window.location.href.indexOf("bmw-bahrain.com/ar/")>-1)return"ar-BH";if(window.location.href.indexOf("bmw-dubai.com/en/")>-1)return"en-AE";if(window.location.href.indexOf("bmw-dubai.com/ar/")>-1)return"ar-AE";if(window.location.href.indexOf("bmw-jordan.com/en/")>-1)return"en-JO";if(window.location.href.indexOf("bmw-jordan.com/ar/")>-1)return"ar-JO";if(window.location.href.indexOf("bmw-kuwait.com/en/")>-1)return"en-KW";if(window.location.href.indexOf("bmw-kuwait.com/ar/")>-1)return"ar-KW";if(window.location.href.indexOf("bmw-me.com/en/")>-1)return"en-MP";if(window.location.href.indexOf("bmw-me.com/ar/")>-1)return"ar-MP";if(window.location.href.indexOf("bmw-oman.com/en/")>-1)return"en-OM";if(window.location.href.indexOf("bmw-oman.com/ar/")>-1)return"ar-OM";if(window.location.href.indexOf("bmw.ps/en/")>-1)return"en-PS";if(window.location.href.indexOf("bmw.ps/ar/")>-1)return"ar-PS";if(window.location.href.indexOf("bmw-qatar.com/en/")>-1)return"en-QA";if(window.location.href.indexOf("bmw-qatar.com/ar/")>-1)return"ar-QA";if(window.location.href.indexOf("bmw-saudiarabia.com/en/")>-1)return"en-SA";if(window.location.href.indexOf("bmw-saudiarabia.com/ar/")>-1)return"ar-SA";if(window.location.href.indexOf("bmw-yemen.com/en/")>-1)return"en-YE";if(window.location.href.indexOf("bmw-yemen.com/ar/")>-1)return"ar-YE";if("bmw.ca"!=e&&"bmw.be"!=e&&"bmw.ch"!=e&&"bmw.lu"!=e&&"bmw.co.th"!=e)return t[e]||t[e+"/"+location.pathname.split("/")[1].toLowerCase()];for(var s=0;s<a.length;s++)if(window.location.href.indexOf("/"+a[s]+"/")>-1||window.location.href.indexOf("."+a[s]+".")>-1||window.location.href.indexOf("/"+a[s]+"_")>-1||window.location.href.indexOf("/"+a[s]+"-")>-1)return a[s]+"-"+o[e]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},catchblock:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t,a){try{t.sa("bmwgroup.group.global.test"),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.events="event933",t.eVar34=String(a)||"unknown",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}catch(e){}}}}},isAdobeAnalyticsAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AdobeAnalytics;return e.isTrackingAllowed(t).toString()}catch(e){var a={from:"AA",type:"DE",name:"isAdobeAnalyticsAllowed"};_satellite.logger.error(e,a)}}}},"AA-PagecomponentName":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"component.componentInfo.componentName"}}},campaignParameter:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.ca":["tl"],"bmw-int2i.com":["tl"],"bmw.pt":["tl"],"bmw.co.id":["tl"],"bmw.com.mx":["tl"],"pml-bmw.com.sg":["tl"],"munichauto.com.sg":["tl"],"bmw.co.kr":["tl"],"bmw.ie":["tl"],"bmw.com.br":["tl"],"bmw.com.pa":["tl"],"bmw.com.py":["tl"],"bmw.com.co":["tl"],"bmw.com.pe":["tl"],"bmw.com.uy":["tl"],"bmw.com.gt":["tl"],"bmw.cl":["tl"],"bmw.co.cr":["tl"],"bmw.com.bo":["tl"],"bmw.com.ec":["tl"],"bmw.com.sv":["tl"],"bmw.com.ni":["tl"],"bmw.com.do":["tl"],"bmw.hn":["tl"],"bmw.com.ve":["tl"],"bmw.cw":["tl"],"bmw.bs":["tl"],"bmw.bb":["tl"],"bmw.com.ky":["tl"],"bmwjamaica.com":["tl"],"bmw.lc":["tl"],"bmw.tt":["tl"],"bmw.ht":["tl"],"bmw.com.ar":["tl"],"bmwlat.com":["tl"],"bmw.co.za":["tl"],"bmw.in":["tl"],"bmw.bg":["tl"],"bmw.gr":["tl"],"bmw.pl":["tl"],"bmw.hu":["tl"],"bmw.sk":["tl"],"bmw.si":["tl"],"bmw.ro":["tl"],"bmw.cz":["tl"],"bmw.co.jp":["tl"],"bmw.com.tr":["tl"],"bmw.com.au":["tl"],"bmw.fi":["tl"],"bmw.no":["tl"],"bmwhk.com":["tl"],"bmw.dk":["tl"],"bmw.se":["tl"],"bmw.ru":["tl"],"bmw.com.tw":["tl"],"bmw.lv":["tl"],"bmw.ee":["tl"],"next100.bmw":["tl"],"trgovec.bmw":["tl"],"testnavoznja.bmw":["tl"],"bmw.co.nz":["tl"],"bmw-asia.com":["tl"],"bmw.com.my":["tl"],"bmw.co.th":["tl"],"bmw.lk":["tl"],"bmw.com.ph":["tl"],"bmw-eg.com":["tl"],"bmw.am":["tl"],"bmw.vn":["tl"],"bmw.mu":["tl"],"bmw.com.al":["tl"],"bmw.ly":["tl"],"bmw.ua":["tl"],"bmw.com.bd":["tl"],"bmw.com.bn":["tl"],"bmw.com.ge":["tl"],"bmw.is":["tl"],"bmwmyanmar.com":["tl"],"bmw.co.il":["tl"],"bmw.cc":["tl"],"bmw-me.com":["tl"],"bmw.it":["tl"],"bmw-kuwait.com":["tl"],"bmw.com.cy":["tl"],"bmw.bm":["tl"],"bmw.com.mt":["tl"],"bmw-abudhabi.com":["tl"],"bmw-dubai.com":["tl"],"bmw.az":["tl"],"bmw.ba":["tl"],"bmw.be":["tl"],"bmw.dz":["tl"],"bmw.fr":["tl"],"bmw.hr":["tl"],"bmw-iraq.com":["tl"],"bmw.com.kz":["tl"],"bmw-lebanon.com":["tl"],"bmw.lu":["tl"],"bmw.md":["tl"],"bmw.nl":["tl"],"bmw-oman.com":["tl"],"bmw-pakistan.com":["tl"],"bmw-qatar.com":["tl"],"bmw.re":["tl"],"bmw-saudiarabia.com":["tl"],"bmw-tunisia.com":["tl"],"bmw.de":["tl"],"bmw.at":["tl"],"bmw.ch":["tl"],"bmw.es":["tl"],"bmw-lao.la":["tl"],"bmw-jordan.com":["tl"],"bmw-bahrain.com":["tl"],"bmw.ps":["tl"],"bmw-yemen.com":["tl"],"bmw-tahiti.com":["tl"],"bmw-antilles.fr":["tl"],"bmw.mq":["tl"],"bmw.com.cn":["tl"],"bmw.nc":["tl"],"bmw.rs":["tl"],"bmw-voli.me":["tl"],"bmw.com.mk":["tl"],"bmw-yachtsport.com":["tl"],"bmw-golfsport.com":["tl"],"bmw-motorsport.com":["tl"],"bmw-m.com":["tl"],"bmw.com":["tl"],"bmw.co.ke":["tl"],"bmw-ghana.com":["tl"],"bmw-nigeria.com":["tl"],"bmw.co.ao":["tl"],"bmw.sr":["tl"],"bmw.com.mo":["tl"],"bmw-special-sales.com":["tl"],"bmw-pma.com.sg":["tl"],"bmw.co.uk":["tl"],"bmwbkk.de":["tl"],"bmw.com.sg":["tl"]};function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var a=_satellite.getVar("topLevelDomain");if(void 0!==e[a])var o=e[a];else o=["tl"];for(var s="",n=0;n<o.length&&!(s=t(o[n]));n++);return s}catch(e){"true"==localStorage.getItem("sdsat_debug")&&_satellite.logger.error("SATELLITE: Campaign not tracked")}}}},isAAAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AdobeAnalytics;return e.isTrackingAllowed(t).toString()}catch(e){var a={from:"AA",type:"DE",name:"isAAAllowed"};_satellite.logger.error(e,a)}}}},"AA-PagesubCategory02 ":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.category.subCategory02"}}},isTargetPersonalizationAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").TargetPersonalization;return e.isTrackingAllowed(t).toString()}catch(e){var a={from:"AA",type:"DE",name:"isTargetPersonalizationAllowed"};_satellite.logger.error(e,a)}}}},"AT-SLAffinityParams ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(e,t,a){var o=function(e,t){try{return t[e&&e.attributes&&e.attributes.internalCode]}catch(e){}},s=function(e){var t=e&&e.attributes&&(e.attributes.serie||e.attributes.series);switch(t){case"X":var a=/BMW (X\d)/;return(o=(e.productInfo&&e.productInfo.productName).match(a))&&o[1];case"M":var o;return a=/BMW.*((X\d)|M(\d))/,(o=(e.productInfo&&e.productInfo.productName).match(a))&&(o[2]||o[3]);case"I":return"BMW i";default:return t}},n=function(e){var t=/BMW.*(M\d|X\d.*M)/;if((e&&e.productInfo&&e.productInfo.productName).match(t))return"M"},i=function(e){return e&&e.attributes&&e.attributes.modelCode},r=function(e){return e&&e.productInfo&&e.productInfo.productID},c=function(e){return e&&e.eventInfo&&e.eventInfo.eventName},d=function(e){return e&&e.attributes&&e.attributes.internalCode},l=function(e,t){var a=e&&e.productInfo&&e.productInfo.productName,o=e&&e.productInfo&&e.attributes.internalCode,s=Object.keys(t);if(window.location.href.indexOf("bmw.es")>-1){for(var n=0;n<s.length;n++)if(o.indexOf(s[n])>-1)return t[s[n]]}else for(n=0;n<s.length;n++)if(a.indexOf(s[n])>-1)return t[s[n]]};return function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e}({"car-body-type":(t.listOfExceptions&&l(e,t.listOfExceptions)||{})["car-body-type"]||o(e,t.bodyTypeCode),"car-series":s(e),"car-variant":n(e),"car-model-code":i(e),"car-configuration-string":r(e),"event-name":c(a),"car-model":d(e)})},t={"bmw.co.uk":{bodyTypeCode:{SH:"hatch",GF:"sports_activity_vehicle",CP:"coupe",LI:"saloon",SC:"sports_activity_coupe",TO:"touring",CO:"coupe",CA:"convertible",RO:"roadster",ST:"gran_turismo",CL:"bmw_i",MP:"tourer"},listOfExceptions:{}},"bmw.it":{bodyTypeCode:{SH:"hatch",GF:"sports_activity_vehicle",CP:"coupe",LI:"sedan",SC:"sports_activity_coupe",TO:"touring",CO:"coupe",CA:"convertible",RO:"roadster",ST:"gran_turismo",CL:"bmw_i",MP:"tourer"},listOfExceptions:{}},"bmw.fr":{bodyTypeCode:{GF:"sports_activity_vehicle",SH:"hatch",LI:"sedan",SC:"sports_activity_vehicle",CP:"coupe",TO:"touring",CO:"coupe",CA:"convertible",ST:"gran_turismo",CL:"hatch",RO:"roadster",MP:"tourer"},listOfExceptions:{}},"bmw.ru":{bodyTypeCode:{CA:"convertible",GF:"sports_activity_vehicle",LI:"sedan",SH:"hatch",CO:"coupe",SC:"sports_activity_coupe",CP:"coupe",ST:"gran_turismo",RO:"roadster",CL:"hatch"},listOfExceptions:{"BMW 218i Gran Coupe":{"car-body-type":"gran_coupe"},"BMW M8 Gran Coupe":{"car-body-type":"gran_coupe"},"BMW 420i xDrive Gran Coupe":{"car-body-type":"gran_coupe"}}},"bmw.de":{bodyTypeCode:{CA:"cabrio_roadster",GF:"sports_activity_vehicle",LI:"sedan",TO:"touring",SH:"hatch",CO:"coupe",SC:"sports_activity_coupe",CP:"coupe",ST:"gran_turismo",RO:"roadster",CL:"hatch",MP:"tourer"},listOfExceptions:{"BMW Z4 sDrive20i":{"car-body-type":"cabrio_roadster"},"BMW 216i Active Tourer":{"car-body-type":"tourer"},"BMW Z4 M40i":{"car-body-type":"cabrio_roadster"}}},"bmw.es":{bodyTypeCode:{SH:"compacto",CO:"coupe",CA:"cabrio",MP:"tourer",ST:"tourer",GF:"todocamino",SC:"todocamino",LI:"berlina",RO:"roadster",TO:"touring",CP:"coupe",CL:"bmw_i"},listOfExceptions:{G26E:{"car-body-type":"bmw_i"},G32:{"car-body-type":"gran_turismo"},I20:{"car-body-type":"bmw_i"},G08:{"car-body-type":"bmw_i"},U11:{"car-body-type":"bmw_i"},BEV:{"car-body-type":"bmw_i"},U11E:{"car-body-type":"bmw_i"},F39:{"car-body-type":"bmw_i"},G70E:{"car-body-type":"bmw_i"}}}}[_satellite.getVar("topLevelDomain")]||{};return t&&_satellite.getVar("isTargetPersonalizationAllowed")?e(_satellite.getVar("snapshotDL").get("product.-1"),t,_satellite.getVar("snapshotDL").get("event.-1")):{}}catch(e){var a={from:"AA",type:"DE",name:"AT-AffinityParams"};return _satellite.logger.error(e,a),{}}}}},Cluster_DE_VibeSegments:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),a=t.timespent,o=0,s="";if(keysSorted=Object.keys(a).sort((function(e,t){return a[e]-a[t]})),mostSpent=keysSorted[keysSorted.length-1],a){for(var n=0;n<Object.values(a).length;n++)o+=Number(Object.values(a)[n]);return(1==t.VisitNumber||2==t.VisitNumber)&&o>=.2&&o<=1?s="C4":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Configurator"==mostSpent?s="C13":(1==t.VisitNumber||2==t.VisitNumber)&&o>5?s="C12":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=.2&&o<=1?s="C15":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"New Car"==mostSpent?s="C9":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=4&&o<=11?s="C2":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Configurator"==mostSpent?s="C7":t.VisitNumber>14&&o>=.2&&o<=11?s="C6":t.VisitNumber>14&&o>12?s="C3":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Showroom"==mostSpent?s="C1":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Shops"==mostSpent?s="C8":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Used Car"==mostSpent?s="C5":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Used Car"==mostSpent?s="C11":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Showroom"==mostSpent?s="C14":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Home"==mostSpent?s="C5":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Home"==mostSpent?s="C11":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Topics"==mostSpent?s="C10":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Showroom"==mostSpent?s="C7":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Topics"==mostSpent?s="C13":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Home"==mostSpent?s="C14":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"New Car"==mostSpent?s="C7":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"New Car"==mostSpent?s="C13":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Configurator"==mostSpent?s="C14":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Topics"==mostSpent?s="C7":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Shops"==mostSpent?s="C11":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Used Car"==mostSpent?s="C9":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Shops"==mostSpent?s="C7":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Forms"==mostSpent?s="C1":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Forms"==mostSpent?s="C8":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Forms"==mostSpent?s="C7":(1==t.VisitNumber||2==t.VisitNumber)&&o>=1&&o<=4&&"Other"==mostSpent?s="C11":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>=1&&o<=4&&"Other"==mostSpent?s="C8":(t.VisitNumber>=3||t.VisitNumber<=13)&&o>12&&"Other"==mostSpent&&(s="C7"),s}}}},"AAM-hasheducid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.toString(),t=new URL(e).searchParams.get("hucid");if(null!=t)return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},flatMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=_satellite.getVar("snapshotDL");e.linkTrackVars="events,",e.linkTrackEvents="",e.events="",new Date,t.get(location.href,"page.pageInfo.destinationUrl"),_satellite.getVar("snapshotDL").get("event.-1.attributes.linkedComponent.-1.category.componentType"),_satellite.getVar("snapshotDL").get("component.-1.category.componentType");var a=t.get("event.-1.attributes.relatedComponentID"),o=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),s="stock > ";if("search"==t.get("event.-1.eventInfo.eventName")||"sl > search filter"==t.get("event.-1.eventInfo.eventName")){_satellite.logger.log("inside search filter khubruy");var n=t.get("event.-1.attributes.search",{});if(e.products="",n.length>0)for(var r in n)void 0!==n[r].label&&(e.products+="search;search;;;;eVar30="+(n[r].unit||"")+"|eVar31="+(n[r].state||"")+"|eVar32="+(n[r].label||"")+"|eVar33="+(n[r].term||"")+",")}_satellite.getVar("setProductString")(e),e.server=location.hostname,e.linkTrackVars+="server,",e.prop45=t.get("component.-1.attributes.componentVersion"),e.linkTrackVars+="prop45,",e.eVar134=t.get("component.-1.attributes.touchpoint","web"),e.linkTrackVars+="eVar134,",e.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,e.linkTrackVars+="prop42,",e.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,e.linkTrackVars+="prop43,",e.prop44=t.get("component.-1.componentInfo.componentID"),e.linkTrackVars+="prop44,",e.prop19=-1!=window.location.href.indexOf("similarity")?"similarity-search":_satellite.getVar("AA-componentDefaultValues").componentName,e.linkTrackVars+="prop19,";try{if("datalayer field missing"==a&&"datalayer field missing"==o)e.prop41=t.get("component.-1.category.componentType"),e.linkTrackVars+="prop41,";else for(i=0;i<t.get("component").length;i++){var c=i.toString();t.get("component."+c+".componentInfo.componentID")!=a&&t.get("component."+c+".componentInfo.componentID")!=o||(_satellite.logger.log("related component - Akshay changes - "+t.get("component."+c)),e.prop41=t.get("component."+c+".category.componentType"),e.linkTrackVars+="prop41,")}}catch(e){}"not set"!=t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(e.prop44=t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")),e.prop27=t.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",t.get("page.pageInfo.pageID",t.get("event.-1.attributes.linkedPage.pageInfo.pageID"))),e.linkTrackVars+="prop27,",e.eVar43=t.get("dealer.-1.attributes.selectionState"),e.linkTrackVars+="eVar43,",e.eVar41=t.get("dealer.-1.dealerInfo.dealerGroupName",t.get("dealer.-1.dealerInfo.dealerGroup")),e.linkTrackVars+="eVar41,",e.eVar42=t.get("dealer.-1.dealerInfo.dealerID",t.get("dealer.-1.dealerInfo.dealerGroupID")),e.linkTrackVars+="eVar42,",e.eVar39=t.get("dealer.-1.dealerInfo.dealerOutletName",t.get("dealer.-1.dealerInfo.dealerName")),e.linkTrackVars+="eVar39,",e.eVar40=t.get("dealer.-1.dealerInfo.outletID",t.get("dealer.-1.dealerInfo.dealerOutletID")),e.linkTrackVars+="eVar40,",e.prop17=t.get("event.-1.attributes.form.rfxID"),e.linkTrackVars+="prop17,","not set"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field missing"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field empty"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(e.prop44=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")),e.eVar71=t.get("event.-1.attributes.requestedURL"),e.linkTrackVars+="eVar71,",e.prop54=t.get("event.-1.category.primaryCategory",t.get("event.-1.category.primaryCatergory")),e.linkTrackVars+="prop54,",e.prop50=t.get("event.-1.attributes.element"),e.linkTrackVars+="prop50,","form"==t.get("event.-1.eventInfo.eventName")&&(e.prop11=t.get("event.-1.category.primaryCategory"),e.linkTrackVars+="prop11,",e.prop7=t.get("event.-1.category.subCategory1"),e.linkTrackVars+="prop7,",e.prop8=t.get("event.-1.eventInfo.effect"),e.linkTrackVars+="prop8,",e.prop6=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop6,"),e.prop55=t.get("event.-1.category.subCategory1",t.get("event.-1.attributes.errorCode",t.get("event.-1.solutionSpecific.slfavItemsNum",t.get("event.-1.attributes.searchResults",t.get("event.-1.category.subCategory01"))))),e.linkTrackVars+="prop55,",e.prop51=t.get("event.-1.category.subCategory2"),e.linkTrackVars+="prop51,","search"==t.get("event.-1.eventInfo.eventName")&&(e.prop24=t.get("event.-1.category.subCategory1",t.get("event.-1.category.subCategory01")),e.linkTrackVars+="prop24,",e.prop53=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop53,"),e.prop52=t.get("event.-1.eventInfo.cause"),e.linkTrackVars+="prop52,",e.eVar34=t.get("event.-1.eventInfo.effect"),e.eVar34.indexOf(s)<0&&(e.eVar34=s+e.eVar34),e.linkTrackVars+="eVar34,",e.prop57=t.get("event.-1.eventInfo.eventAction"),e.linkTrackVars+="prop57,",e.prop56=t.get("event.-1.eventInfo.eventName"),e.linkTrackVars+="prop56,",t.get("event.-1.eventInfo.eventPoints")&&parseInt(t.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(t.get("event.-1.eventInfo.eventPoints")))?(parseInt(t.get("event.-1.eventInfo.eventPoints"))>6e4?e.events=e.apl(e.events,"event970=60001",",",1):parseInt(t.get("event.-1.eventInfo.eventPoints"))<=0?e.events=e.apl(e.events,"event970=0",",",1):e.events=e.apl(e.events,"event970="+t.get("event.-1.eventInfo.eventPoints"),",",1),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event970")):(e.prop58=t.get("event.-1.eventInfo.eventPoints"),e.linkTrackVars+="prop58,"),e.prop12=t.get("event.-1.eventInfo.timeStamp",t.get("event.-1.eventInfo.timestamp")),e.linkTrackVars+="prop12,",e.prop53=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop53,",e.eVar23=t.get("event.-1.attributes.form.preferredComChannel",t.get("event.-1.attributes.form.preferredComChannel")),e.linkTrackVars+="eVar23,",e.eVar24=t.get("event.-1.attributes.searchResults"),e.linkTrackVars+="eVar24,",e.prop13=t.get("page.attributes.brand"),e.linkTrackVars+="prop13,",e.prop2=t.get("page.category.pageType"),e.linkTrackVars+="prop2,","form"==t.get("page.category.pageType")?(e.prop11=t.get("page.category.primaryCategory"),e.linkTrackVars+="prop11,",e.prop9=t.get("page.category.subCategory1"),e.linkTrackVars+="prop9,",e.prop10=t.get("page.category.subCategory2"),e.linkTrackVars+="prop10,"):"search"==t.get("page.category.pageType")&&(e.prop53=t.get("page.category.subCategory1"),e.linkTrackVars+="prop53,"),e.prop4=t.get("page.category.subCategory1"),e.linkTrackVars+="prop4,",e.prop5=t.get("page.category.subCategory2"),e.linkTrackVars+="prop5,",e.prop46=t.get("page.pageInfo.author"),e.linkTrackVars+="prop46,",e.eVar7=t.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),e.eVar7=e.eVar7.indexOf("-")>-1?e.eVar7.split("-")[0]:e.eVar7,e.linkTrackVars+="eVar7,",e.eVar8=_satellite.getVar("AA-languageWorkaround"),e.linkTrackVars+="eVar8,",e.prop1=t.get("page.pageInfo.pageName"),e.prop1.indexOf(s)<0&&e.prop1.indexOf("dcs")<0?(e.prop1=s+e.prop1,e.pageName=e.prop1):e.pageName=e.prop1,e.linkTrackVars+="pageName,prop1,",e.eVar135=t.get("page.pageInfo.sysEnv"),e.linkTrackVars+="eVar135,",e.prop28=t.get("page.pageInfo.variant"),e.linkTrackVars+="prop28,",e.prop29=t.get("page.pageInfo.version"),e.linkTrackVars+="prop29,",e.prop59=t.get("product.-1.attributes.configID"),e.linkTrackVars+="prop59,",e.eVar19=t.get("user.-1.profile.-1.address.stateProvince"),e.linkTrackVars+="eVar19,",e.eVar20=t.get("user.-1.profile.-1.address.country"),e.linkTrackVars+="eVar20,",e.prop40=t.get("user.-1.profile.-1.attributes.loggedInStatus"),e.linkTrackVars+="prop40,",e.eVar21=t.get("user.-1.profile.-1.profileInfo.language"),e.linkTrackVars+="eVar21,",e.eVar17=t.get("user.-1.profile.-1.profileInfo.profileID"),e.linkTrackVars+="eVar17,",e.eVar15=t.get("user.-1.profile.-1.profileInfo.type"),e.linkTrackVars+="eVar15,",e.eVar16=t.get("user.-1.segment"),e.eVar16=e.eVar16&&"object"==typeof e.eVar16?"datalayer field empty":e.eVar16,e.linkTrackVars+="eVar16,",e.eVar136=t.get("version.version",e.version),e.linkTrackVars+="eVar136,",e.eVar122=t.get("page.attributes.currencyCode"),e.linkTrackVars+="eVar122,",e.eVar120=t.get("cart.cartID"),e.linkTrackVars+="eVar120,",e.eVar125=t.get("transaction.-1.transactionID"),e.linkTrackVars+="eVar125,"}catch(e){var d={from:"AA",type:"DE",name:"flatMapping"};_satellite.logger.error(e,d)}}}}},setDefaultProductVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL"),t=_satellite.getVar("productBuilder"),a=(window.location.href,e.get("product.-1.productInfo.productID")),o=e.get("product.-1.attributes.bodyType"),n=e.get("product.-1.attributes.fuelType"),i=e.get("product.-1.attributes.hybridVersion"),r=e.get("product.0.category.primaryCategory"),c=(e.get("product.-1.productInfo.manufacturer"),e.get("product.-1.attributes.mmdr")),d=(e.get("product.-1.attributes.modelName"),e.get("product.-1.attributes.modelCode")),l=(e.get("product.-1.attributes.modelCodeAG"),e.get("product.-1.productInfo.productName")),u=e.get("product.-1.attributes.series"),m=["new vehicle","used vehicle","service","search","after sales","accessory"];function b(e){return e.indexOf("gasoline")>-1?e.indexOf("hybrid")>-1?"x":"o":e.indexOf("diesel")>-1?e.indexOf("hybrid")>-1?"y":"d":e.indexOf("electric")>-1?"e":e.indexOf("petrol")>-1?"b":e}if(e.get("product").length>0)for(var g in e.get("product"))if(!isNaN(+g)){var f=e.get("product."+g+".attributes.mmdr",e.get("product."+g+".attributes.internalCode")),p=e.get("product."+g+".attributes.mmdrVG",e.get("product."+g+".attributes.internalCode")),v=e.get("product."+g+".attributes.modelCode");c="G26E"==f||"G26E"==p||"71AW"==v||"31AW"==v?"G26E":"G70E"==f||"G70E"==p?"G70E":e.get("product."+g+".attributes.mmdr",e.get("product."+g+".attributes.internalCode"))}var h=e.get("product.-1.attributes.motorization",e.get("product.-1.attributes.engine"));if(h){var _=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,j=/sdrive[0-9]{2}[a-z]{1}/i,y=h.match(_)||h.match(P)||h.match(j);h.indexOf("i3 (120 ah)")>-1||h.indexOf("i3 (120ah)")>-1||h.indexOf("i3 120ah")>-1?h="i3 (120 ah)":h.indexOf("i3s (120 ah)")>-1||h.indexOf("i3s (120ah)")>-1||h.indexOf("i3s 120ah")>-1?h="i3s (120 ah)":y&&y.length&&(h=y[0].toUpperCase())}var C=e.get("product.-1.attributes.gearing");"automatic"==(C=C.toLowerCase())||"manual"==C||(C.indexOf("autom")>-1||C.indexOf("steptronic")>-1?C="automatic":(C.indexOf("manu")>-1||C.indexOf("schaltgetriebe")>-1)&&(C="manual")),"CA"==(o=e.get("product.-1.attributes.bodyType"))?o="CAB":"HB"==o?o="CLU":"KO"==o?o="COM":"CO"==o||"CP"==o?o="COU":"GF"==o?o="GFZ":"HB"==o||"SH"==o?o="SHA":"LI"==o?o="LIM":"MP"==o?o="MPV":"RO"==o?o="ROA":"SC"==o?o="SAC":"ST"==o?o="SAT":"GF"==o?o="SAV":"HC"==o?o="SHA":"TO"==o&&(o="TOU"),t.id=a,e.get("product.-1.attributes.sellingPriceTotal","0"),"new car"==r||"New Car"==r||"New car"==r?(t.category="new vehicle",basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):"used car"==r?(t.category="used vehicle",basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):"accessories"==r?(t.category="after sales",basePriceVehicle=e.get("product.-1.attributes.basePriceOptions","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceOptions","0")):"forms"==r?(t.category="new vehicle",t.id=d,basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):m.indexOf(r)>-1?(t.category=r,basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):t.category="datalayer field missing";var w={eVar10:c,eVar44:e.get("product.-1.attributes.productionYear"),eVar45:e.get("product.-1.attributes.yearOfRegistration"),
eVar46:e.get("product.-1.attributes.vehicleSelection",e.get("product.-1.attributes.vehicleStatus",e.get("product.-1.attributes.status"))),eVar47:e.get("product.-1.productInfo.color"),eVar48:d,eVar49:e.get("product.-1.attributes.gearing"),eVar50:u,eVar51:o,eVar52:l,eVar53:e.get("product.-1.category.primaryCategory"),eVar54:e.get("product.-1.category.subCategory01",e.get("product.-1.category.subCategory1")),eVar55:e.get("product.-1.category.subCategory02",e.get("product.-1.category.subCategory2")),eVar56:b(n),eVar57:i,eVar58:h,eVar65:e.get("product.-1.attributes.modelName"),eVar66:e.get("product.-1.attributes.trimLevel"),eVar69:e.get("product.-1.attributes.modelCodeAG"),eVar121:e.get("cart.price.voucherCode",e.get("transaction.total.voucherCode")),eVar124:e.get("cart.price.taxRate",e.get("transaction.total.taxRate")),eVar126:e.get("cart.price.shippingMethod",e.get("transaction.total.shippingMethod"))};t.merchEvars=w;var R=[];return R.push("event831=0"),R.push("event832=0"),R.push("event833=0"),R.push("event834=0"),R.push("event835=0"),R.push("event836=0"),R.push("event837=0"),R.push("event858=0"),t.events=R,s.events=s.apl(s.events,"event831,event832,event833,event834,event835,event836,event837,event858"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),s.prop59=e.get("product.-1.attributes.configID"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar67,eVar121,eVar124,eVar126"),t}catch(e){var x={from:"AA",type:"Data Element",name:"setDefaultProductVariables"};_satellite.logger.error(e,x)}}}},topLevelDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.hostname,t=e.split(".").reverse(),a=t[1]+"."+t[0];return(e.indexOf(".co.")>-1||e.indexOf(".com.")>-1&&t.length>2)&&(a=t[2]+"."+a),a}catch(e){var o={from:"AA",type:"DE",name:"topLevelDomain"};_satellite.logger.error(e,o)}}}},URLNoParam:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return location.host+location.pathname}catch(e){}}}},ev_att_componentName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentName}catch(e){}}}},ev_cat_subCategory02:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1,a=e.event[t].category.subCategory02,o=_satellite.getVar("ev_cat_subCategory04"),s=_satellite.getVar("topLevelDomain");return null!=a&&""!=a||(a="Generic"),"bmw.com.tr"!=s&&"bmw.co.jp"!=s&&"bmw-antilles.fr"!=s||null!=o&&""!=o&&"not set"!=o&&(a="Campaign"),a}catch(e){}}}},jcrPathLevel3:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_pag_pageName"),a=_satellite.getVar("pa_cat_primaryCategory"),o=e.split("/"),s=6,n=3;n=n+s-1;var i=o.length;if(n<i)var r=o[n];else r="None";return"newvehicles"!==o[s]&&"all-models"!==o[s]||(r=n<i?o[n]+" "+o[n+1]:"None"),e.indexOf("/configurator")>-1&&(r="None"),"VCO"===a&&(r=t),r}catch(e){}}}},"AA-SearchAds360Parameter":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.de":["gclid"],"bmw.at":["gclid"]};function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var a=_satellite.getVar("topLevelDomain");if(void 0!==e[a])var o=e[a];var s="";if("bmw.de"==a||"bmw.at"==a)for(var n=0;n<o.length&&!(s=t(o[n]));n++);return s}catch(e){var i={from:"AA",type:"DE",name:"SearchAds360Parameter"};_satellite.logger.error(e,i)}}}},perfTime_hash:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.hash):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_hash : "+e),"na"}}}},"AAM-partnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("AAM-initConfig");return e&&e.partner||""}catch(e){var t={from:"AA",type:"DE",name:"AAM-partnerID"};_satellite.logger.error(e,t)}}}},webDL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==e){var t=e.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var a=t;a>0;a--)if("object"==typeof e.getPageObject(a).page&&"VCO"==e.getPageObject(a).page.category.primaryCategory){t=a;break}var o=e.getPageObject(t);if(void 0!==o.pageInstanceId&&""!=o.pageInstanceId&&-1==o.pageInstanceId.indexOf("need-analyzer"))return o;if(void 0!==o.component&&o&&o.component[0]&&o.component[0].category&&"stock locator"==o.component[0].category.subCategory01)return o;if(void 0!==o.component&&o&&o.component[0]&&o.component[0].componentInfo&&"digital checkout solution"==o.component[0].componentInfo.componentName)return o;if(void 0!==o.pageInstanceId&&""!=o.pageInstanceId&&o.product.length>0)return o;if(void 0!==o.pageInstanceId&&""!=o.pageInstanceId)return o=t&&t>0?e.getPageObject(t):e.getPageObject(0)}return o}catch(e){var s={from:"AA",type:"DE",name:"webDL"};_satellite.logger.error(e,s)}}}},ev_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].category.subCategory01}catch(e){}}}},"AT-property":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("AT-property"))return e.get("AT-property");var t={"bmw.co.za":"08d747c0-6d3b-df18-bfb9-b24468cafd0d","bmw.de":"08ab7353-eddd-5a23-5029-8db5a0795efa","bmw.it":"14a7eacb-d9ed-139b-3740-1715a4324a87","bmw.nl":"a32b2cb6-0d0b-bd0d-b61b-117ae1c93e2a","bmw.fr":"c63e9226-164f-68ce-6a77-04714d861534","bmw.es":"5f6624f7-b481-68c5-89ec-2f7c6df01e47","bmw.co.kr":"265709a7-eeba-c737-64b2-0bf051f21cb7","bmw.co.jp":"3ff9d062-6800-4a61-0e57-9d03be4a750d","bmw.ru":"932155db-25c4-5f53-1e6a-420ea418566a","bmw.se":"5fec81b0-d53d-f0c2-76ab-2563557abf59","bmw.at":"0cf18719-6a28-12fe-562a-a61a9a1d2c3c","bmw.pl":"ca83460d-3364-fbeb-443a-808a2d6d290f","bmw.ca":"240a98d1-97d2-4caf-069b-db1ed515c04e","bmw.be":"a2e280c3-8caf-d7e3-7dd2-7f9097e49c22","bmw.co.uk":"0c9cfadf-3753-7304-c045-49d4d0616e83","bmw.com/en-au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","bmw.com.au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","m156.bmw-int4.com":"f10cff72-85f7-9945-d5bc-81c27ba97ef9","bmw.ch/de":"4ace6d95-d674-704a-41af-aac0be1db8f7","bmw.no":"69f4cd76-ff19-b1cc-c49e-e78fb468fba7","bmw.lu":"e772e93f-2b42-a86e-58a6-7bd6b9ecf004","bmw.fi":"43dcb5ea-dcbb-889f-f645-534c9bccdb98","bmw-test6.com":"f10cff72-85f7-9945-d5bc-81c27ba97ef9"},a=t[_satellite.getVar("topLevelDomain")]||t[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"";return e.set("AT-property",a),a}catch(e){var o={from:"AA",type:"DE",name:"AT-property"};_satellite.logger.error(e,o)}}}},setPageSpeedVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){if(void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var t=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(t),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(e.events=e.apl(e.events,"event971="+json_data.timeServer,",",1),e.events=e.apl(e.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(e.events=e.apl(e.events,"event973="+json_data.lcp,",",1)),e.events=e.apl(e.events,"event974="+json_data.timeContent,",",1),e.events=e.apl(e.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(e.events=e.apl(e.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(e.events=e.apl(e.events,"event969="+json_data.cls,",",1),e.events=e.apl(e.events,"event967="+json_data.clsTotal,",",1)),e.eVar36=_satellite.getVar("perfTime_url"),e.eVar37=_satellite.getVar("perfTime_query"),e.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(e.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(e.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}e.linkTrackVars="events",e.linkTrackEvents=e.events,e.linkTrackVars=e.apl(e.linkTrackVars,"eVar36,eVar37,eVar38,eVar68")}}catch(t){var e={from:"AA",type:"DE",name:"setPageSpeedVariables"};_satellite.logger.error(t,e)}}}},consentMap:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"true"===_satellite.getVar("splitConsentEnabled")?{AdobeAnalytics:"AdobeAnalytics",Target:"AdobeTargetAnalytics",TargetPersonalization:"AdobeTargetPersonalization",AAM:"AdobeAudienceManager_DMP",campaignCookieTracking:"campaignCookieTracking"}:{AdobeAnalytics:"advertising",Target:"advertising",TargetPersonalization:"advertising",AAM:"advertising",Others:"advertising",campaignCookieTracking:"campaignCookieTracking"}}catch(t){var e={from:"AA",type:"DE",name:"consentMap"};_satellite.logger.error(t,e)}}}},"AAM-dummyPartnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=(_satellite.getVar("pa_pag_pageName"),_satellite.getVar("pa_cat_primaryCategory")),a=[_satellite.getVar("jcrPathLevel1"),_satellite.getVar("jcrPathLevel2"),_satellite.getVar("jcrPathLevel3")],o=e.split("/"),s=6,n=o.length,i="";for(c=s;c<n;c++)i+=o[c]+" > ";if(i=i.substring(0,i.length-3),"VCO"===t){for(var r="",c=0;c<3;c++)r+=a[c]+" > ";i=r=r.substring(0,r.length-3)}return i=i.replace(/-prod/g,"")}catch(e){}}}},"AA-marketCodes":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ZA","AR","AT","AU","BE","BG","BR","CA","CH","CN","CZ","DE","DK","ES","FI","FR","GB","GR","HU","ID","IE","IN","IS","IT","JP","KR","LU","MX","MY","NL","NO","NZ","PL","PT","RO","RU","SE","SI","SK","TH","SG","SL","US"]}}},"KIT-helpers":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js",settings:{helperTools:null}},pr_att_modelName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,a=e.product[t].attributes.modelName;return""==a&&(a="not set"),a}catch(e){return"not set"}}}},usabilla_restrict_keywords_url:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=["prueba","oferta","rfi","rfo","tda","my-bmw-start.html","dlo","rfc","my-bmw.html","panoramica","gamma","test-drive-now","bmw-cataloghi.html","offers-service","offres-et-services","toute-la-gamme","test-drive","forms/request.html","offers-and-services","tda-experience","contact","offerte","proefrit","berekenen","nieuwsbrief","online-afspraakplanner","aanvraag/contact","vakantieauto","brochure-prijslijst","my-bmw.html","accessoire-configurator","call-me-back.html","als-eerste-rijden"],t=0;t<e.length;t++)if(-1!==_satellite.getVar("URL").indexOf(e[t]))return!0;return!1}catch(e){var a={from:"Usabilla",type:"DE",name:"usabilla_restrict_keywords"};_satellite.logger.error(e,a)}}}},fusionEventMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e,t,a){try{a=a||"datalayer field missing";for(var o=["","na","not set","n/a","not available"],s=(t=t||"").split("."),n=e,i=0;i<s.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(s[i])?n[n.length-Math.abs(parseInt(s[i]))]:n[s[i]];return"string"==typeof n&&o.indexOf(n.toLowerCase())>-1?"datalayer field empty":n||a}catch(e){console.error("Error:",e)}}return function(a){try{var o=e.message,s=e.fullState,n=t(o,"eventInfo.reference.linkedComponent"),i=t(s,"component")[n],r=t(s,"page.pageInfo.pageName"),c=t(s,"page.category.subCategory1"),d=t(o,"eventInfo.eventAction"),l=t(o,"eventInfo.eventName"),u=t(o,"eventInfo.type"),m=t(o,"eventInfo.effect"),b=t(o,"eventInfo.attributes.media.totalLength"),g=t(o,"eventInfo.attributes.media.currentTime"),f=t(i,"category.primaryCategory"),p=t(i,"componentInfo.componentName"),v=(t(o,"eventInfo.category.primaryCategory"),t(o,"eventInfo.category.subCategory1")),h=t(o,"eventInfo.category.subCategory2"),_=(t(o,"eventInfo.category.subCategory3"),{rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]}),P=_[c.toLowerCase()],j=_[u.toLowerCase()],y=_[v.toLowerCase()],C=_[h.toLowerCase()];m.indexOf("form started")>-1||"Form Start"==l||"Form Start"==r?(a.events=a.apl(a.events,"event3,event4",","),null!=C&&(a.events=a.apl(a.events,C[0])),null!=j&&(a.events=a.apl(a.events,j[0])),null!=P&&(a.events=a.apl(a.events,P[0])),null!=y&&(a.events=a.apl(a.events,y[0]))):"nsc > form finished"==m||"Form Success"==l||"Form Start"==r?(a.events=a.apl(a.events,"event15, event16",","),null!=C&&(a.events=a.apl(a.events,C[1])),null!=j&&(a.events=a.apl(sevents,j[1])),null!=P&&(a.events=a.apl(a.events,P[1])),null!=y&&(a.events=a.apl(a.events,y[1]))):m.indexOf("form start intention")>-1||"First Interaction"==l?a.events=a.apl(a.events,"event5,event6,event917,event918",","):m.indexOf("form step")>-1||"Form Step"==l||"Form Step"==r?a.events=a.apl(a.events,"event7,event8",","):m.indexOf("form interaction")>-1?a.events=a.apl(a.events,"event9,event10,event917,event918",","):m.indexOf("form finish intention")>-1&&(a.events=a.apl(a.events,"event13,event14,event917,event918",",")),"media started"==d?a.events=a.apl(a.events,"event351",""):"media milestone reached"==d?(a.events=a.apl(a.events,"event357="+b,","),a.events=a.apl(a.events,"evant358="+g,","),m.indexOf("10%")>-1&&(a.events=a.apl(a.events,"event352","")),m.indexOf("25%")>-1&&(a.events=a.apl(a.events,"event353","")),m.indexOf("50%")>-1&&(a.events=a.apl(a.events,"event354","")),m.indexOf("70%")>-1&&(a.events=a.apl(a.events,"event355","")),m.indexOf("950%")>-1&&(a.events=a.apl(a.events,"event356",""))):"media finished"==d&&(a.events=a.apl(a.events,"event359",""));var w={"e-mail":["event901, event902"],download:["event903, event904"],share:["event905, event906"],call:["event913, event914"],print:["event915, event916"],interaction:["event917, event918"]}[d.toLowerCase()];null!=w&&(a.events=a.apl(a.events,w[0])),"configurations"==f&&"visualizer"==p&&("user started configuration"==m&&(a.events=a.apl(a.events,"event311,event312","")),"interaction"==l&&(a.events=a.apl(a.events,"event313,event314","")),"user finished configuration"==m&&(a.events=a.apl(a.events,"event315,event316",""))),a.linkTrackEvents=a.apl(a.linkTrackEvents,a.events)}catch(e){var R={from:"AA",type:"DE",name:"fusionEventMapping"};_satellite.logger.error(e,R)}}}}},"TPT-PII_keywords":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"]}}}},extensions:{"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP171e731c9ba34f1c950c36d26e3efd61/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",customSetup:{source:function(e){try{var t=function(){try{var t=_satellite.getVar("AAM-initConfig"),a=function(t){e.contextData["cm.ssf"]=t,e.linkTrackVars=e.apl(e.linkTrackVars,"contextData.cm.ssf",",")};t?(e.AudienceManagement.setup(t),a("true"===_satellite.getVar("isAAMAllowed")?"0":"1")):a("1")}catch(e){var o={from:"AA",type:"DE",name:"Customize Page Code - doAAMConfig"};_satellite.logger.error(e,o)}},a=function(){var e,t,a=this,o=/eVar|prop|pageName|channel|hier/,s=_satellite.getVar("AA-Exclusionlist");for(e in a)t=a[e],Object.prototype.hasOwnProperty.call(a,e)&&"string"==typeof t&&o.test(e)&&-1===s.indexOf(e)&&(a[e]=t.toLowerCase());return a},o=_satellite.getVar("removePII");e.usePlugins=!0,e.doPlugins=function(e){try{t(),e=a.call(e),(e=o(e)).pageURL=e.pageURL?o(e.pageURL):o(window.location.href),e.referrer=e.referrer?o(e.referrer):o(document.referrer),e.getPercentPageViewed();var s=_satellite.getVar("snapshotDL");try{var n=s.get("page.pageInstanceId",s.get("pageInstanceId")),r=s.get("page.category.primaryCategory"),c=new RegExp("([a-z]{2}_[a-zA-Z]{2})");c.test(e.prop3)&&(c.test(r)?n.indexOf("index-prod")>-1?e.prop3="homepage":n.indexOf("all-models")>-1?e.prop3="showroom":e.prop3=n.split("/")[6]:e.prop3=n)}catch(e){var d={from:"AA",type:"DE",name:"prop3 workaround"};_satellite.logger.error(e,d)}if(e.eVar131=_satellite.getVar("lastTwoDigitsOfMID")(),e.linkTrackVars+=",eVar131","bmw.at"===_satellite.getVar("topLevelDomain")&&(e.prop35=_satellite.getVar("final_newscore"),e.events=e.apl(e.events,"event140="+_satellite.getVar("final_newscore"),","),e.linkTrackVars=e.apl(e.linkTrackVars,"prop35",","),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event140",",")),"bmw.be"===_satellite.getVar("topLevelDomain")||"bmw.lu"===_satellite.getVar("topLevelDomain")){function l(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var u=l("v_reco_data").scorefinal;e.prop35=u,e.events=e.apl(e.events,"event140="+u,","),e.linkTrackVars=e.apl(e.linkTrackVars,"prop35",","),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event140",",")}if("bmw.de"===_satellite.getVar("topLevelDomain")||"bmw.co.uk"===_satellite.getVar("topLevelDomain")){function l(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var m=l("v_reco_data").SFB,b=l("v_reco_data").tda,g=l("v_reco_data").rfo,f=l("v_reco_data").rfi,p=l("v_reco_data").vco;e.prop35=m,e.events=e.apl(e.events,"event146="+m,","),e.events=e.apl(e.events,"event142="+b,","),e.events=e.apl(e.events,"event143="+g,","),e.events=e.apl(e.events,"event144="+f,","),e.events=e.apl(e.events,"event145="+p,","),e.linkTrackVars=e.apl(e.linkTrackVars,"prop35",","),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event146,event142,event143,event144,event145",",")}"bmw.de"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.ru"!==_satellite.getVar("topLevelDomain")||(e.prop34=_satellite.getVar("AA-contextData")(e),e.linkTrackVars=e.apl(e.linkTrackVars,"prop34",",")),e.eVar34&&e.eVar34.indexOf("impression")>-1&&(e.events=e.apl(e.events,"event925,event926"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event925,event926")),e.eVar34&&e.eVar34.indexOf("download")>-1&&(e.events=e.apl(e.events,"event903,event904"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event903,event904")),e.prop56&&"error"==e.prop56&&e.prop54&&"js error"!=e.prop54&&(e.events=e.apl(e.events,"event931,event932"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event931,event932")),e.prop56&&e.prop53&&"interaction"==e.prop56&&("success"==e.prop53||"ux"==e.prop53)&&(e.events=e.apl(e.events,"event917,event918"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event917,event918")),(s.get("pageInstanceId").indexOf("error-pool/")>-1||s.get("page.category.pageType").indexOf("error")>-1)&&(e.pageName=e.pageURL,e.pageType="errorPage",e.prop1=e.pageName);try{e.eVar34.indexOf("sl > click dealer email")>0?e.eVar34="stock > click dealer email":e.eVar34=e.eVar34.replace("sl > click dealer phone","stock > click dealer phone")}catch(e){}var v=document.referrer,h=_satellite.getVar("smartPreviousValueManager");if(v.indexOf(_satellite.getVar("topLevelDomain"))>-1){e.eVar22=h.get("pathName"),e.events=e.apl(e.events,"event125="+e._ppvInitialPercentViewed,",",1),e.events=e.apl(e.events,"event126="+e._ppvHighestPercentViewed,",",1),e.events=e.apl(e.events,"event127="+e._ppvHighestPixelsSeen,",",1),e.events=e.apl(e.events,"event129="+e._ppvFoldsAvailable,",",1),e.events=e.apl(e.events,"event130="+e._ppvFoldsSeen,",",1);var _=100/e._ppvHighestPercentViewed*e._ppvHighestPixelsSeen;_=_?_.toFixed(0):"na",e.events=e.apl(e.events,"event128="+_,",",1)}e.prop12=Date.now();var P={development:"dev",staging:"staging",production:"prod"};e.eVar135=P[_satellite.buildInfo.environment||"development"],e.linkTrackVars=e.apl(e.linkTrackVars,"prop12,eVar135",",");var j=_satellite.getVar("pa_pag_pageTitle"),y=document.title;if(j=j.indexOf("datalayer")>-1?y.toLowerCase():j.toLowerCase(),(e.eVar18==j&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"!=e.prop74||"datalayer field missing"==e.prop50||"datalayer field empty"==e.prop50)&&(e.prop50="page title"),e.eVar8||(e.eVar8=s.get("page.pageInfo.geoRegion"),_satellite.getVar("AA-marketCodes").indexOf(e.eVar8)<0&&(e.account="bmwgroup.group.global.test",e.eVar138="wrong market code",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar138",","))),!e.products){var C=_satellite.getVar("setDefaultProductVariables");e.products=C.toString()}if(e.eVar130=_satellite.getVar("AA-hashedID"),e.eVar133=_satellite.getVar("hashingMID"),"bmw.de"===_satellite.getVar("topLevelDomain")?e.eVar195=_satellite.getVar("Cluster_DE_VibeSegments"):"bmw.co.uk"===_satellite.getVar("topLevelDomain")&&(e.eVar195=_satellite.getVar("Cluster_UK_VibeSegments")),e.linkTrackVars+=",eVar130,eVar133,eVar195",_satellite.getVar("AA-setFallbackValues"),"bmw.pt"==_satellite.getVar("topLevelDomain")&&e&&e.products){var w=s.get("product.-1.attributes.mmdr"),R=w;if(R!=w){var x=(e.products.match(/[/]/g)||[]).length;for(i=0;i<x/2;i++)e.products=e.products.replace(w,R)}}-1!=_satellite.getVar("topLevelDomain").indexOf("bmw")?e.prop13="bmw":-1!=_satellite.getVar("topLevelDomain").indexOf("mini")?e.prop13="mini":(e.account="bmwgroup.group.global.test",void 0===e.eVar138?e.eVar138="wrong brand":e.eVar138=e.eVar138+"~wrong brand",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar138",","));var k=(s=_satellite.getVar("snapshotDL")).get("page.category.subCategory03");e.prop30=k,e.linkTrackVars=e.apl(e.linkTrackVars,"prop30",",");try{var T=e.Util.cookieRead("gcdmToken");T&&(e.prop40="logged-in"),""==T&&(e.prop40="not logged-in")}catch(e){}"Cookie drawer impression"==e.linkName&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"==e.prop74&&(e.abort=!0),"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.co.jp"!==_satellite.getVar("topLevelDomain")&&"bmw.es"!==_satellite.getVar("topLevelDomain")&&"bmw.be"!==_satellite.getVar("topLevelDomain")&&"bmw.lu"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.se"!==_satellite.getVar("topLevelDomain")&&"bmw.fi"!==_satellite.getVar("topLevelDomain")&&"bmw.no"!==_satellite.getVar("topLevelDomain")&&"bmw.dk"!==_satellite.getVar("topLevelDomain")&&"bmw.ch"!==_satellite.getVar("topLevelDomain")&&"bmw.nl"!==_satellite.getVar("topLevelDomain")||(null!=window.localStorage.getItem("hashedid")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:window.localStorage.getItem("hashedid"),authState:1}}),""!=_satellite.getVar("AAM-hashedemail")&&null!=_satellite.getVar("AAM-hashedemail")&&null!=_satellite.getVar("AAM-hashedemail")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedemail"),authState:1}}),""!=_satellite.getVar("AAM-hasheducid")&&null!=_satellite.getVar("AAM-hasheducid")&&null!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVisitorId().setCustomerIDs({bmwcrmdata:{id:_satellite.getVar("AAM-hasheducid"),authState:1}}),""!=_satellite.getVar("AAM-hashedid_cookie")&&null!=typeof _satellite.getVar("AAM-hashedid_cookie")&&null!=_satellite.getVar("AAM-hashedid_cookie")&&"undefined"!=_satellite.getVar("AAM-hashedid_cookie")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedid_cookie"),authState:1}}));try{"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.co.jp"!==_satellite.getVar("topLevelDomain")&&"bmw.es"!==_satellite.getVar("topLevelDomain")&&"bmw.be"!==_satellite.getVar("topLevelDomain")&&"bmw.lu"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.se"!==_satellite.getVar("topLevelDomain")&&"bmw.fi"!==_satellite.getVar("topLevelDomain")&&"bmw.no"!==_satellite.getVar("topLevelDomain")&&"bmw.dk"!==_satellite.getVar("topLevelDomain")||""!=_satellite.getVar("AAM-hasheducid")&&null!=_satellite.getVar("AAM-hasheducid")&&null!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVisitorId().setCustomerIDs({AdobeCampaignID:{id:_satellite.getVar("AAM-hasheducid"),authState:1}})}catch(e){_satellite.logger.error(e,"Hashed Email ID & Hashed UCID sync")}try{var E="";null!=processingWrapper&&(E=processingWrapper._getProcessingInfo("BaseTracking",{type:processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2}).adobe);var I="~"===E.charAt(0)?E.substring(1):E;e.linkTrackVars+=",list1",e.list1=I}catch(e){d={from:"AA",type:"Config",name:"consentstatus"},_satellite.logger.error(e,d)}e.eVar161="datalayer field missing",e.eVar162="datalayer field missing",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar161,eVar162"),-1==e.events.indexOf("event933")&&e.sa(_satellite.getVar("AA-reportSuite")),e.eVar139=_satellite.getVar("AA-eventFilter-priceControl")(""),e.linkTrackVars=e.apl(e.linkTrackVars,"eVar139")}catch(e){d={from:"AA",type:"Config",name:"Customize Page Code - Do Plugin"},_satellite.logger.error(e,d)}},e.registerPostTrackCallback((function(){try{var e=_satellite.getVar("snapshotDL"),t=e.get("event.-1.eventInfo.eventName"),a=e.get("event.-1.attributes.consentItemName"),o=_satellite.getVar("KIT-helpers").cache,s=o.get("analyticsConsentRejected")||"false";("reject consent"==t&&"analytics"==a||"true"==s)&&(o.set("analyticsConsentRejected","false"),adobe.optIn.deny(adobe.OptInCategories.ECID),adobe.optIn.deny(adobe.OptInCategories.ANALYTICS))}catch(e){var n={from:"AA",type:"AA-Extension",name:"Customize Page Code - registerPostTrackCallback"};_satellite.logger.error(e,n)}}))}catch(e){var s={from:"AA",type:"Config",name:"Customize Page Code"};_satellite.logger.error(e,s)}}},libraryCode:{type:"managed",accounts:{staging:["%AA-reportSuite%"],production:["%AA-reportSuite%"],development:["%AA-reportSuite%"]},useActivityMap:!0,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"%AAM-dummyPartnerID%"}}},trackerProperties:{charSet:"UTF-8",currencyCode:"%AA-currencyCode%",cookieLifetime:"63072000",trackingServer:"bmwag.d3.sc.omtrdc.net",trackInlineStats:!1,trackDownloadLinks:!1,trackExternalLinks:!1,cookieDomainPeriods:"%cookieDomainPeriods%",trackingServerSecure:"bmwag.d3.sc.omtrdc.net",dynamicVariablePrefix:"d=",fpCookieDomainPeriods:"%cookieDomainPeriods%"}},modules:{"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,o){"use strict";var s=a("../sharedModules/getTracker");e.exports=function(){return s().then((function(e){e.clearVars&&(o.logger.info("Clear variables."),e.clearVars())}),(function(e){o.logger.error("Cannot clear variables: "+e)}))}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,o){"use strict";var s=a("../sharedModules/getTracker"),n=a("../helpers/applyTrackerVariables");e.exports=function(e,t){return s().then((function(a){o.logger.info("Set variables on the tracker."),n(a,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,a)}),(function(e){o.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,o){"use strict";var s=a("../sharedModules/getTracker"),n=a("../helpers/getNodeLinkText"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},r=function(e){return i(e)?n(e):"link clicked"},c=function(e,t,a){if("page"===t.type)o.logger.info("Firing page view beacon."),e.t();else{var s={linkType:t.linkType||"o",linkName:t.linkName||r(a)};o.logger.info("Firing link track beacon using the values: "+JSON.stringify(s)+"."),e.tl(i(a)?a:"true",s.linkType,s.linkName)}};e.exports=function(e,t){return s().then((function(a){c(a,e,t.element)}),(function(e){o.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,o){"use strict";var s,n=a("@adobe/reactor-cookie"),i=a("@adobe/reactor-promise"),r=a("@adobe/reactor-window"),c=a("../helpers/settingsHelper"),d=a("../helpers/augmenters"),l=a("../helpers/applyTrackerVariables"),u=a("../helpers/loadLibrary"),m=a("../helpers/generateVersion")(o.buildInfo.turbineBuildDate),b="beforeSettings",g=o.getSharedModule("adobe-mcid","mcid-instance"),f=function(e){return!e||"true"===n.get(e)},p=function(e){return i.all(d.map((function(t){var a;try{a=t(e)}catch(e){setTimeout((function(){throw e}))}return i.resolve(a)}))).then((function(){return e}))},v=function(e){return g&&(o.logger.info("Setting MCID instance on the tracker."),e.visitor=g),e},h=function(e){return o.logger.info('Setting version on tracker: "'+m+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=m:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+m&&(e.version+="-"+m),e},_=function(e,t,a){return t.loadPhase===b&&t.source&&(o.logger.info("Calling custom script before settings."),t.source.call(r,a)),l(a,e||{}),t.loadPhase!==b&&t.source&&(o.logger.info("Calling custom script after settings."),t.source.call(r,a)),a},P=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),o.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},j=(s=o.getExtensionSettings(),f(s.trackingCookieName)?u(s).then(p).then(v).then(h).then(_.bind(null,s.trackerProperties,s.customSetup||{})).then(P.bind(null,s)):i.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return j}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var o=a("../helpers/augmenters");e.exports=function(e){o.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{
script:function(e,t,a,o){"use strict";var s=a("@adobe/reactor-window"),n={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[o.environment.stage]&&(t=e[o.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&s&&s._satellite&&s._satellite.company&&s._satellite.company.orgId&&(t=!0),t}};e.exports=n}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,o){"use strict";var s=a("@adobe/reactor-query-string"),n=a("@adobe/reactor-window"),i=/eVar([0-9]+)/,r=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),d=function(e,t,a){return a.indexOf(e)===t},l=function(e,t,a){var o=Object.keys(t).filter(c.test.bind(c));return a&&o.push("events"),(o=o.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&d(e,t,o)})).join(",")},u=function(e,t){var a=t.map((function(e){return e.name}));return(a=a.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&d(e,t,a)})).join(",")},m=function(e,t,a){e[t]=a[t].join(",")},b=function(e,t,a){var o=a.dynamicVariablePrefix||"D=";a[t].forEach((function(t){var a;if("value"===t.type)a=t.value;else{var s=i.exec(t.value);if(s)a=o+"v"+s[1];else{var n=r.exec(t.value);n&&(a=o+"c"+n[1])}}e[t.name]=a}))},g={linkDownloadFileTypes:m,linkExternalFilters:m,linkInternalFilters:m,hierarchies:function(e,t,a){a[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:b,eVars:b,campaign:function(e,t,a){if("queryParam"===a[t].type){var o=s.parse(n.location.search);e[t]=o[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var o=a[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=o.join(",")}};e.exports=function(e,t){var a={};t=t||{},Object.keys(t).forEach((function(e){var o=g[e],s=t[e];o?o(a,e,t):a[e]=s})),a.events&&e.events&&e.events.length>0&&(a.events=e.events+","+a.events);var s=t&&t.events&&t.events.length>0,n=l(e,a,s);n&&(a.linkTrackVars=n);var i=u(e,t.events||[]);i&&(a.linkTrackEvents=i),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(a)+'".'),Object.keys(a).forEach((function(t){e[t]=a[t]}))}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,o){"use strict";var s=a("@adobe/reactor-load-script"),n=a("@adobe/reactor-window"),i=a("@adobe/reactor-promise"),r=a("./settingsHelper"),c=a("./pollHelper"),d=function(e,t){if(!n.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+n.AppMeasurement);o.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=n.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(o.logger.info("Setting the tracker as window.s"),n.s=a),a},l=function(e){var t=[];switch(e.libraryCode.type){case r.LIB_TYPES.MANAGED:t.push(o.getHostedLibFileUrl(r.MANAGED_LIB_PATHS.APP_MEASUREMENT)),r.isActivityMapEnabled(e)&&t.push(o.getHostedLibFileUrl(r.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case r.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case r.LIB_TYPES.REMOTE:t.push("https:"===n.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(r.isAudienceManagementEnabled(e)){var a={namespace:n._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=a,t.push(o.getHostedLibFileUrl(r.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return i.all(l(e).map((function(e){return o.logger.info("Loading script: "+e),s(e)})))},m=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=r.getReportSuites(e.libraryCode.accounts);o.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else o.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},b=function(e){if(n[e])return o.logger.info('Found tracker located at: "'+e+'".'),n[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case r.LIB_TYPES.MANAGED:var a=r.getReportSuites(e.libraryCode.accounts);return t.then(d.bind(null,e,a));case r.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,n,e.libraryCode.trackerVariableName)).then(m.bind(null,e));case r.LIB_TYPES.CUSTOM:case r.LIB_TYPES.REMOTE:return t.then(b.bind(null,e.libraryCode.trackerVariableName)).then(m.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},o=function(e){return e.substr(e.length-1)},s=function(e){return Math.floor(e.getUTCHours()/t)},n=function(e){var t=(e.getUTCMonth()+1+12*s(e)).toString(36);return o(t)},i=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+i(t)+n(t)+a(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,o){"use strict";var s=a("@adobe/reactor-promise"),n=40,i=250,r=function(e,t,a){o.logger.info('Found property located at: "'+t+'"].'),e(a)},c=function(e,t){return new s((function(a,o){if(e[t])return r(a,t,e[t]);var s=1,c=setInterval((function(){e[t]&&(r(a,t,e[t]),clearInterval(c)),s>=n&&(clearInterval(c),o(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),s++}),i)}))};e.exports={poll:function(e,t){return o.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}},"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:function(e){"use strict";var t=function(e){return e&&e.replace(/\s+/g," ").trim()},a=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,o=function(e){return!(e&&e.nodeName&&e.nodeName.match(a))},s=function(e){var t=[],a=!1;return o(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var o=s(e);t=t.concat(o.supportedNodes),a=a||o.includesUnsupportedNodes}))):a=!0,{supportedNodes:t,includesUnsupportedNodes:a}},n=function(e,t,a){var o;return a&&a!==e.nodeName.toUpperCase()||(o=e.getAttribute(t)),o};e.exports=function(e){var a=t(e.innerText||e.textContent),o=s(e);if(!a||o.includesUnsupportedNodes){var i,r,c,d,l=[];o.supportedNodes.forEach((function(e){e.getAttribute&&(i=i||t(e.getAttribute("alt")),r=r||t(e.getAttribute("title")),c=c||t(n(e,"value","INPUT")),d=d||t(n(e,"src","IMG"))),e.nodeValue&&l.push(e.nodeValue)})),(a=t(l.join("")))||(a=t(i||r||c||d||""))}return a}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return o.location.href;case"hostname":return o.location.hostname;case"pathname":return o.location.pathname;case"protocol":return o.location.protocol;case"referrer":return o.referrer;case"title":return o.title}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-cookie");e.exports=function(e){return o.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),s=a("@adobe/reactor-query-string");e.exports=function(e){var t=s.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];if(r.toLowerCase()===a)return t[r]}}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,o){"use strict";var s={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=s[e];if(a){var n={identifier:e,detail:t};a.forEach((function(e){e(n)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),o.logger.log.apply(o.logger,i)}else o.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=s[e.identifier];a||(a=s[e.identifier]=[]),a.push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,o){"use strict";var s,n,i,r,c=a("@adobe/reactor-document"),d=a("@adobe/reactor-promise"),l=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),m=a("../../../node_modules/postscribe/dist/postscribe"),b=a("./helpers/unescapeHtmlCode"),g=a("../helpers/findPageScript").getTurbine,f=(n=function(e){m(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return s&&"script"===t&&(e.attrs.nonce=s),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=b(e.attrs[t])})),e.src&&(e.src=b(e.src))),e},error:function(e){o.logger.error(e.msg)}})},i=[],r=function(){if(c.body)for(;i.length;)n(i.shift());else setTimeout(r,20)},function(e){i.push(e),r()}),p=function(){if(c.currentScript)return c.currentScript.async;var e=g();return!e||e.async}();e.exports=function(e,t){var a;s=o.getExtensionSettings().cspNonce;var n={settings:e,event:t},i=n.settings.source;if(i)return n.settings.isExternal?u(i).then((function(e){return e?(a=l(n,e),f(a.code),a.promise):d.resolve()})):(a=l(n,i),p||"loading"!==c.readyState?f(a.code):c.write&&!1===o.propertySettings.ruleComponentSequencingEnabled?c.write(a.code):f(a.code),a.promise)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document"),s=a("../helpers/textMatch");e.exports=function(e){var t=o.location.hostname;return e.subdomains.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return s(t,a)}))}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,a){"use strict";var o=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,a){"use strict";var o=a("./helpers/createBubbly")(),s=[];e.exports=function(e,t){var a=e.type;-1===s.indexOf(a)&&(s.push(a),window.addEventListener(a,o.evaluateEvent,!0)),o.addListener(e,(function(e){e.nativeEvent.type===a&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,a){"use strict";var o=a("../helpers/stringAndNumberUtils").isString,s=a("../helpers/stringAndNumberUtils").isNumber,n=a("../helpers/stringAndNumberUtils").castToStringIfNumber,i=a("../helpers/stringAndNumberUtils").castToNumberIfString,r=function(e,t){return t&&o(e)?e.toLowerCase():e},c=function(e){return function(t,a,s){return t=n(t),a=n(a),o(t)&&o(a)&&e(t,a,s)}},d=function(e){return function(t,a){return t=i(t),a=i(a),s(t)&&s(a)&&e(t,a)}},l=function(e){return function(t,a,o){return e(r(t,o),r(a,o))}},u={equals:l((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(l((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(l((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(l((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,a){return new RegExp(t,a?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:d((function(e,t){return e<t})),lessThanOrEqual:d((function(e,t){return e<=t})),greaterThan:d((function(e,t){return e>t})),greaterThanOrEqual:d((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),s=a("./helpers/createBubbly")(),n=new(a("./helpers/weakMap")),i=2,r=a("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==i)for(var t=e.target;t;){var a=t.tagName;if(a&&"a"===a.toLowerCase()){var s=t.getAttribute("href"),n=t.getAttribute("target");return s&&(!n||"_self"===n||"_top"===n&&o.top===o||n===o.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",s.evaluateEvent,!0),e.exports=function(e,t){s.addListener(e,(function(a){var s=a.nativeEvent;if(!s.s_fe){var i=r(e.anchorDelay);if(i&&!n.has(s)){var d=c(s);d&&(s.preventDefault(),setTimeout((function(){o.location=d.href}),i)),n.set(s,!0)}t(a)}}))},e.exports.__reset=s.__reset}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,a,o){"use strict";var s={},n={};setInterval((function(){Object.keys(s).forEach((function(e){var t=JSON.stringify(o.getDataElementValue(e));if(t!==n[e]){var a={dataElementName:e};s[e].forEach((function(e){e(a)})),n[e]=t}}))}),1e3),e.exports=function(e,t){var a=e.name,i=s[a];i||(i=s[a]=[],n[a]=JSON.stringify(o.getDataElementValue(a))),i.push(t)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var o=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document"),s=a("../helpers/textMatch");e.exports=function(e){var t=o.location.pathname;return e.paths.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return s(t,a)}))}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document"),s=a("../helpers/textMatch");e.exports=function(e){var t=o.location.pathname+o.location.search;return e.paths.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return s(t,a)}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var o=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,a){"use strict";var o=a("./helpers/debounce"),s=a("./helpers/once"),n=window.history,i=window.location.href,r=[],c=function(e,t,a){var o=e[t];e[t]=function(){var t=o.apply(e,arguments);return a.apply(null,arguments),t}},d=o((function(){var e=window.location.href;i!==e&&(r.forEach((function(e){e()})),i=e)}),0),l=s((function(){n&&(n.pushState&&c(n,"pushState",d),n.replaceState&&c(n,"replaceState",d)),window.addEventListener("popstate",d),window.addEventListener("hashchange",d)}));e.exports=function(e,t){l(),r.push(t)}}},"core/src/lib/events/submit.js":{name:"submit",displayName:"Submit",script:function(e,t,a){"use strict";var o=a("./helpers/createBubbly")();document.addEventListener("submit",o.evaluateEvent,!0),e.exports=function(e,t){o.addListener(e,t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var o=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerPageBottomTrigger(t)}}},"core/src/lib/events/change.js":{name:"change",displayName:"Change",script:function(e,t,a){"use strict";var o=a("./helpers/createBubbly")(),s=a("../helpers/textMatch");document.addEventListener("change",o.evaluateEvent,!0),e.exports=function(e,t){var a;void 0!==e.value&&(a=e.valueIsRegex?new RegExp(e.value,"i"):e.value),o.addListener(e,(function(e){if(void 0!==a&&!s(e.target.value,a))return!1;t(e)}))}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document"),s=/[|\\{}()[\]^$+*?.-]/g,n=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(s,"\\$&")};e.exports=function(e){var t=o.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+n(e)+"$","i"))}))}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,a){"use strict";var o=a("../helpers/textMatch");e.exports=function(e){var t=document.location.hash;return e.hashes.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,a)}))}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,a){"use strict";var o=a("../helpers/getObjectProperty"),s=a("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return s(o(window,e.name),t)}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var o=a("./decorators/decorateGlobalJavaScriptCode"),s=a("./decorators/decorateNonGlobalJavaScriptCode"),n={javascript:function(e,t){return e.settings.global?o(e,t):s(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return n[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-promise"),s=a("./getSourceByUrl"),n=o.resolve();e.exports=function(e){var t=new o((function(t){var a=s(e);o.all([a,n]).then((function(e){var a=e[0];t(a)}))}));return n=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,o;a=this,o=function(){return function(e){function t(o){if(a[o])return a[o].exports;var s=a[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var s=o(a(1));e.exports=s.default},function(e,t,a){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function n(){}function i(){var e=g.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=r.apply(void 0,e),t.afterStreamStart()}}function r(e,t,a){function o(e){e=a.beforeWrite(e),f.write(e),a.afterWrite(e)}(f=new l.default(e,a)).id=b++,f.name=a.name||f.id,c.streams[f.name]=f;var s=e.ownerDocument,r={close:s.close,open:s.open,write:s.write,writeln:s.writeln};d(s,{close:n,open:n,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return o(t.join("")+"\n")}});var u=f.win.onerror||n;return f.win.onerror=function(e,t,o){a.error({msg:e+" - "+t+": "+o}),u.apply(f.win,[e,t,o])},f.write(t,(function(){d(s,r),f.win.onerror=u,a.done(),f=null,i()})),f}function c(e,t,a){if(u.isFunction(a))a={done:a};else if("clear"===a)return g=[],f=null,void(b=0);a=u.defaults(a,m);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=n}},a.beforeEnqueue(o),g.push(o),f||i(),e.postscribe}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};t.default=c;var l=s(a(2)),u=o(a(4)),m={afterAsync:n,afterDequeue:n,afterStreamStart:n,afterWrite:n,autoFix:!0,beforeEnqueue:n,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:n,error:function(e){throw new Error(e.msg)},releaseAsync:!1},b=0,g=[],f=null;d(c,{streams:{},queue:g,WriteStream:l.default})},function(e,t,a){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var a=m+t,o=e.getAttribute(a);return l.existy(o)?String(o):o}function r(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=m+t;l.existy(a)&&""!==a?e.setAttribute(o,a):e.removeAttribute(o)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},d=s(a(3)),l=o(a(4)),u=!1,m="data-ps-",b="ps-style",g="ps-script",f=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new d.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],r(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,o=void 0,s=[];(t=this.parser.readToken())&&!(a=l.isScript(t))&&!(o=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&s.push(t);s.length>0&&this._writeStaticTokens(s),a&&this._handleScriptToken(t),o&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],o=[],s=[],n=e.length,i=0;i<n;i++){var r=e[i],c=r.toString();if(a.push(c),r.attrs){if(!/^noscript$/i.test(r.tagName)){var d=t++;o.push(c.replace(/(\/?>)/," "+m+"id="+d+" $1")),r.attrs.id!==g&&r.attrs.id!==b&&s.push("atomicTag"===r.type?"":"<"+r.tagName+" "+m+"proxyof="+d+(r.unary?" />":">"))}}else o.push(c),s.push("endTag"===r.type?c:"")}return{tokens:e,raw:a.join(""),actual:o.join(""),proxy:s.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!i(e,"proxyof")){a&&(this.actuals[i(e,"id")]=e,r(e,"id"));var o=e.parentNode&&i(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,b),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),o=this._shouldRelease(a),s=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,o?s:function(){t(),s()}));try{this._insertCursor(a,g),a.src&&!o||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){a(),null!=t&&t(),t=null}function s(e){a(),i(e),null!=t&&t(),t=null}function n(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var i=this.options.error;n(e,"load"),n(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){s({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void s({msg:"onerror handler failed "+t+" @ "+e.src})}s({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(o){if(a[o])return a[o].exports;var s=a[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var s=o(a(1));e.exports=s.default},function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=s(a(2)),r=s(a(3)),c=o(a(6)),d=a(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.stream=a;var s=!1,r={};for(var d in i)i.hasOwnProperty(d)&&(o.autoFix&&(r[d+"Fix"]=!0),s=s||r[d+"Fix"]);s?(this._readToken=(0,c.default)(this,r,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,r,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=r[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var m in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,d.escapeQuotes)(e[a],null));return t},u.supports=i,i)i.hasOwnProperty(m)&&(u.browserHasFlaw=u.browserHasFlaw||!i[m]&&m)},function(e,t){"use strict";t.__esModule=!0;var a=!1,o=!1,s=window.document.createElement("div");try{var n="<P><I></P></I>";s.innerHTML=n,t.tagSoup=a=s.innerHTML!==n}catch(e){t.tagSoup=a=!1}try{s.innerHTML="<P><i><P></P></i></P>",t.selfClose=o=2===s.childNodes.length}catch(e){t.selfClose=o=!1}s=null,t.tagSoup=a,t.selfClose=o},function(e,t,a){"use strict";function o(e){var t=e.indexOf("-->");if(t>=0)return new d.CommentToken(e.substr(4,t-1),t+3)}function s(e){var t=e.indexOf("<");return new d.CharsToken(t>=0?t:e.length)}function n(e){var t,a,o;if(-1!==e.indexOf(">")){var s=e.match(l.startTag);if(s){var n=(t={},a={},o=s[2],s[2].replace(l.attr,(function(e,s){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[s]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(s)&&s||"":t[s]="",o=o.replace(e,"")})),{v:new d.StartTagToken(s[1],s[0].length,t,a,!!s[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===n?"undefined":c(n)))return n.v}}}function i(e){var t=n(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var o=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(o)return new d.AtomicTagToken(t.tagName,o[0].length+t.length,t.attrs,t.booleanAttrs,o[1])}}}function r(e){var t=e.match(l.endTag);if(t)return new d.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=o,t.chars=s,t.startTag=n,t.atomicTag=i,t.endTag=r;var d=a(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var s=a(5),n=(t.Token=function e(t,a){o(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){o(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){o(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,s,n,i){o(this,e),this.type=t,this.length=s,this.text="",this.tagName=a,this.attrs=n,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var o in e.attrs)if(e.attrs.hasOwnProperty(o)){a+=" "+o;var n=e.attrs[o]
;void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[o]||(a+='="'+(0,s.escapeQuotes)(n)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,s,n,i,r){o(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=s,this.booleanAttrs=n,this.html5Unary=!1,this.unary=i,this.rest=r}return e.prototype.toString=function(){return n.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,s,n,i){o(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=s,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return n.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){o(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=r.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var o=e.stream,s=a(t());return e.stream=o,s}function s(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function n(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function r(){var t=o(e,i);t&&l[t.type]&&l[t.type](t)}var d=n(),l={startTag:function(a){var o=a.tagName;"TR"===o.toUpperCase()&&d.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),r()):t.selfCloseFix&&c.test(o)&&d.containsTagName(o)?d.lastTagNameEq(o)?s(e,d):(e.prepend("</"+a.tagName+">"),r()):a.unary||d.push(a)},endTag:function(a){d.last()?t.tagSoupFix&&!d.lastTagNameEq(a.tagName)?s(e,d):d.pop():t.tagSoupFix&&(i(),r())}};return function(){return r(),a(i())}}t.__esModule=!0,t.default=i;var r=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function o(e){return"function"==typeof e}function s(e,t,a){var o=void 0,s=e&&e.length||0;for(o=0;o<s;o++)t.call(a,e[o],o)}function n(e,t,a){for(var o in e)e.hasOwnProperty(o)&&t.call(a,o,e[o])}function i(e,t){return e=e||{},n(t,(function(t,o){a(e[t])||(e[t]=o)})),e}function r(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(a=[],s(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":m(t)))return t.v}var a}function c(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return d(e,"script")}function u(e){return d(e,"style")}t.__esModule=!0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=o,t.each=s,t.eachKey=n,t.defaults=i,t.toArray=r,t.last=c,t.isTag=d,t.isScript=l,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof t?t.postscribe=o():a.postscribe=o()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return o.innerHTML=e,o.textContent||o.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-document"),s=function(e){for(var t=o.querySelectorAll("script"),a=0;a<t.length;a++){var s=t[a];if(e.test(s.src))return s}},n=function(){return s(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:n,byRegexPattern:s}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:o.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-promise"),s=0;e.exports=function(e,t){var a="_runScript"+ ++s,n=new o((function(t,s){_satellite[a]=function(n){delete _satellite[a],new o((function(t){t(n.call(e.event.element,e.event,e.event.target,o))})).then(t,s)}}));return{code:'<script>_satellite["'+a+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:n}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,o){"use strict";var s=a("@adobe/reactor-promise"),n=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var r=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return d(e)&&(t=o.replaceTokens(t,e.event)),r(t)?(a=new s((function(e,t){i[String(n)]={resolve:e,reject:t}})),t=c(t,n),n+=1):a=s.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-load-script"),s=a("@adobe/reactor-promise"),n=a("../../helpers/findPageScript").byRegexPattern,i={},r={},c=function(e){return r[e]||(r[e]=o(e)),r[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var o=new RegExp(".*"+e+".*");a=n(o).getAttribute("src")}i[a]=t},e.exports=function(e){return i[e]?s.resolve(i[e]):new s((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),s=a("@adobe/reactor-document"),n=-1!==o.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",r="DOM_READY",c="PAGE_BOTTOM",d=[c,r,i],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach((function(e){u[e]=[]}));var m=function(e,t){d.slice(0,g(e)+1).forEach((function(e){f(t,e)}))},b=function(){return"complete"===s.readyState?i:"interactive"===s.readyState?n?null:r:void 0},g=function(e){return d.indexOf(e)},f=function(e,t){u[t].forEach((function(t){p(e,t)})),u[t]=[]},p=function(e,t){var a=t.trigger,o=t.syntheticEventFn;a(o?o(e):null)};o._satellite=o._satellite||{},o._satellite.pageBottom=m.bind(null,c),s.addEventListener("DOMContentLoaded",m.bind(null,r),!0),o.addEventListener("load",m.bind(null,i),!0),o.setTimeout((function(){var e=b();e&&m(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[r].push({trigger:e,syntheticEventFn:l.bind(null,s)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:l.bind(null,o)})}}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var o=a("./weakMap"),s=a("./matchesProperties"),n=a("./matchesSelector");e.exports=function(){var e=[],t=new o,a={addListener:function(t,a){e.push({settings:t,callback:a})},evaluateEvent:function(a,o){if(e.length&&!t.has(a)){for(var i=a.target,r=!1;i;){for(var c=!1,d=!1,l=0;l<e.length;l++){var u=e[l],m=u.settings.elementSelector,b=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!r)&&(i===a.target||!1!==u.settings.bubbleFireIfParent)&&(i===a.target||m||b&&Object.keys(b).length)&&(!m||n(i,m))&&(!b||s(i,b))){var g={};o?Object.keys(a).forEach((function(e){g[e]=a[e]})):g.nativeEvent=a,g.element=i,g.target=a.target,!1!==u.callback(g)&&(d=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;d&&(r=!0),i=i.parentNode}t.set(a,!0)}},__reset:function(){e=[]}};return a}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window").WeakMap;if(void 0===o){var s=Object.defineProperty,n=Date.now()%1e9;(o=function(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:s(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=o}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var o=a("./../../helpers/textMatch"),s=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=s(e,t.name),n=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return o(a,n)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,o){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return o.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},o=function(e){return t(e)?String(e):e},s=function(e){return a(e)?Number(e):e};e.exports={isNumber:t,isString:a,castToStringIfNumber:o,castToNumberIfString:s}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,a){var o=null;return function(){var s=a||this,n=arguments;clearTimeout(o),o=setTimeout((function(){e.apply(s,n)}),t)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),o=e,s=0,n=a.length;s<n;s++){if(null==o)return;o=o[a[s]]}return o}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP10966bacbeb14c498c00e158fc31b859/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.9.0",endpoint:"/rest/v1/delivery",imsOrgId:"B52D1CFE5330949C0A490D45@AdobeOrg",clientCode:"bmwag",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"bmwag.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"server-side",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),s=a("@adobe/reactor-document"),n=a("./modules/load-target"),i=n.initLibrarySettings,r=n.overridePublicApi,c=a("./modules/optin"),d=c.shouldUseOptIn,l=c.isTargetApproved,u=a("./analyticsIntegration");e.exports=function(){var e=i();e&&e.enabled?((0,a("./modules/libs/at-launch").init)(o,s,e),d()&&!l()||u()):r(o)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,a,o){"use strict";function s(){return n.adobe&&n.adobe.target&&n.adobe.target.VERSION}var n=a("@adobe/reactor-window"),i=a("./modules/libs/at-launch"),r=i.initConfig,c=i.initDelivery,d=a("./modules/page-load"),l=a("./messages");e.exports=function(e){var t=d(e);s()?(r(t),c()):n.console&&o.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,a,o){"use strict";function s(e){var t=e.compatMode,a=e.documentMode;return t&&"CSS1Compat"===t&&(!a||a>=9)}function n(e){var t=function(){},a=function(){return l.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function i(){return c.adobe&&c.adobe.target&&void 0!==c.adobe.target.getOffer}function r(){return i()?(o.logger.warn(u.ALREADY_INITIALIZED),null):(f.mboxParams=b(),f.globalMboxParams=g(),p(f,c.targetGlobalSettings||{},h),p(f,v||{},["version"]),s(d)||(f.enabled=!1,o.logger.warn(u.DELIVERY_DISABLED)),f)}var c=a("@adobe/reactor-window"),d=a("@adobe/reactor-document"),l=a("@adobe/reactor-promise"),u=a("../messages"),m=a("./params-store"),b=m.getParams,g=m.getPageLoadParams,f=a("../targetSettings").targetSettings,p=a("./object-override"),v=a("../librarySettings").TARGET_DEFAULT_SETTINGS,h=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:r,overridePublicApi:n}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,a){"use strict";function o(e){return"undefined"===(void 0===e?"undefined":l(e))||null===e}function s(e){var t=void 0===e?"undefined":l(e);return null!==e&&("object"===t||"function"===t)}function n(e){return s(e[f])&&s(e[m])}function i(e,t){return!!t&&!o(e)&&!o(e[g])&&n(e[g])}function r(e,t){return e[m](t)}function c(){var e=u[g];return r(e,e[p][v])}function d(){var e=h[b];return i(u,e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=a("@adobe/reactor-window").adobe,m="isApproved",b="optinEnabled",g="optIn",f="fetchPermissions",p="Categories",v="TARGET",h=a("../targetSettings").targetSettings;e.exports={shouldUseOptIn:d,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,a,o){"use strict";function s(e,t){return new r((function(a){e?t.then((function(t){t&&(e.abort=!0),a()})):a()}))}function n(e){if(e){var t=new r((function(e){var t=setTimeout((function(){e(!1)}),u.targetSettings.timeout),a=function a(o){e(!1),clearTimeout(t),l(i,o,a)};d(i,b,(function a(o){o.detail&&!0===o.detail.redirect?e(!0):e(!1),clearTimeout(t),l(i,o,a)})),d(i,g,a)}));e((function(e){return s(e,t)}))}}var i=a("@adobe/reactor-document"),r=a("@adobe/reactor-promise"),c=a("./modules/event-util"),d=c.addEventListener,l=c.removeEventListener,u=a("./targetSettings").extensionSettings,m=o.getSharedModule("adobe-analytics","augment-tracker"),b="at-request-succeeded",g="at-request-failed";e.exports=function(){n(m)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,a){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return r(e)||c(e,t)||d(e,t)||u()}function r(e){if(Array.isArray(e))return e}function c(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o,s,n=[],i=!0,r=!1;try{for(a=a.call(e);!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}}function d(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e){return null==e}function b(e){return du.call(e)}function g(e){return b(e)}function f(e){var t=s(e);return null!=e&&("object"===t||"function"===t)}function p(e){return!!f(e)&&g(e)===lu}function v(e){return e}function h(e){return p(e)?e:v}function _(e){return m(e)?[]:Object.keys(e)}function P(e,t){return m(t)?[]:(ru(t)?bu:gu)(h(e),t)}function j(e){return e&&e.length?e[0]:void 0}function y(e){return m(e)?[]:[].concat.apply([],e)}function C(e){for(var t=this,a=e?e.length:0,o=a;o-=1;)if(!p(e[o]))throw new TypeError("Expected a function");return function(){for(var o=0,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];for(var r=a?e[o].apply(t,n):n[0];(o+=1)<a;)r=e[o].call(t,r);return r}}function w(e,t){m(t)||(ru(t)?uu:mu)(h(e),t)}function R(e){return null!=e&&"object"===s(e)}function x(e){return"string"==typeof e||!ru(e)&&R(e)&&g(e)===fu}function k(e){if(!x(e))return-1;for(var t=0,a=e.length,o=0;o<a;o+=1)t=(t<<5)-t+e.charCodeAt(o)&4294967295;return t}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=pu}function E(e){return null!=e&&T(e.length)&&!p(e)}function I(e,t){return vu((function(e){return t[e]}),e)}function A(e){for(var t=0,a=e.length,o=Array(a);t<a;)o[t]=e[t],t+=1;return o}function D(e){return e.split("")}function O(e){return m(e)?[]:E(e)?x(e)?D(e):A(e):I(_(e),e)}function V(e){if(null==e)return!0;if(E(e)&&(ru(e)||x(e)||p(e.splice)))return!e.length;for(var t in e)if(_u.call(e,t))return!1;return!0}function S(e){return m(e)?"":ju.call(e)}function L(e){return x(e)?!S(e):V(e)}function N(e){return"number"==typeof e||R(e)&&g(e)===Cu}function M(e){return Object.getPrototypeOf(Object(e))}function F(e){if(!R(e)||g(e)!==wu)return!1;var t=M(e);if(null===t)return!0;var a=Tu.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&ku.call(a)===Eu}function B(e,t){return ru(t)?t.join(e||""):""}function q(e,t){return m(t)?[]:(ru(t)?vu:Iu)(h(e),t)}function U(){return(new Date).getTime()}function G(e,t,a){return m(a)?t:(ru(a)?Au:Du)(h(e),t,a)}function H(e){return null==e?e:Vu.call(e)}function z(e,t){return L(t)?[]:t.split(e||"")}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function W(e){clearTimeout(e)}function J(e){return void 0===e}function Y(e){return!J(e)}function Z(e){return!!e.execute&&!!e.execute.pageLoad}function $(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function Q(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function X(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function ee(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&N(e))return+e.toFixed(t)}function ae(){function e(e){o.push(e)}function t(){var e=o;return o=[],e}function a(){return o.length>0}var o=[];return{addEntry:e,getAndClearEntries:t,hasEntries:a}}function oe(){function e(e,t){return e!==Fu||t!==Su.ON_DEVICE&&t!==Su.HYBRID?Lu.EDGE:Lu.LOCAL}function t(e){var t={},a=Z(e),o=$(e),s=Q(e),n=X(e),i=ee(e);return a&&(t.executePageLoad=a),o&&(t.executeMboxCount=o),s&&(t.prefetchPageLoad=s),n&&(t.prefetchMboxCount=n),i&&(t.prefetchViewCount=i),t}function a(e){var t={};return e.dns&&(t.dns=te(e.dns)),e.tls&&(t.tls=te(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=te(e.timeToFirstByte)),e.download&&(t.download=te(e.download)),e.responseSize&&(t.responseSize=te(e.responseSize)),t}function o(e){var t={};return e.execution&&(t.execution=te(e.execution)),e.parsing&&(t.parsing=te(e.parsing)),e.request&&(t.request=a(e.request)),au.default(e,t)}function s(e){f.addEntry(o(e))}function n(e){b&&s({requestId:e.requestId,timestamp:U()})}function i(e,t){b&&s({requestId:e,timestamp:U(),execution:t})}function r(e,t){s(au.default(t,{requestId:e,timestamp:U()}))}function c(e,t){b&&t&&r(e,t)}function d(a,o,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;if(b&&o){var i=a.requestId,c=au.default(t(a),{decisioningMethod:n}),d={mode:e(s,n),features:c};r(i,au.default(o,d))}}function l(){return f.getAndClearEntries()}function u(){return f.hasEntries()}function m(e){return u()?au.default(e,{telemetry:{entries:l()}}):e}var b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.SERVER_SIDE,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae();return{addDeliveryRequestEntry:d,addArtifactRequestEntry:c,addRenderEntry:i,addServerStateEntry:n,getAndClearEntries:l,hasEntries:u,addTelemetryToDeliveryRequest:m}}function se(e,t){return e(t={exports:{}},t.exports),t.exports}function ne(){function e(e){var t=(Y(n[e])?n[e]:0)+1;return n[e]=t,""+e+t}function t(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return J(i[a])&&(i[a]=qu()),a}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(J(i[e]))return-1;var a=qu()-i[e]-t;return r[e]=a,a}function o(e){delete n[e],delete i[e],delete r[e]}function s(){n={},i={},r={}}var n={},i={},r={};return{timeStart:t,timeEnd:a,getTimings:function(){return r},getTiming:function(e){return r[e]},clearTiming:o,reset:s}}function ie(e,t){if(e){t=t||{};for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},o=a.parser[t.strictMode?"strict":"loose"].exec(e),s={},n=14;n--;)s[a.key[n]]=o[n]||"";return s[a.q.name]={},s[a.key[12]].replace(a.q.parser,(function(e,t,o){t&&(s[a.q.name][t]=o)})),s}}function re(){var e=window.crypto||window.msCrypto;return!m(e)&&e.getRandomValues&&p(e.getRandomValues)&&e.getRandomValues.bind(e)}function ce(){return zu(Hu)}function de(){for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function le(e){for(var t=[],a=0;a<16;a+=1)t.push(Ku[e[a]]);return B("",t).toLowerCase()}function ue(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,le(t)}function me(){return ue(ce)}function be(e,t){e[Zb]&&(m(t[ag])||(e[Sg]=t[ag]),w((function(a){m(t[a])||(e[a]=t[a])}),Af))}function ge(e){var t=e.documentMode;return!t||t>=10}function fe(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function pe(e){return Tf.test(e)}function ve(e){if(pe(e))return e;var t=H(z(".",e)),a=t.length;return a>=3&&Ef.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===a?t[0]:t[1]+"."+t[0]}function he(e,t,a){var o="";e.location.protocol===kf||(o=ve(e.location.hostname)),a[hg]=o,a[Zb]=fe(t)&&ge(t),be(a,e[Ig]||{})}function _e(e){he(xf,Rf,e);var t=xf.location.protocol===kf;(If=au.default({},e))[rg]=e[rg]/1e3,If[cg]=e[cg]/1e3,If[vg]=If[gg]||t?"https:":""}function Pe(){return If}function je(e){try{return Df(e)}catch(e){return{}}}function ye(e){try{return Of(e)}catch(e){return""}}function Ce(e){try{return decodeURIComponent(e)}catch(t){return e}}function we(e){try{return encodeURIComponent(e)}catch(t){return e}}function Re(e){if(Sf[e])return Sf[e];Vf.href=e;var t=Gu(Vf.href);return t.queryKey=je(t.query),Sf[e]=t,Sf[e]}function xe(e,t,a){return{name:e,value:t,expires:a}}function ke(e){var t=z("#",e);return V(t)||t.length<3||isNaN(parseInt(t[2],10))?null:xe(Ce(t[0]),Ce(t[1]),Number(t[2]))}function Te(e){return L(e)?[]:z("|",e)}function Ee(){var e=q(ke,Te(Lf(Ff))),t=Math.ceil(U()/1e3);return G((function(e,t){return e[t.name]=t,e}),{},P((function(e){return f(e)&&t<=e.expires}),e))}function Ie(e){var t=Ee()[e];return f(t)?t.value:""}function Ae(e){return B("#",[we(e.name),we(e.value),e.expires])}function De(e){return e.expires}function Oe(e){var t=q(De,e);return Math.max.apply(null,t)}function Ve(e,t,a){var o=O(e),s=Math.abs(1e3*Oe(o)-U()),n=B("|",q(Ae,o)),i=new Date(U()+s),r=au.default({domain:t,expires:i,secure:a},a?{sameSite:_f}:{});Nf(Ff,n,r)}function Se(e){var t=e.name,a=e.value,o=e.expires,s=e.domain,n=e.secure,i=Ee();i[t]=xe(t,a,Math.ceil(o+U()/1e3)),Ve(i,s,n)}function Le(e){return yu(Lf(e))}function Ne(e,t){var a=je(e.location.search);return yu(a[t])}function Me(e,t){var a=Re(e.referrer).queryKey;return!m(a)&&yu(a[t])}function Fe(e,t,a){return Le(a)||Ne(e,a)||Me(t,a)}function Be(){var e=Pe(),t=e[hg],a=e[gg],o=au.default({domain:t,secure:a},a?{sameSite:_f}:{});Nf(Im,Am,o);var s=Lf(Im)===Am;return Mf(Im),s}function qe(){return Fe(xf,Rf,Tm)}function Ue(){return Pe()[Zb]&&Be()&&!qe()}function Ge(){return Fe(xf,Rf,km)}function He(){return Fe(xf,Rf,Em)}function ze(e,t){var a=e.console;return!m(a)&&p(a[t])}function Ke(e,t){var a=e.console;ze(e,"warn")&&a.warn.apply(a,[Bf].concat(t))}function We(e,t){var a=e.console;ze(e,"debug")&&Ge()&&a.debug.apply(a,[Bf].concat(t))}function Je(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Ke(xf,t)}function Ye(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];We(xf,t)}function Ze(e){return G((function(t,a){return t[a]=e[a],t}),{},Af)}function $e(e,t,a){var o=e[Eg]||[];if(e[Eg]=o,a){var s=o.push;o[og]=qf,o[xg]=Ze(t),o[kg]=[],o[Tg]=[],o.push=function(e){o[Tg].push(au.default({timestamp:U()},e)),s.call(this,e)}}}function Qe(e,t,a,o){t===Tg&&e[Eg].push(a),o&&t!==Tg&&e[Eg][t].push(au.default({timestamp:U()},a))}function Xe(){$e(xf,Pe(),Ge())}function et(e){Qe(xf,Tg,e,Ge())}function tt(e){Qe(xf,kg,e,Ge())}function at(){return p(Gf)}function ot(e){return new Gf(e)}function st(){var e=Rf.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},a=[];return ot((function(){for(var e=a.length,t=0;t<e;t+=1)a[t]();a.splice(0,e)})).observe(e,{characterData:!0}),function(e){a.push(e),t()}}function nt(){return function(e){var t=Uf("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),Uf(Rf.documentElement).append(t)}}function it(){at()?nu.default._setImmediateFn(st()):-1!==xf.navigator.userAgent.indexOf("MSIE 10")&&nu.default._setImmediateFn(nt())}function rt(e){return new nu.default(e)}function ct(e){return nu.default.resolve(e)}function dt(e){return nu.default.reject(e)}function lt(e){return ru(e)?nu.default.race(e):dt(new TypeError(Hf))}function ut(e){return ru(e)?nu.default.all(e):dt(new TypeError(Hf))}function mt(e,t,a){var o=-1;return lt([e,rt((function(e,s){o=K((function(){return s(new Error(a))}),t)}))]).then((function(e){return W(o),e}),(function(e){throw W(o),e}))}function bt(e){if(m(e[af]))return!1;var t=e[af];if(m(t[of]))return!1;var a=t[of];return p(a[nf])&&p(a[sf])}function gt(e,t){return!!t&&bt(e)}function ft(e,t){if(!bt(e))return!0;var a=e[af][of],o=(e[af][of][rf]||{})[t];return a[sf](o)}function pt(e,t){if(!bt(e))return ct(!0);var a=e[af][of],o=(e[af][of][rf]||{})[t];return rt((function(e,t){a[nf]((function(){a[sf](o)?e(!0):t(uf)}),!0)}))}function vt(){var e=Pe()[lf];return gt(xf,e)}function ht(){return ft(xf,cf)}function _t(){return ft(xf,df)}function Pt(){return pt(xf,cf)}function jt(){return je(xf.location.search)[jg]}function yt(e,t){Se({name:wg,value:e,expires:t[cg],domain:t[hg],secure:t[gg]})}function Ct(e){yt(e,Pe())}function wt(){if(vt()&&!ht())return zf;var e=jt();if(yu(e))return Ct(e),Ie(wg);var t=Ie(wg);return L(t)?Ct(zf):Ct(t),Ie(wg)}function Rt(e){var t=Pe();Se({name:yg,value:e,expires:t[rg],domain:t[hg],secure:t[gg]})}function xt(){return Ie(yg)}function kt(e){if(L(e))return"";var t=Kf.exec(e);return V(t)||2!==t.length?"":t[1]}function Tt(){if(!Pe()[ug])return"";var e=Lf(Cg);return L(e)?"":e}function Et(e){var t=Pe();if(t[ug]){var a=t[hg],o=new Date(U()+t[mg]),s=t[gg],n=Lf(Cg),i=au.default({domain:a,expires:o,secure:s},s?{sameSite:_f}:{});if(yu(n))Nf(Cg,n,i);else{var r=kt(e);L(r)||Nf(Cg,r,i)}}}function It(e,t){function a(e,a){var o=t.createEvent("CustomEvent");return a=a||{bubbles:!1,cancelable:!1,detail:void 0},o.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),o}p(e.CustomEvent)||(a.prototype=e.Event.prototype,e.CustomEvent=a)}function At(e,t){var a=e(),o=t(),s={};return s.sessionId=a,yu(o)?(s.deviceId=o,s):s}function Dt(e,t,a,o){var s=new e.CustomEvent(a,{detail:o});t.dispatchEvent(s)}function Ot(e,t){var a=t.mbox,o=t.error,s=t.url,n=t.analyticsDetails,i=t.responseTokens,r=t.execution,c={type:e,tracking:At(wt,xt)};return m(a)||(c.mbox=a),m(o)||(c.error=o),m(s)||(c.url=s),V(n)||(c.analyticsDetails=n),V(i)||(c.responseTokens=i),V(r)||(c.execution=r),c}function Vt(){var e=Ot(Jf,{});Dt(xf,Rf,Jf,e)}function St(e){var t=Ot(Yf,e);Dt(xf,Rf,Yf,t)}function Lt(e,t){var a=Ot(Zf,e);a.redirect=t,Dt(xf,Rf,Zf,a)}function Nt(e){var t=Ot($f,e);Dt(xf,Rf,$f,t)}function Mt(e){var t=Ot(Qf,e);Dt(xf,Rf,Qf,t)}function Ft(e){var t=Ot(Xf,e);Dt(xf,Rf,Xf,t)}function Bt(e){var t=Ot(ep,e);Dt(xf,Rf,ep,t)}function qt(e){var t=Ot(tp,e);Dt(xf,Rf,tp,t)}function Ut(e){var t=Ot(ap,e);Dt(xf,Rf,ap,t)}function Gt(e){return R(e)&&1===e.nodeType&&!F(e)}function Ht(e){var t=e.charAt(0),a=e.charAt(1),o=e.charAt(2),s={key:e};return s.val="-"===a?""+t+a+"\\3"+o+" ":t+"\\3"+a+" ",s}function zt(e){var t=e.match(ip);return V(t)?e:G((function(e,t){return e.replace(t.key,t.val)}),e,q(Ht,t))}function Kt(e){for(var t,a,o,s,n=[],i=S(e),r=i.indexOf(op);-1!==r;)t=S(i.substring(0,r)),s=(a=S(i.substring(r))).indexOf(sp),o=S(a.substring(np,s)),r=(i=S(a.substring(s+1))).indexOf(op),t&&o&&n.push({sel:t,eq:Number(o)});return i&&n.push({sel:i}),n}function Wt(e){if(Gt(e))return Uf(e);if(!x(e))return Uf(e);var t=zt(e);if(-1===t.indexOf(op))return Uf(t);var a=Kt(t);return G((function(e,t){var a=t.sel,o=t.eq;return e=e.find(a),N(o)&&(e=e.eq(o)),e}),Uf(Rf),a)}function Jt(e){return Wt(e).length>0}function Yt(e){return Uf("<"+Wm+"/>").append(e)}function Zt(e){return Uf(e)}function $t(e){return Wt(e).prev()}function Qt(e){return Wt(e).next()}function Xt(e){return Wt(e).parent()}function ea(e,t){return Wt(t).is(e)}function ta(e,t){return Wt(t).find(e)}function aa(e){return Wt(e).children()}function oa(){xf[dp]=xf[dp]||{},xf[dp].querySelectorAll=Wt}function sa(e){var t=e[Kg];xf[dp][up]=t}function na(){Rf.addEventListener(qm,(function(e){p(xf[dp][lp])&&xf[dp][lp](e)}),!0)}function ia(){if(He()){oa();var e=Pe()[pg],t=function(){return na()},a=function(){return Je(rp)};Ye(cp),iu.default(e).then(t).catch(a)}}function ra(e){return parseInt(e,10)}function ca(e){var t=ra(e);return isNaN(t)?null:t}function da(e){return z(hp,e)}function la(e){var t=z(hp,e),a=ca(t[0]);if(m(a))return null;var o={};o.activityIndex=a;var s=ca(t[1]);return m(s)||(o.experienceIndex=s),o}function ua(e){return P(_p,q(la,e))}function ma(e){return ru(e)?ua(e):ua([e])}function ba(e){var t=je(e),a=t[bp];if(L(a))return null;var o={};o.token=a;var s=t[fp];yu(s)&&s===Am&&(o.listedActivitiesOnly=!0);var n=t[pp];yu(n)&&(o.evaluateAsTrueAudienceIds=da(n));var i=t[vp];yu(i)&&(o.evaluateAsFalseAudienceIds=da(i));var r=t[gp];return V(r)||(o.previewIndexes=ma(r)),o}function ga(e){var t=ba(e.location.search);if(!m(t)){var a=new Date(U()+186e4),o=Pe()[gg],s=au.default({expires:a,secure:o},o?{sameSite:_f}:{});Nf(mp,JSON.stringify(t),s)}}function fa(){var e=Lf(mp);if(L(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function pa(e){var t=je(e)[jp];return L(t)?null:{token:t}}function va(e){var t=pa(e.location.search);if(!m(t)){
var a=new Date(U()+186e4),o=Pe()[gg],s=au.default({expires:a,secure:o},o?{sameSite:_f}:{});Nf(Pp,JSON.stringify(t),s)}}function ha(){var e=Lf(Pp);if(L(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function _a(e){return Wt(e).empty().remove()}function Pa(e,t){return Wt(t).after(e)}function ja(e,t){return Wt(t).before(e)}function ya(e,t){return Wt(t).append(e)}function Ca(e,t){return Wt(t).prepend(e)}function wa(e,t){return Wt(t).html(e)}function Ra(e){return Wt(e).html()}function xa(e,t){return Wt(t).text(e)}function ka(e,t){return"<"+Hm+" "+Fm+'="'+e+'" '+Bm+'="'+Wb+'">'+t+"</"+Hm+">"}function Ta(e,t){return ka(yp+k(t),t+" {"+e+"}")}function Ea(e,t){return ka(Rp,t+" {"+e+"}")}function Ia(e){if(!0===e[ig]&&!Jt(wp)){var t=e[ng];ya(ka(Cp,t),Um)}}function Aa(e){!0===e[ig]&&Jt(wp)&&_a(wp)}function Da(e,t){if(!V(t)){var a=P((function(e){return!Jt("#"+(yp+k(e)))}),t);if(!V(a)){var o=e[sg];ya(B("\n",q((function(e){return Ta(o,e)}),a)),Um)}}}function Oa(e,t){V(t)||Jt("#"+Rp)||ya(Ea(e[sg],B(", ",t)),Um)}function Va(){Ia(Pe())}function Sa(){Aa(Pe())}function La(e){Da(Pe(),e)}function Na(e){Oa(Pe(),e)}function Ma(e){_a("#"+(yp+k(e)))}function Fa(){var e="#"+Rp;Jt(e)&&_a(e)}function Ba(e){return!m(e[Fm])}function qa(e){return!m(e[Lg])}function Ua(e){switch(e){default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Ga(e){return e[Fg]}function Ha(e){return Ba(e)||qa(e)}function za(e,t){return G((function(e,a,o){var s={};return s[Mg]=o,Ba(a)&&(s[Fm]=a[Fm]),qa(a)&&(s[Ng]=Ua(a[Lg])),s[Wu]=t,Ga(a)&&(s[Fg]=!0),e.push(s),e}),[],P(Ha,e))}function Ka(e){if(!e.nameSpaces&&!e.dataSources)return za(e,Sp);var t=[];return e.nameSpaces&&t.push.apply(t,za(e.nameSpaces,Vp)),e.dataSources&&t.push.apply(t,za(e.dataSources,Sp)),t}function Wa(e){if(m(e))return[];if(!p(e[Dp]))return[];var t=e[Dp](Op);return f(t)?Ka(t):[]}function Ja(e,t){return m(e)?null:p(e[Ap])?e[Ap](t):null}function Ya(e,t){if(m(e))return null;var a=e[t];return m(a)?null:a}function Za(e,t,a){if(L(t))return null;if(m(e[Mp]))return null;if(!p(e[Mp][Fp]))return null;var o=e[Mp][Fp](t,{sdidParamExpiry:a});return f(o)&&p(o[Bp])&&o[Bp]()?o:null}function $a(e,t){if(!p(e.getVisitorValues))return ct({});var a=[Ep,kp,Tp];return t&&a.push(Ip),rt((function(t){e.getVisitorValues((function(e){return t(e)}),a)}))}function Qa(e){return Ye(Up,e),{}}function Xa(e,t,a){return m(e)?ct({}):mt($a(e,a),t,qp).catch(Qa)}function eo(e,t){if(!p(e.getVisitorValues))return{};var a=[Ep,kp,Tp];t&&a.push(Ip);var o={};return e.getVisitorValues((function(e){return au.default(o,e)}),a),o}function to(e,t){return m(e)?{}:eo(e,t)}function ao(){var e=Pe(),t=e[Qb],a=e[fg];return Za(xf,t,a)}function oo(){var e=ao(),t=Pe();return Xa(e,t[lg],t[bg])}function so(){return to(ao(),Pe()[bg])}function no(){return Wa(ao())}function io(e){return Ja(ao(),e)}function ro(e){return Ya(ao(),e)}function co(e,t){Gp[e]=t}function lo(e){return Gp[e]}function uo(e){var t=e[Ig];if(m(t))return!1;var a=t[Dg];return!(!ru(a)||V(a))}function mo(e){var t=e[Nb];if(!x(t)||V(t))return!1;var a=e[og];if(!x(a)||V(a))return!1;var o=e[eg];return!(!m(o)&&!N(o)||!p(e[zb]))}function bo(e){return rt((function(t,a){e((function(e,o){m(e)?t(o):a(e)}))}))}function go(e,t,a,o,s,n){var i={};i[e]=t,i[a]=o,i[s]=n;var r={};return r[Ag]=i,r}function fo(e){var t=e[Nb],a=e[og],o=e[eg]||Kp;return mt(bo(e[zb]),o,zp).then((function(e){var o=go(Nb,t,og,a,Fb,e);return Ye(Hp,Db,o),tt(o),e})).catch((function(e){var o=go(Nb,t,og,a,Tb,e);return Ye(Hp,Tb,o),tt(o),{}}))}function po(e){var t=G((function(e,t){return au.default(e,t)}),{},e);return co(Dg,t),t}function vo(e){return uo(e)?ut(q(fo,P(mo,e[Ig][Dg]))).then(po):ct({})}function ho(){var e=lo(Dg);return m(e)?{}:e}function _o(){return vo(xf)}function Po(){return ho()}function jo(e){var t=je(e.location.search)[Wp];return L(t)?null:t}function yo(){var e=Lf(Jp);return L(e)?null:e}function Co(){var e=jo(xf),t=yo();return e||t}function wo(e){return!V(e)&&2===e.length&&yu(e[0])}function Ro(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function xo(e,t,a,o){w((function(e,s){f(e)?(t.push(s),xo(e,t,a,o),t.pop()):V(t)?a[o(s)]=e:a[o(B(".",t.concat(s)))]=e}),e)}function ko(e){return P((function(e,t){return yu(t)}),je(e))}function To(e){var t=G((function(e,t){return e.push(Ro(t)),e}),[],P(yu,e));return G((function(e,t){return e[Ce(S(t[0]))]=Ce(S(t[1])),e}),{},P(wo,t))}function Eo(e,t){var a={};return m(t)?xo(e,[],a,v):xo(e,[],a,t),a}function Io(e){if(!p(e))return{};var t=null;try{t=e()}catch(e){return{}}return m(t)?{}:ru(t)?To(t):x(t)&&yu(t)?ko(t):f(t)?Eo(t):{}}function Ao(){return window.navigator.userAgentData}function Do(e){return au.default({},e,Io(xf.targetPageParamsAll))}function Oo(e){return au.default({},e,Io(xf.targetPageParams))}function Vo(e){var t=Pe(),a=t[tg],o=t[_g],s=t[Pg];return a!==e?Do(o||{}):au.default(Do(o||{}),Oo(s||{}))}function So(){var e=Rf.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(m(t))return null;var a=t.getExtension("WEBGL_debug_renderer_info");if(m(a))return null;var o=t.getParameter(a.UNMASKED_RENDERER_WEBGL);return m(o)?null:o}function Lo(){var e=xf.devicePixelRatio;if(!m(e))return e;e=1;var t=xf.screen,a=t.systemXDPI,o=t.logicalXDPI;return!m(a)&&!m(o)&&a>o&&(e=a/o),e}function No(e){if(!ru(e)||0===e.length)return"";var t="";return e.forEach((function(a,o){var s=a.brand,n=a.version,i=o<e.length-1?", ":"";t+='"'+s+'";v="'+n+'"'+i})),t}function Mo(e){return{mobile:e.mobile,platform:e.platform,browserUAWithMajorVersion:No(e.brands)}}function Fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getHighEntropyValues(Yp).then((function(e){var a=e.platformVersion,o=e.architecture,s=e.bitness,n=e.model,i=e.fullVersionList;return au.default({},t,{model:n,platformVersion:a,browserUAWithFullVersion:No(i),architecture:o,bitness:s})}))}catch(e){return ct(t)}}function Bo(e){return co(Cf,e),e}function qo(e){return ct(e).then(Bo)}function Uo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=lo(Cf);if(Y(a))return qo(a);if(J(e))return qo({});var o=Mo(e);return qo(t?Fo(e,o):o)}function Go(){var e=xf.screen,t=e.orientation,a=e.width,o=e.height;if(m(t))return a>o?"landscape":"portrait";if(m(t.type))return null;var s=z("-",t.type);if(V(s))return null;var n=s[0];return m(n)?null:n}function Ho(){return Zp}function zo(e){return e===Qp}function Ko(e){return-1!==e.indexOf($p)}function Wo(e){return e===Xp}function Jo(e){return e===ev}function Yo(e){return e===tv}function Zo(e){return e===av}function $o(e){return e===ov}function Qo(e){return e===sv}function Xo(e){return Ko(e)||zo(e)||Wo(e)||Jo(e)||Yo(e)||Zo(e)||$o(e)||Qo(e)}function es(e){return e.substring($p.length)}function ts(e){return e[Qp]}function as(e){return e[Xp]}function os(e){return e[ev]}function ss(e){return e[tv]}function ns(e){var t=q(S,z(",",e[av]));return P(yu,t)}function is(e){return e[ov]}function rs(e){return e[sv]}function cs(){return G((function(e,t,a){return Xo(a)||(e[a]=m(t)?"":t),e}),{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return G((function(e,a,o){var s=t?es(o):o;return t&&!Ko(o)||L(s)||(e[s]=m(a)?"":a),e}),{},e)}function ls(e,t,a){return e.onload=function(){var o=1223===e.status?204:e.status;if(o<100||o>599)a(new Error(iv));else{var s;try{var n=qu();(s=JSON.parse(e.responseText)).parsingTime=qu()-n,s.responseSize=new Blob([e.responseText]).size}catch(e){return void a(new Error(cv))}var i=e.getAllResponseHeaders();t({status:o,headers:i,response:s})}},e}function us(e,t){return e.onerror=function(){t(new Error(iv))},e}function ms(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(rv))},e}function bs(e){return w((function(t,a){ru(t)&&w((function(t){e.setRequestHeader(a,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function gs(e){var t=e.url,a=e.headers,o=e.body,s=e.timeout,n=e.async;return rt((function(e,i){var r=new window.XMLHttpRequest;(r=us(r=ls(r,e,i),i)).open(nv,t,n),r.withCredentials=!0,r=bs(r,a),n&&(r=ms(r,s,i)),r.send(JSON.stringify(o))})).then((function(e){var t=e.response,a=t.status,o=t.message;if(!m(a)&&!m(o))throw new Error(o);return t}))}function fs(e,t){if(!performance)return null;var a=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!a)return null;var o={};return a.domainLookupEnd&&a.domainLookupStart&&(o.dns=a.domainLookupEnd-a.domainLookupStart),a.secureConnectionStart&&a.connectEnd&&(o.tls=a.connectEnd-a.secureConnectionStart),a.responseStart&&(o.timeToFirstByte=a.responseStart-a.requestStart),a.responseEnd&&a.responseStart&&(o.download=a.responseEnd-a.responseStart),a.encodedBodySize?o.responseSize=a.encodedBodySize:t.responseSize&&(o.responseSize=t.responseSize,delete t.responseSize),o}function ps(e,t){return N(t)?t<0?e[eg]:t:e[eg]}function vs(e){var t=e[Xb];if(!e[ug])return t;var a=Tt();return L(a)?t:""+dv+a+lv}function hs(e){return e[vg]+"//"+vs(e)+e[Og]+"?"+ye({client:e[$b],sessionId:wt(),version:e[og]})}function _s(e,t,a){var o=Pe(),s=hs(o),i=n({},Jg,[Yg]),r=ps(o,t),c={url:s,headers:i,body:e,timeout:r,async:!0};return Uu.timeStart(e.requestId),gs(c).then((function(t){var o={execution:Uu.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var n=fs(s,t);return n&&(o.request=n),t.telemetryServerToken&&(o.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,o,t.status,a),au.default(t,{decisioningMethod:Su.SERVER_SIDE})}))}function Ps(e){if(e[Ip])throw new Error(xp);return e}function js(){var e=oo(),t=_o();return ut([e.then(Ps),t])}function ys(){return[so(),Po()]}function Cs(e){var t=Pe()[tg];return au.default({},e,Vo(t))}function ws(){return-(new Date).getTimezoneOffset()}function Rs(){var e=xf.screen;return{width:e.width,height:e.height,orientation:Go(),colorDepth:e.colorDepth,pixelRatio:Lo()}}function xs(){var e=Rf.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function ks(){return{host:xf.location.hostname,webGLRenderer:Ho()}}function Ts(){return{url:xf.location.href,referringUrl:Rf.referrer}}function Es(e){if(!m(e)&&e.channel===yf)return e;var t=lo(Cf)||{},a=(e||{}).beacon;return{userAgent:xf.navigator.userAgent,clientHints:t,timeOffsetInMinutes:ws(),channel:yf,screen:Rs(),window:xs(),browser:ks(),address:Ts(),geo:e&&e.geo,beacon:a}}function Is(e,t){if(!m(e))return e;var a={};if(V(t))return a;var o=t[Tp],s=parseInt(o,10);isNaN(s)||(a.locationHint=s);var n=t[kp];return yu(n)&&(a.blob=n),a}function As(e){var t=e.id,a=e.integrationCode,o=e.authenticatedState,s=e.type,n=e.primary,i={};return yu(t)&&(i.id=t),yu(a)&&(i.integrationCode=a),yu(o)&&(i.authenticatedState=o),yu(s)&&(i.type=s),n&&(i.primary=n),i}function Ds(e){return q(As,e)}function Os(e,t,a,o,s){var n={};yu(t)&&(n.tntId=t),yu(a)&&(n.thirdPartyId=a),yu(e.thirdPartyId)&&(n.thirdPartyId=e.thirdPartyId);var i=o[Ep];return yu(i)&&(n.marketingCloudVisitorId=i),yu(e.marketingCloudVisitorId)&&(n.marketingCloudVisitorId=e.marketingCloudVisitorId),V(e.customerIds)?(V(s)||(n.customerIds=Ds(s)),n):(n.customerIds=e.customerIds,n)}function Vs(e,t){var a={},o=Is(e.audienceManager,t);return V(o)||(a.audienceManager=o),V(e.analytics)||(a.analytics=e.analytics),a}function Ss(e,t){if(!m(e)&&yu(e.token))return e;var a={},o=as(t);return yu(o)&&(a.token=o),a}function Ls(e){if(!m(e)&&yu(e.authorizationToken))return e;var t={},a=Co();return yu(a)&&(t.authorizationToken=a),t}function Ns(e){return m(e)?ha():e}function Ms(e){return m(e)?fa():e}function Fs(e){var t={},a=os(e);m(a)||(t.id=a);var o=ss(e),s=parseFloat(o);isNaN(s)||(t.total=s);var n=ns(e);return V(n)||(t.purchasedProductIds=n),t}function Bs(e){var t={},a=is(e);m(a)||(t.id=a);var o=rs(e);return m(o)||(t.categoryId=o),t}function qs(e,t){var a={},o=au.default({},cs(t),cs(e.parameters||{})),s=au.default({},ds(t),ds(e.profileParameters||{},!1)),n=au.default({},Fs(t),e.order||{}),i=au.default({},Bs(t),e.product||{});return V(o)||(a.parameters=o),V(s)||(a.profileParameters=s),V(n)||(a.order=n),V(i)||(a.product=i),a}function Us(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Pe()[tg],s=e.index,n=e.name,i=e.address,r=qs(e,au.default({},n===o?t:a,Vo(n)));return m(s)||(r.index=s),yu(n)&&(r.name=n),V(i)||(r.address=i),r}function Gs(e,t){var a=e.name,o=e.address,s=qs(e,t);return yu(a)&&(s.name=a),V(o)||(s.address=o),s}function Hs(e,t,a){var o=e.execute,s=void 0===o?{}:o,n={};if(V(s))return n;var i=s.pageLoad;m(i)||(n.pageLoad=qs(i,t));var r=s.mboxes;if(!m(r)&&ru(r)&&!V(r)){var c=P(uv,q((function(e){return Us(e,t,a)}),r));V(c)||(n.mboxes=c)}return n}function zs(e,t,a){var o=e.prefetch,s=void 0===o?{}:o,n={};if(V(s))return n;var i=s.mboxes;m(i)||!ru(i)||V(i)||(n.mboxes=q((function(e){return Us(e,t,a)}),i));var r=s.views;return m(r)||!ru(r)||V(r)||(n.views=q((function(e){return Gs(e,t)}),r)),n}function Ks(e,t){if(vt()&&!_t())return null;var a=Pe(),o=io(e),s=ro(Lp),n=ro(Np),i=t.experienceCloud,r=(void 0===i?{}:i).analytics,c=void 0===r?{}:r,d=c.logging,l=c.supplementalDataId,u=c.trackingServer,b=c.trackingServerSecure,g={};return m(d)?g.logging=a[mf]:g.logging=d,m(l)||(g.supplementalDataId=l),yu(o)&&(g.supplementalDataId=o),m(u)||(g.trackingServer=u),yu(s)&&(g.trackingServer=s),m(b)||(g.trackingServerSecure=b),yu(n)&&(g.trackingServerSecure=n),V(g)?null:g}function Ws(e,t,a){var o=Cs(a),s=xt(),n=ts(o),i=no(),r=Os(e.id||{},s,n,t,i),c=Ss(e.property,o),d=Vs(e.experienceCloud||{},t),l=Ls(e.trace),u=Ns(e.preview),m=Ms(e.qaMode),b=Hs(e,o,a),g=zs(e,o,a),f=e.notifications,p={};return p.requestId=me(),p.context=Es(e.context),V(r)||(p.id=r),V(c)||(p.property=c),V(l)||(p.trace=l),V(d)||(p.experienceCloud=d),V(u)||(p.preview=u),V(m)||(p.qaMode=m),V(b)||(p.execute=b),V(g)||(p.prefetch=g),V(f)||(p.notifications=f),p=xf.__target_telemetry.addTelemetryToDeliveryRequest(p)}function Js(e,t,a){var o=a[0],s=a[1];return Ws(e,o,au.default({},s,t))}function Ys(e,t){var a=Pe();return ut([js(),Uo(Ao(),a[wf])]).then((function(a){var o=i(a,1)[0];return Js(e,t,o)}))}function Zs(e,t){return Js(e,t,ys())}function $s(e,t){return Ye(Hb,e),tt({request:e}),_s(e,t,Su.SERVER_SIDE).then((function(t){return Ye(Gb,t),tt({response:t}),{request:e,response:t}}))}function Qs(e){return!e&&Wf?Wf:Wf=me()}function Xs(e,t){return{status:Db,type:e,data:t}}function en(e,t){return{status:Tb,type:e,data:t}}function tn(e){return f(e)}function an(e){return!!tn(e)&&yu(e.eventToken)}function on(e){return!V(e)&&!L(e.type)&&yu(e.eventToken)}function sn(e){return!!on(e)&&yu(e.selector)}function nn(e){var t=e.id;return f(t)&&yu(t.tntId)}function rn(e){var t=e.response;return nn(t)&&Rt(t.id.tntId),e}function cn(e){var t=e.response;return nn(t)&&Et(t.id.tntId),Et(null),e}function dn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;V(e)||et(e)}function ln(e){var t=e.response,a=t.execute,o=void 0===a?{}:a,s=t.prefetch,n=void 0===s?{}:s,i=t.notifications,r=void 0===i?{}:i,c=o.pageLoad,d=void 0===c?{}:c,l=o.mboxes,u=void 0===l?[]:l,m=n.mboxes,b=void 0===m?[]:m,g=n.views,f=void 0===g?[]:g;return dn(d),w(dn,u),w(dn,b),w(dn,f),w(dn,r),e}function un(e){var t=e.queryKey,a=t[Vv];if(!x(a))return t;if(L(a))return t;var o=Math.round(U()/1e3);return t[Vv]=a.replace(/\|TS=\d+/,"|TS="+o),t}function mn(e){return e.queryKey}function bn(e,t,a){var o=Re(e),s=o.protocol,n=o.host,i=o.path,r=""===o.port?"":":"+o.port,c=L(o.anchor)?"":"#"+o.anchor,d=a(o),l=ye(au.default({},d,t));return s+"://"+n+r+i+(L(l)?"":"?"+l)+c}function gn(e,t){return bn(e,t,un)}function fn(e,t){return bn(e,t,mn)}function pn(e){var t=e.content;if(L(t))return Ye(hb,e),null;var a=au.default({},e);return a.content=gn(t,{}),a}function vn(e){throw new Error(e)}function hn(e){var t=e[Bv]||Mv,a=e[qv]||vn(Nv),o=e[Uv]||{},s=e[Gv]||null,n=e[Hv]||!1,i=e[zv]||3e3,r=!!m(e[Kv])||!0===e[Kv],c={};return c[Bv]=t,c[qv]=a,c[Uv]=o,c[Gv]=s,c[Hv]=n,c[zv]=i,c[Kv]=r,c}function _n(e,t,a){return e.onload=function(){var o=1223===e.status?204:e.status;if(o<100||o>599)a(new Error(Sv));else{var s=e.responseText,n=e.getAllResponseHeaders();t({status:o,headers:n,response:s})}},e}function Pn(e,t){return e.onerror=function(){t(new Error(Sv))},e}function jn(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(Lv))},e}function yn(e,t){return!0===t&&(e.withCredentials=t),e}function Cn(e,t){return w((function(t,a){w((function(t){return e.setRequestHeader(a,t)}),t)}),t),e}function wn(e,t){var a=hn(t),o=a[Bv],s=a[qv],n=a[Uv],i=a[Gv],r=a[Hv],c=a[zv],d=a[Kv];return rt((function(t,a){var l=new e.XMLHttpRequest;(l=Pn(l=_n(l,t,a),a)).open(o,s,d),l=Cn(l=yn(l,r),n),d&&(l=jn(l,c,a)),l.send(i)}))}function Rn(e){return wn(xf,e)}function xn(e,t,a){var o={};return o[Bv]=Mv,o[qv]=fn(e,t),o[zv]=a,o}function kn(e){return e>=200&&e<300||304===e}function Tn(e){if(!kn(e.status))return null;var t=e.response;if(L(t))return null;var a={};return a.type=Sm,a.content=t,a}function En(e){return Rn(xn(e.content,{},Pe()[zv])).then(Tn).catch((function(){return null}))}function In(e){var t=e[am];if(L(t))return"";var a=Wv.exec(t);return V(a)||2!==a.length?"":a[1]}function An(e,t){var a=document.createElement(Wm);a.innerHTML=t;var o=a.firstElementChild;return m(o)?t:(o.id=e,o.outerHTML)}function Dn(e){var t=e[Ju],a=In(e);if(L(a)||L(t))return e;var o=e[am];return e[am]=o.replace(Jv,""),e[Ju]=An(a,t),e}function On(e){return!m(e.selector)}function Vn(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function Sn(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function Ln(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function Nn(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function Mn(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function Fn(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function Bn(e){if(!On(e))return null;var t=Dn(e);return x(t[Ju])?t:(Ye(mb,t),null)}function qn(e){return On(e)?x(e[Ju])?e:(Ye(mb,e),null):null}function Un(e){return On(e)?f(e[Ju])?e:(Ye(bb,e),null):null}function Gn(e){return On(e)?x(e[Ju])?e:(Ye(_b,e),null):null}function Hn(e){return On(e)?f(e[Ju])?e:(Ye(gb,e),null):null}function zn(e){return On(e)?f(e[Ju])?e:(Ye(fb,e),null):null}function Kn(e){return On(e)?f(e[Ju])?e:(Ye(pb,e),null):null}function Wn(e){return On(e)?e:null}function Jn(e){return On(e)?f(e[Ju])?e:(Ye(vb,e),null):null}function Yn(e){var t=e.content;return L(t)?(Ye(hb,e),null):(e.content=gn(t,{}),e)}function Zn(e){var t=e[Wu];if(L(t))return null;switch(t){case sm:return Vn(e);case im:return Sn(e);case jm:return Ln(e);case Cm:return Nn(e);case Rm:return Mn(e);case _m:return Fn(e);case Pm:return Bn(e);case fm:return qn(e);case cm:return Un(e);case dm:return Gn(e);case lm:return Hn(e);case mm:return zn(e);case bm:return Kn(e);case gm:return Wn(e);case um:return Jn(e);case pm:return Yn(e);default:return null}}function $n(e){var t=e[Ju];if(!ru(t))return null;if(V(t))return null;var a=P(Yv,q(Zn,t));if(V(a))return null;var o=au.default({},e);return o.content=a,o}function Qn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return ru(e)?V(e)?[]:Pv(q(Rv,e)):[]}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,a=void 0===t?{}:t,o=e.prefetch,s=void 0===o?{}:o,n=a.pageLoad,i=void 0===n?{}:n,r=a.mboxes,c=void 0===r?[]:r,d=s.mboxes,l=void 0===d?[]:d,u=s.views,m=void 0===u?[]:u,b=Qn(i),g=y(q(Qn,c)),f=y(q(Qn,l)),p=y(q(Qn,m));return y([b,g,f,p])}function ei(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,a=t.pageLoad,o=void 0===a?{}:a,s=t.mboxes,n=void 0===s?[]:s,i=yv(o)||[],r=y(Pv(q(yv,n))),c=y([i,r]),d=y(q(Cv,P(hv,c))),l=P(_v,c),u=P(_v,d),m=l.concat(u),b={};if(V(m))return b;var g=m[0].content;return L(g)||(b.url=g),b}function ti(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return V(e)?[]:[e]}function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,a=void 0===t?{}:t,o=e.prefetch,s=void 0===o?{}:o,n=a.pageLoad,i=void 0===n?{}:n,r=a.mboxes,c=void 0===r?[]:r,d=s.mboxes,l=void 0===d?[]:d,u=s.views,m=void 0===u?[]:u,b=s.metrics,g=void 0===b?[]:b,f=ti(i),p=y(q(ti,c)),v=y(q(ti,l)),h=y(q(ti,m)),_=y(q(ti,g));return y([f,p,v,h,_])}function oi(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function si(e,t){var a=t[0],o=t[1],s=!V(a),n=!V(o);return s||n?(s&&(e.options=a),n&&(e.metrics=o),e):e}function ni(e){switch(e.type){case pm:return ct(pn(e));case Lm:return En(e);case Bb:return ct($n(e));default:return ct(e)}}function ii(e,t){if(!ru(e))return ct([]);if(V(e))return ct([]);var a=P(t,e);return V(a)?ct([]):ut(q((function(e){return ni(e)}),a)).then(Pv)}function ri(e,t){return ru(e)?V(e)?ct([]):ct(P(t,e)):ct([])}function ci(e){var t=e.response.execute;if(!f(t))return ct(null);var a=t.pageLoad;if(!f(a))return ct(null);var o=a.analytics,s=a.options,n=a.metrics,i={analytics:o};return ut([ii(s,tn),ri(n,sn)]).then((function(e){return si(i,e)}))}function di(e){var t=e.name,a=e.analytics,o=e.options,s=e.metrics,n={name:t,analytics:a};return ut([ii(o,tn),ri(s,on)]).then((function(e){return si(n,e)}))}function li(e){var t=e.response.execute;if(!f(t))return ct([]);var a=t.mboxes;return!ru(a)||V(a)?ct([]):ut(q(di,P(Tv,a))).then(Pv)}function ui(e,t,a){return e.index===t&&e.name===a}function mi(e,t,a){var o=e.prefetch,s=(void 0===o?{}:o).mboxes,n=void 0===s?[]:s;return V(n)?null:j(P((function(e){return ui(e,t,a)}),n))}function bi(e,t){var a=t.index,o=t.name,s=t.state,n=t.analytics,i=t.options,r=t.metrics,c=mi(e,a,o),d={name:o,state:s,analytics:n};return m(c)||oi(d,c),ut([ii(i,an),ri(r,on)]).then((function(e){return si(d,e)}))}function gi(e){var t=e.request,a=e.response.prefetch;if(!f(a))return ct([]);var o=a.mboxes;return!ru(o)||V(o)?ct([]):ut(q((function(e){return bi(t,e)}),P(Ev,o))).then(Pv)}function fi(e){var t=e.prefetch,a=(void 0===t?{}:t).views,o=void 0===a?[]:a;return V(o)?null:o[0]}function pi(e,t){var a=t.name,o=t.state,s=t.analytics,n=t.options,i=t.metrics,r=fi(e),c={name:a.toLowerCase(),state:o,analytics:s};return m(r)||oi(c,r),ut([ii(n,an),ri(i,sn)]).then((function(e){return si(c,e)}))}function vi(e){var t=e.request,a=e.response.prefetch;if(!f(a))return ct([]);var o=a.views;return!ru(o)||V(o)?ct([]):ut(q((function(e){return pi(t,e)}),P(Iv,o))).then(Pv)}function hi(e){var t=e.response.prefetch;return f(t)?ri(t.metrics,sn):ct([])}function _i(e){var t=e.response,a=t.remoteMboxes,o=t.remoteViews,s=t.decisioningMethod,n={};return f(a)&&(n.remoteMboxes=a),f(o)&&(n.remoteViews=o),x(s)&&(n.decisioningMethod=s),ct(n)}function Pi(e){return m(e)||L(e.id)?ct(null):ct({id:e.id})}function ji(e){var t=e.response.notifications;return ru(t)?ut(q(Pi,t)).then(Pv):ct([])}function yi(e){var t=e[0],a=e[1],o=e[2],s=e[3],n=e[4],i=e[5],r=e[6],c={},d={};f(t)&&(d.pageLoad=t),V(a)||(d.mboxes=a);var l={};return V(o)||(l.mboxes=o),V(s)||(l.views=s),V(n)||(l.metrics=n),V(d)||(c.execute=d),V(l)||(c.prefetch=l),V(i)||(c.meta=i),V(r)||(c.notifications=r),c}function Ci(e){var t=C([ln,rn,cn])(e);return ut([ci(t),li(t),gi(t),vi(t),hi(t),_i(t),ji(t)]).then(yi)}function wi(e){return!V(ei(e))}function Ri(e){var t=Xn(e),a={};return V(t)||(a.responseTokens=t),a}function xi(e){var t=Ri(e),a=ai(e);return V(a)||(t.analyticsDetails=a),Ye(db,e),Lt(t,wi(e)),ct(e)}function ki(e,t){var a=Ri(t);a.mbox=e;var o=ai(t);return V(o)||(a.analyticsDetails=o),Ye(db,t),Lt(a,wi(t)),ct(t)}function Ti(e){return Je(cb,e),Nt({error:e}),dt(e)}function Ei(e,t){return Je(cb,t),Nt({mbox:e,error:t}),dt(t)}function Ii(e){var t=Pe()[tg],a=e.mbox,o=e.timeout,s=f(e.params)?e.params:{},n=function(e){return ki(a,e)},i=function(e){return Ei(a,e)},r={},c={};a===t?c.pageLoad={}:c.mboxes=[{index:0,name:a}],r.execute=c;var d=Ks(a,r);if(!V(d)){var l={};l.analytics=d,r.experienceCloud=l}return St({mbox:a}),Ys(r,s).then((function(e){return $s(e,o)})).then(Ci).then(n).catch(i)}function Ai(e){var t=Pe()[tg],a=e.consumerId,o=void 0===a?t:a,s=e.request,n=e.timeout,i=e.page,r=void 0===i||i,c=Ks(o,s),d=function(e){return xi(e)},l=function(e){return Ti(e)};if(s.impressionId=s.impressionId||Qs(r),!V(c)){var u=s.experienceCloud||{};u.analytics=c,s.experienceCloud=u}return St({}),Ys(s,{}).then((function(e){return $s(e,n)})).then(Ci).then(d).catch(l)}function Di(e,t){return Wt(t).addClass(e)}function Oi(e,t){return Wt(t).css(e)}function Vi(e,t){return Wt(t).attr(e)}function Si(e,t,a){return Wt(a).attr(e,t)}function Li(e,t){return Wt(t).removeAttr(e)}function Ni(e,t,a){var o=Vi(e,a);yu(o)&&(Li(e,a),Si(t,o,a))}function Mi(e,t){return yu(Vi(e,t))}function Fi(e){return new Error("Could not find: "+e)}function Bi(e,t,a){return rt((function(o,s){var n=ot((function(){var t=a(e);V(t)||(n.disconnect(),o(t))}));K((function(){n.disconnect(),s(Fi(e))}),t),n.observe(Rf,{childList:!0,subtree:!0})}))}function qi(){return Rf[Zv]===$v}function Ui(e,t,a){return rt((function(o,s){function n(){var t=a(e);V(t)?xf.requestAnimationFrame(n):o(t)}n(),K((function(){s(Fi(e))}),t)}))}function Gi(e,t,a){return rt((function(o,s){function n(){var t=a(e);V(t)?K(n,Qv):o(t)}n(),K((function(){s(Fi(e))}),t)}))}function Hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe()[dg],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wt,o=a(e);return V(o)?at()?Bi(e,t,a):qi()?Ui(e,t,a):Gi(e,t,a):ct(o)}function zi(e){return Vi(Om,e)}function Ki(e){return Mi(Om,e)}function Wi(e){return w((function(e){return Ni(Mm,Om,e)}),O(ta(Km,e))),e}function Ji(e){return w((function(e){return Ni(Om,Mm,e)}),O(ta(Km,e))),e}function Yi(e){return Ye(yb,e),Vi(Mm,Si(Mm,e,Zt("<"+Km+"/>")))}function Zi(e){var t=P(Ki,O(ta(Km,e)));return V(t)||w(Yi,q(zi,t)),e}function $i(e){return C([Wi,Zi,Ji])(e)}function Qi(e){var t=Vi(Mm,e);return yu(t)?t:null}function Xi(e){return P(yu,q(Qi,O(ta(Nm,e))))}function er(e){return G((function(e,t){return e.then((function(){return Ye(kb,t),tt({remoteScript:t}),iu.default(t)}))}),ct(),e)}function tr(e){return e}function ar(e,t){return Je(rb,t),tt({action:e,error:t}),e}function or(e,t){var a,o=Wt(t[am]),s=$i(Yt(t[Ju])),n=Xi(s);try{a=ct(e(o,s))}catch(e){return dt(ar(t,e))}return V(n)?a.then((function(){return tr(t)})).catch((function(e){return ar(t,e)})):a.then((function(){return er(n)})).then((function(){return tr(t)})).catch((function(e){return ar(t,e)}))}function sr(e){var t=Yt(e);return B("",G((function(e,t){return e.push(Ra(Yt(t))),e}),[],O(ta(Xv,t))))}function nr(e){var t=au.default({},e),a=t[Ju];if(L(a))return t;var o=Wt(t[am]);return ea(Um,o)?(t[Wu]=jm,t[Ju]=sr(a),t):t}function ir(e){return e.indexOf("px")===e.length-2?e:e+"px"}function rr(e,t){return wa(Ra(t),e)}function cr(e){return Ye(ub,e),or(rr,e)}function dr(e){var t=Wt(e[am]),a=e[Ju];return Ye(ub,e),tt({action:e}),xa(a,t),ct(e)}function lr(e,t){return ya(Ra(t),e)}function ur(e){return Ye(ub,e),or(lr,e)}function mr(e,t){return Ca(Ra(t),e)}function br(e){return Ye(ub,e),or(mr,e)}function gr(e,t){var a=Xt(e);return _a(ja(Ra(t),e)),a}function fr(e){return Ye(ub,e),or(gr,e)}function pr(e,t){return $t(ja(Ra(t),e))}function vr(e){return Ye(ub,e),or(pr,e)}function hr(e,t){return Qt(Pa(Ra(t),e))}function _r(e){return Ye(ub,e),or(hr,e)}function Pr(e,t){return Xt(ja(Ra(t),e))}function jr(e){return Ye(ub,e),or(Pr,e)}function yr(e){var t=e[Ju],a=Wt(e[am]);return Ye(ub,e),tt({action:e}),Li(Mm,a),Si(Mm,Yi(t),a),ct(e)}function Cr(e){var t=e[Ju],a=Wt(e[am]);return Ye(ub,e),tt({action:e}),w((function(e,t){return Si(t,e,a)}),t),ct(e)}function wr(e,t,a){w((function(e){w((function(t,o){return e.style.setProperty(o,t,a)}),t)}),O(e))}function Rr(e){var t=Wt(e[am]),a=e[Ju],o=a[tm];return Ye(ub,e),tt({action:e}),L(o)?Oi(a,t):wr(t,a,o),ct(e)}function xr(e){var t=Wt(e[am]),a=e[Ju];return a[Zu]=ir(a[Zu]),a[Yu]=ir(a[Yu]),Ye(ub,e),tt({action:e}),Oi(a,t),ct(e)}function kr(e){var t=Wt(e[am]),a=e[Ju];return a[$u]=ir(a[$u]),a[Qu]=ir(a[Qu]),Ye(ub,e),tt({action:e}),Oi(a,t),ct(e)}function Tr(e){var t=Wt(e[am]);return Ye(ub,e),tt({action:e}),_a(t),ct(e)}function Er(e){var t=Wt(e[am]),a=e[Ju],o=Number(a[Xu]),s=Number(a[em]);if(isNaN(o)&&isNaN(s))return Ye(jb,e),dt(e);var n=O(aa(t)),i=n[o],r=n[s];return Jt(i)&&Jt(r)?(Ye(ub,e),tt({action:e}),o<s?Pa(i,r):ja(i,r),ct(e)):(Ye(Pb,e),dt(e))}function Ir(e){var t=nr(e);switch(t[Wu]){case sm:return cr(t);case im:return dr(t);case jm:return ur(t);case Cm:return br(t);case Rm:return fr(t);case _m:return vr(t);case Pm:return _r(t);case fm:return jr(t);case cm:return Cr(t);case dm:return yr(t);case lm:return Rr(t);case mm:return xr(t);case bm:return kr(t);case gm:return Tr(t);case um:return Er(t);default:return ct(t)}}function Ar(e){return e[Wu]===vm||e[Wu]===hm}function Dr(e){var t=e[am];return yu(t)||Gt(t)}function Or(e){var t=e.key;if(!L(t)&&Dr(e)){var a=e[am];Si(eh,t,a)}}function Vr(e){var t=e[om];L(t)||Ma(t)}function Sr(e){if(Dr(e)){var t=e[am];Ar(e)?Di(Yb,t):(Di(Jb,t),Vr(e))}else Vr(e)}function Lr(e){w(Sr,e)}function Nr(e){var t=e.key;if(L(t))return!0;if(e[Wu]===fm)return e[Bg];var a=e[am],o=Vi(eh,a);return o!==t||o===t&&!e[Bg]}function Mr(e){return Nr(e)?Ir(e).then((function(){return Ye(lb,e),tt({action:e}),Or(e),Sr(e),e})).catch((function(t){Je(rb,t),tt({action:e,error:t}),Sr(e);var a=au.default({},e);return a[Tb]=!0,a})):(Sr(e),e)}function Fr(e){var t=P((function(e){return!0===e[Tb]}),e);return V(t)?ct():(Lr(t),dt(e))}function Br(e){return Hi(e[am]).then((function(){return e})).catch((function(){var t=au.default({},e);return t[Tb]=!0,t}))}function qr(e){return Br(e).then(Mr)}function Ur(e){return ut(q(qr,e)).then(Fr)}function Gr(e,t,a){return Wt(a).on(e,t)}function Hr(e,t,a){return Wt(a).off(e,t)}function zr(e){return Hi(e[am]).then((function(){return tt({metric:e}),au.default({found:!0},e)})).catch((function(){return Je(th,e),tt({metric:e,message:th}),e}))}function Kr(e){var t=e.name,a=lo(Ug)||{};a[t]=e,co(Ug,a)}function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.page,o=void 0===a||a,s=(lo(Ug)||{})[e];if(m(s))return s;var n=t.impressionId;return m(n)?s:au.default({page:o,impressionId:n},s)}function Jr(e){w(Kr,e)}function Yr(e,t,a){return e[ah][oh](t,a)}function Zr(e,t,a){var o={};o[Jg]=[Yg];var s={};s[Bv]=Fv,s[qv]=t,s[Gv]=a,s[Hv]=!0,s[Kv]=!1,s[Uv]=o;try{e(s)}catch(e){return!1}return!0}function $r(e){return ah in e&&oh in e[ah]}function Qr(e,t){return $r(xf)?Yr(xf,e,t):Zr(Rn,e,t)}function Xr(e){var t=Ks(e,{}),a={context:{beacon:!0}};if(!V(t)){var o={};o.analytics=t,a.experienceCloud=o}return a}function ec(e,t,a){var o=Zs(Xr(e),t);return o.notifications=a,o}function tc(e,t,a){return Ys(Xr(e),t).then((function(e){return e.notifications=a,e}))}function ac(e,t,a){var o={id:me(),type:t,timestamp:U(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return V(a)||(o.tokens=a),o}function oc(e,t,a){var o=e.name,s=e.state,n=ac(e,t,a);return n.mbox={name:o,state:s},n}function sc(e,t,a){var o=e.name,s=e.state,n=ac(e,t,a);return n.view={name:o,state:s},n}function nc(e){var t=hs(Pe());return Qr(t,JSON.stringify(e))?(Ye(sh,t,e),!0):(Je(nh,t,e),!1)}function ic(e,t,a){var o=Vo(Pe()[tg]),s=ac(qs({},o),t,[a]),n=ec(me(),o,[s]);Ye(dh,e,s),tt({source:e,event:t,request:n}),nc(n)}function rc(e,t,a){var o=Vo(e),s=ac(qs({},o),t,[a]);s.mbox={name:e};var n=ec(me(),o,[s]);Ye(lh,e,s),tt({mbox:e,event:t,request:n}),nc(n)}function cc(e){var t=Pe()[tg],a=[],o=Wg;if(w((function(e){var t=e.mbox,s=e.data;if(!m(s)){var n=s.eventTokens,i=void 0===n?[]:n;V(i)||a.push(oc(t,o,i))}}),e),!V(a)){var s=ec(t,{},a);Ye(ch,a),tt({source:mh,event:bh,request:s}),nc(s)}}function dc(e,t,a){var o=Vo(Pe()[tg]),s=ac(qs({},o),t,[a]);s.view={name:e};var n=ec(me(),o,[s]);Ye(uh,e,s),tt({view:e,event:t,request:n}),nc(n)}function lc(e){var t=e.viewName,a=e.impressionId,o=Vo(Pe()[tg]),s=ac(qs({},o),Wg,[]);s.view={name:t},Ye(ih,t),tc(t,o,[s]).then((function(e){e.impressionId=a,tt({view:t,event:gh,request:e}),nc(e)}))}function uc(e){if(!m(e)){var t=e.view,a=e.data,o=(void 0===a?{}:a).eventTokens,s=void 0===o?[]:o,n=t.name,i=t.impressionId,r=Wr(n);if(!m(r)){var c=ec(n,{},[sc(r,Wg,s)]);c.impressionId=i,Ye(rh,n,s),tt({view:n,event:bh,request:c}),nc(c)}}}function mc(e,t){e===qm&&Di(Yb,t)}function bc(e,t){return!m(fh[e])&&!m(fh[e][t])}function gc(e,t,a){if(m(fh[e])){var o=_(fh);V(o)||w((function(e){w((function(o){var s=fh[e][o];Hr(t,s,a)}),_(fh[e])),delete fh[e]}),o)}}function fc(e,t,a){fh[e]=fh[e]||{},fh[e][t]=a}function pc(e,t,a,o){var s=a.type,n=a.selector,i=a.eventToken,r=k(s+":"+n+":"+i),c=function(){return o(e,s,i)};mc(s,n),t?bc(e,r)||(gc(e,s,n),fc(e,r,c),Gr(s,c,n)):Gr(s,c,n)}function vc(e,t,a,o){return zr(a).then((function(a){
a.found&&pc(e,t,a,o)}))}function hc(e,t,a,o){return ut(q((function(a){return vc(e,t,a,o)}),a)).then(_h).catch(Ph)}function _c(e){return hc(e.name,!1,hh(e),rc)}function Pc(e){return hc(e.name,!0,hh(e),dc)}function jc(e){return hc(ph,!1,hh(e),ic)}function yc(e){return hc(vh,!1,hh(e),ic)}function Cc(e){var t=q(yh,e);La(jv(t))}function wc(e){var t=q(yh,e);Na(Pv(t))}function Rc(e){var t=P(hv,yv(e));return y(q(jh,t))}function xc(e){return f(e)&&e.type!==rm}function kc(e,t,a){return q((function(e){return au.default({key:t,page:a},e)}),P(xc,e))}function Tc(e,t,a){var o=e.eventToken,s=e.responseTokens;return Ur(kc(e.content,t,a)).then((function(){return Ch({eventToken:o,responseTokens:s})})).catch(wh)}function Ec(e){return f(e)&&e.type!==Vm}function Ic(e,t){return q(e,P(Ec,yv(t)))}function Ac(e,t,a){var o=n({status:Db},e,t),s=q(Dv,P(vv,a)),i={};return V(s)||(o.status=Tb,i.errors=s),V(i)||(o.data=i),o}function Dc(e,t,a){var o=n({status:Db},e,t),s=q(Dv,P(vv,a)),i=q(Dv,P(Rh,a)),r=Pv(q(wv,i)),c=Pv(q(Rv,i)),d={};return V(s)||(o.status=Tb,d.errors=s),V(r)||(d.eventTokens=r),V(c)||(d.responseTokens=c),V(d)||(o.data=d),o}function Oc(e,t,a){return ut(Ic((function(e){return Tc(e,!0)}),e)).then(t).then((function(t){return a(e),t}))}function Vc(e,t,a,o){var s=t.name;return ut(Ic((function(e){return Tc(e,s,a)}),t)).then((function(a){return Dc(e,t,a)})).then((function(e){return o(t),e}))}function Sc(e){return Oc(e,(function(t){return Ac(Sb,e,t)}),_c)}function Lc(e){return Vc(Sb,e,!0,_c)}function Nc(e){Cc(Rc(e))}function Mc(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,a=(void 0===t?{}:t).pageLoad,o=void 0===a?{}:a;V(o)||Nc(o)}}function Fc(e){var t=e.prefetch,a=(void 0===t?{}:t).views,o=void 0===a?[]:a;V(o)||wc(y(q(Rc,o)))}function Bc(e){Cc(Rc(e)),Fa()}function qc(e){return Oc(e,(function(t){return Ac(Kb,e,t)}),jc)}function Uc(e){return ut(q(Sc,e))}function Gc(e){return ut(q(Lc,e))}function Hc(e){return ut([yc(e)]).then(Ac)}function zc(e){var t=e.page;return Vc(qg,e,t,Pc)}function Kc(){}function Wc(){return new kh}function Jc(e,t,a){e.emit(t,a)}function Yc(e,t,a){e.on(t,a)}function Zc(e,t){Jc(Th,e,t)}function $c(e,t){Yc(Th,e,t)}function Qc(e){return{type:pm,content:e.url}}function Xc(e){var t={};return t.type=sm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ed(e){var t={};return t.type=im,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function td(e){var t={};return t.type=jm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ad(e){var t={};return t.type=Cm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function od(e){var t={};return t.type=Rm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sd(e){var t={};return t.type=_m,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nd(e){var t={};return t.type=Pm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function id(e){var t={};return t.type=fm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rd(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Mm)return t.type=dm,t.content=e.value,t;t.type=cm;var a={};return a[e.attribute]=e.value,t.content=a,t}function cd(e){var t=e.style,a=void 0===t?{}:t,o={};return o.selector=e.selector,o.cssSelector=e.cssSelector,m(a.left)||m(a.top)?m(a.width)||m(a.height)?(o.type=lm,o.content=a,o):(o.type=mm,o.content=a,o):(o.type=bm,o.content=a,o)}function dd(e){var t={};return t.type=gm,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ld(e){var t={};t.from=e.from,t.to=e.to;var a={};return a.type=um,a.selector=e.selector,a.cssSelector=e.cssSelector,a.content=t,a}function ud(e){return yu(e.selector)&&yu(e.cssSelector)}function md(e){var t={};if(V(e))return t;var a=[],o=[],s=[];w((function(e){switch(e.action){case nm:ud(e)?s.push(Xc(e)):a.push({type:Sm,content:e.content});break;case rm:V(e.content)||w((function(e){return a.push({type:Vm,content:e})}),e.content);break;case im:s.push(ed(e));break;case ym:s.push(td(e));break;case wm:s.push(ad(e));break;case xm:s.push(od(e));break;case _m:s.push(sd(e));break;case Pm:s.push(nd(e));break;case fm:s.push(id(e));break;case cm:s.push(rd(e));break;case lm:s.push(cd(e));break;case gm:s.push(dd(e));break;case um:s.push(ld(e));break;case pm:a.push(Qc(e));break;case vm:o.push({type:qm,selector:e.selector,eventToken:e.clickTrackId})}}),e);var n={};if(!V(s)&&a.push({type:Bb,content:s}),!V(a)&&(n.options=a),!V(o)&&(n.metrics=o),V(n))return t;var i={};return i.pageLoad=n,t.execute=i,t}function bd(e,t){var a={};if(V(t))return a;var o=[],s=[];w((function(e){switch(e.action){case nm:o.push({type:Sm,content:e.content});break;case rm:V(e.content)||w((function(e){return o.push({type:Vm,content:e})}),e.content);break;case pm:o.push(Qc(e));break;case hm:s.push({type:qm,eventToken:e.clickTrackId})}}),t);var n={name:e};if(!V(o)&&(n.options=o),!V(s)&&(n.metrics=s),V(n))return a;var i={},r=[n];return i.mboxes=r,a.execute=i,a}function gd(e,t,a){return a?md(t):bd(e,t)}function fd(e){var t=e.status,a=e.data,o={status:t,pageLoad:!0};return m(a)||(o.data=a),o}function pd(e){var t=e.status,a=e.mbox,o=e.data,s={status:t,mbox:a.name};return m(o)||(s.data=o),s}function vd(e){var t=e.status,a=e.view,o=e.data,s={status:t,view:a.name};return m(o)||(s.data=o),s}function hd(e){var t=e.status,a=e.data,o={status:t,prefetchMetrics:!0};return m(a)||(o.data=a),o}function _d(e){if(m(e))return[null];var t=q(fd,[e]);return Oh(t)&&Je(Eh,e),t}function Pd(e){if(m(e))return[null];var t=q(pd,e);return Oh(t)&&Je(Ih,e),t}function jd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;if(m(e))return[null];var a=q(pd,e);return Oh(a)&&Je(Ih,e),t(e),a}function yd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uc;if(m(e))return[null];var a=q(vd,[e]);return Oh(a)&&Je(Ah,e),e.view.page?(t(e),a):a}function Cd(e){if(m(e))return[null];var t=q(hd,[e]);return Oh(t)&&Je(Dh,e),t}function wd(e){var t=y([_d(e[0]),Pd(e[1]),jd(e[2]),Cd(e[3])]),a=P(gv,t),o=P(vv,a);return V(o)?ct(a):dt(o)}function Rd(e){return dt(e)}function xd(e,t){if(!V(t)){var a=t.options;V(a)||w((function(t){if(t.type===Sm){var a=sm,o=t.content;t.type=Bb,t.content=[{type:a,selector:e,content:o}]}}),a)}}function kd(e,t){var a=t.metrics;if(!V(a)){var o=t.name;w((function(t){t.name=o,t.selector=t.selector||e}),a)}}function Td(e,t){var a=au.default({},t),o=a.execute,s=void 0===o?{}:o,n=a.prefetch,i=void 0===n?{}:n,r=s.pageLoad,c=void 0===r?{}:r,d=s.mboxes,l=void 0===d?[]:d,u=i.mboxes,m=void 0===u?[]:u;return xd(e,c),w((function(t){return xd(e,t)}),l),w((function(t){return kd(e,t)}),l),w((function(t){return xd(e,t)}),m),w((function(t){return kd(e,t)}),m),a}function Ed(e){var t=e.prefetch,a=(void 0===t?{}:t).views,o=void 0===a?[]:a;V(o)||Jr(o)}function Id(e){var t=[],a=e.execute,o=void 0===a?{}:a,s=o.pageLoad,n=void 0===s?{}:s,i=o.mboxes,r=void 0===i?[]:i;V(n)?t.push(ct(null)):t.push(qc(n)),V(r)?t.push(ct(null)):t.push(Uc(r));var c=e.prefetch,d=void 0===c?{}:c,l=d.mboxes,u=void 0===l?[]:l,m=d.metrics,b=void 0===m?[]:m;return V(u)?t.push(ct(null)):t.push(Gc(u)),ru(b)&&!V(b)?t.push(Hc(d)):t.push(ct(null)),Sa(),ut(t).then(wd).catch(Rd)}function Ad(e,t){K((function(){return e.location.replace(t)}))}function Dd(e){return yu(e)||Gt(e)?e:Um}function Od(e){Di(Jb,e)}function Vd(e){var t=e.mbox,a=e.selector,o=e.offer,s=Pe(),n=t===s[tg];if(V(o))return Ye(Rb),Od(a),Sa(),void qt({mbox:t});var i=Td(a,gd(t,o,n)),r=ei(i);if(!V(r)){var c=r.url;return Ye(xb,r),Ut({url:c}),void Ad(xf,c)}Mt({mbox:t}),Mc(i),Id(i).then((function(e){V(e)||Ft({mbox:t,execution:e})})).catch((function(e){return Bt({error:e})}))}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,a=void 0===t?{}:t,o=e.execute,s=void 0===o?{}:o,n=s.pageLoad,i=void 0===n?{}:n,r=s.mboxes,c=void 0===r?[]:r,d=a.pageLoad,l=void 0===d?{}:d,u=a.views,m=void 0===u?[]:u,b=a.mboxes,g=void 0===b?[]:b;return V(i)&&V(c)&&V(l)&&V(m)&&V(g)}function Ld(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.selector,o=e.response;if(Sd(o))return Ye(Rb),Od(a),Sa(),qt({}),Zc(vf),ct();var s=Td(a,o),n=ei(s);if(!V(n)){var i=n.url;return Ye(xb,n),Ut({url:i}),Zc(hf),Ad(xf,i),ct()}return Mt({}),Ed(s),Zc(pf),Mc(s,t),Id(s).then((function(e){V(e)||Ft({execution:e})})).catch((function(e){return Bt({error:e})}))}function Nd(e){var t=e[bf];if(V(t))return!1;var a=t.request,o=t.response;return!V(a)&&!V(o)}function Md(e){return e[bf]}function Fd(e){window.__target_telemetry.addServerStateEntry(e)}function Bd(e){Je(Vh,$g,e),Zc(vf),tt({source:Vh,error:e}),Sa()}function qd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={selector:Um,response:e};Ye(Vh,Gb,e),tt({source:Vh,response:e}),Ld(a,t).catch(Bd)}function Ud(e,t){var a=au.default({},t),o=a.execute,s=a.prefetch,n=e[Sg],i=e[Vg];return o&&(a.execute.mboxes=void 0),o&&!n&&(a.execute.pageLoad=void 0),s&&(a.prefetch.mboxes=void 0),s&&!i&&(a.prefetch.views=void 0),a}function Gd(e){var t=Md(e),a=t.request,o=t.response,s=!0;Ye(Vh,tf),tt({source:Vh,serverState:t});var n=Ud(e,o);Mc(n),Fc(n),Fd(a),Ci({request:a,response:n}).then((function(e){return qd(e,s)})).catch(Bd)}function Hd(){if(!Ue()&&!He())return Je(Vh,Jm),void tt({source:Vh,error:Jm});var e=Pe();if(Nd(e))Gd(e);else{var t=e[Sg],a=e[Vg];if(!t&&!a)return Ye(Vh,ef),void tt({source:Vh,error:ef});Va();var o={};if(t){var s={pageLoad:{}};o.execute=s}if(a){var n={views:[{}]};o.prefetch=n}var i=e[eg];Ye(Vh,Hb,o),tt({source:Vh,request:o});var r={request:o,timeout:i};vt()&&!ht()?Pt().then((function(){Ai(r).then(qd).catch(Bd)})).catch(Bd):Ai(r).then(qd).catch(Bd)}}function zd(){var e={};return e[Ab]=!0,e}function Kd(e){var t={};return t[Ab]=!1,t[Tb]=e,t}function Wd(e){return L(e)?Kd(ab):e.length>Dm?Kd(ob):zd()}function Jd(e){if(!f(e))return Kd(Zm);var t=Wd(e[Sb]);return t[Ab]?p(e[Db])?p(e[Tb])?zd():Kd(nb):Kd(sb):t}function Yd(e){if(!f(e))return Kd(Zm);var t=e.request;if(!f(t))return Kd($m);var a=t.execute,o=t.prefetch;return f(a)||f(o)?zd():Kd(Xm)}function Zd(e){if(!f(e))return Kd(Zm);var t=e.request;if(!f(t))return Kd($m);var a=t.execute,o=t.prefetch,s=t.notifications;return f(a)||f(o)?Kd(eb):ru(s)?zd():Kd(tb)}function $d(e){if(!f(e))return Kd(Zm);var t=Wd(e[Sb]);if(!t[Ab])return t;var a=e[Lb];return ru(a)?zd():Kd(ib)}function Qd(e){return f(e)?f(e.response)?zd():Kd(Qm):Kd(Zm)}function Xd(e){if(!f(e))return Kd(Zm);var t=Wd(e[Sb]);return t[Ab]?zd():t}function el(e){return{action:pm,url:e.content}}function tl(e){var t={};return t.action=nm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function al(e){var t={};return t.action=im,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ol(e){var t={};return t.action=ym,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sl(e){var t={};return t.action=wm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nl(e){var t={};return t.action=xm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function il(e){var t={};return t.action=_m,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rl(e){var t={};return t.action=Pm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cl(e){var t={};return t.action=fm,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function dl(e){var t=_(e.content)[0],a={};return a.action=cm,a.attribute=t,a.value=e.content[t],a.selector=e.selector,a.cssSelector=e.cssSelector,a}function ll(e){var t={};return t.action=cm,t.attribute=Mm,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ul(e){var t={};return t.action=lm,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ml(e){var t={};return t.action=lm,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bl(e){var t={};return t.action=lm,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gl(e){var t={};return t.action=gm,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fl(e){var t={};return t.action=um,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pl(e){var t=[];return w((function(e){switch(e.type){case sm:t.push(tl(e));break;case im:t.push(al(e));break;case jm:t.push(ol(e));break;case Cm:t.push(sl(e));break;case Rm:t.push(nl(e));break;case _m:t.push(il(e));break;case Pm:t.push(rl(e));break;case fm:t.push(cl(e));break;case cm:t.push(dl(e));break;case dm:t.push(ll(e));break;case lm:t.push(ul(e));break;case mm:t.push(ml(e));break;case bm:t.push(bl(e));break;case gm:t.push(gl(e));break;case um:t.push(fl(e));break;case pm:t.push(el(e))}}),e),t}function vl(e){if(V(e))return[];var t=[];return w((function(e){e.type===qm&&(Av(e)?t.push({action:vm,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:hm,clickTrackId:e.eventToken}))}),e),t}function hl(e){if(V(e))return[];var t=[],a=[],o=[],s=e.options,n=void 0===s?[]:s,i=e.metrics,r=void 0===i?[]:i;w((function(e){switch(e.type){case Sm:t.push(e.content);break;case Vm:a.push(e.content);break;case pm:o.push(el(e));break;case Bb:o.push.apply(o,pl(e.content))}}),n),V(t)||o.push({action:nm,content:t.join("")}),V(a)||o.push({action:rm,content:a});var c=vl(r);return V(c)||o.push.apply(o,c),o}function _l(e){var t=e.execute,a=void 0===t?{}:t,o=a.pageLoad,s=void 0===o?{}:o,n=a.mboxes,i=void 0===n?[]:n,r=[];return r.push.apply(r,hl(s)),r.push.apply(r,y(q(hl,i))),r}function Pl(e,t){var a=_l(t);e[Db](a)}function jl(e,t){var a=t[Mb]||Ib;e[Tb](a,t)}function yl(e){var t=Jd(e),a=t[Tb];if(!t[Ab])return Je(Sh,a),void tt({source:Sh,options:e,error:a});if(!Ue()&&!He())return K(e[Tb](Eb,Jm)),Je(Sh,Jm),void tt({source:Sh,options:e,error:Jm});var o=function(t){return Pl(e,t)},s=function(t){return jl(e,t)};Ye(Sh,e),tt({source:Sh,options:e}),vt()&&!ht()?Pt().then((function(){Ii(e).then(o).catch(s)})):Ii(e).then(o).catch(s)}function Cl(e){var t=Yd(e),a=t[Tb];return t[Ab]?Ue()||He()?(Ye(Lh,e),tt({source:Lh,options:e}),!vt()||ht()?Ai(e):Pt().then((function(){return Ai(e)}))):(Je(Lh,Jm),tt({source:Lh,options:e,error:Jm}),dt(new Error(Jm))):(Je(Lh,a),tt({source:Lh,options:e,error:a}),dt(t))}function wl(e){var t=Dd(e.selector),a=k(t);Uu.timeStart(a);var o=$d(e),s=o[Tb];if(!o[Ab])return Je(Nh,e,s),tt({source:Nh,options:e,error:s}),void Od(t);if(!Ue()&&!He())return Je(Nh,Jm),tt({source:Nh,options:e,error:Jm}),void Od(t);e.selector=t,Ye(Nh,e),tt({source:Nh,options:e}),Vd(e);var n=Uu.timeEnd(a);Uu.clearTiming(a),window.__target_telemetry.addRenderEntry(a,n)}function Rl(e){var t=Dd(e.selector),a=k(t);Uu.timeStart(a);var o=Qd(e),s=o[Tb];return o[Ab]?Ue()||He()?(e.selector=t,Ye(Mh,e),tt({source:Mh,options:e}),Ld(e).then((function(){var e=Uu.timeEnd(a);Uu.clearTiming(a),window.__target_telemetry.addRenderEntry(a,e)}))):(Je(Mh,Jm),tt({source:Mh,options:e,error:Jm}),Od(t),dt(new Error(Jm))):(Je(Mh,e,s),tt({source:Mh,options:e,error:s}),Od(t),dt(o))}function xl(e){var t=Pe()[tg],a=e.consumerId,o=void 0===a?t:a,s=e.request,n=Zd(e),i=n[Tb];if(!n[Ab])return Je(Fh,i),void tt({source:Fh,options:e,error:i});if(!Ue()&&!He())return Je(Fh,Jm),void tt({source:Fh,options:e,error:Jm});Ye(Fh,e),tt({source:Fh,options:e});var r=ec(o,{},s.notifications);!vt()||ht()?nc(r):Je(Fh,uf)}function kl(e,t){var a=t[Sb],o=au.default({},t),s=f(t.params)?t.params:{};return o[Fb]=au.default({},Vo(a),s),o[eg]=ps(e,t[eg]),o[Db]=p(t[Db])?t[Db]:Nu,o[Tb]=p(t[Tb])?t[Tb]:Nu,o}function Tl(e){var t=e[Wu],a=e[am];return yu(t)&&(yu(a)||Gt(a))}function El(e){var t=e.mbox,a=e.type,o=void 0===a?Wg:a,s=f(e.params)?e.params:{},n=au.default({},Vo(t),s),i=ac(qs({},n),o,[]);if(i.mbox={name:t},nc(ec(t,n,[i])))return Ye(Cb,e),void e[Db]();Je(wb,e),e[Tb](Ib,wb)}function Il(e){if(vt()&&!ht())return Je(wb,uf),void e[Tb](Tb,uf);El(e)}function Al(e){return Il(e),!e.preventDefault}function Dl(e){var t=e[am],a=e[Wu],o=O(Wt(t)),s=function(){return Al(e)};w((function(e){return Gr(a,s,e)}),o)}function Ol(e){var t=Xd(e),a=t[Tb];if(!t[Ab])return Je(Bh,a),void tt({source:Bh,options:e,error:a});var o=kl(Pe(),e);if(!Ue()&&!He())return Je(Bh,Jm),K(o[Tb](Eb,Jm)),void tt({source:Bh,options:e,error:Jm});Ye(Bh,o),tt({source:Bh,options:o}),Tl(o)?Dl(o):Il(o)}function Vl(e){return Bc(e),zc(e).then(yd).then((function(e){V(e)||Ft({execution:e})})).catch((function(e){Je(Zg,e),Bt({error:e})}))}function Sl(){for(;Uh.length>0;){var e=Uh.pop(),t=e.viewName,a=e.page,o=Wr(t,e);m(o)?a&&lc(e):Vl(o)}}function Ll(){zh=Hh,Sl()}function Nl(){$c(pf,Ll),$c(vf,Ll),$c(hf,Ll)}function Ml(e,t){var a={};return a.viewName=e,a.impressionId=me(),a.page=!0,V(t)||(a.page=!!t.page),a}function Fl(e){Uh.push(e),zh!==Gh&&Sl()}function Bl(e,t){if(Pe()[Vg]){if(!x(e)||L(e))return Je(qh,Qg,e),void tt({source:qh,view:e,error:Qg});var a=e.toLowerCase(),o=Ml(a,t);if(He())return Ye(qh,a,o),void sa(o);Ye(qh,a,o),tt({source:qh,view:a,options:o}),Fl(o)}else Je(qh,Xg)}function ql(){Je(Wh,arguments)}function Ul(){Je(Jh,arguments)}function Gl(){Je(Yh,arguments)}function Hl(){Je(Zh,arguments)}function zl(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function Kl(){Object.keys(localStorage).filter(Qh).forEach((function(e){return localStorage.removeItem(e)}))}function Wl(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){Kl()}}function Jl(){function e(e){return t_+":"+e}function t(e){var t=localStorage.getItem(e),a=parseInt(t,e_);return Number.isNaN(a)&&(a=Xh),a}function a(e,t){localStorage.setItem(e,t)}function o(){var e=t(o_)+1;return a(o_,e),e}function s(t,a){Wl(e(t),a)}function n(t){var a=e(t),o=localStorage.getItem(a);return localStorage.removeItem(a),o}function i(){for(var e=[],o=t(a_)||Xh,s=t(o_)||Xh,i=s;i>o;i-=1){var r=n(i);r&&e.push(JSON.parse(r))}return a(a_,s),e}function r(e){s(o(),e)}function c(){return i()}function d(){var a=e(t(o_));return!!localStorage.getItem(a)}return{addEntry:r,getAndClearEntries:c,hasEntries:d}}function Yl(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:Nu,getOffers:Mu,applyOffer:Nu,applyOffers:Mu,sendNotifications:Nu,trackEvent:Nu,triggerView:Nu,registerExtension:Nu,init:Nu},e.mboxCreate=Nu,e.mboxDefine=Nu,e.mboxUpdate=Nu}function Zl(e,t,a){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)Je(Ym);else{_e(a);var o=Pe(),s=o[og];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=s,e.adobe.target.event={LIBRARY_LOADED:Jf,REQUEST_START:Yf,REQUEST_SUCCEEDED:Zf,REQUEST_FAILED:$f,CONTENT_RENDERING_START:Qf,CONTENT_RENDERING_SUCCEEDED:Xf,CONTENT_RENDERING_FAILED:ep,CONTENT_RENDERING_NO_OFFERS:tp,CONTENT_RENDERING_REDIRECT:ap},!o[Zb])return Yl(e),void Je(Jm);e.__target_telemetry=oe(o[jf]&&zl(),o[Pf],Jl()),Xe(),ia(),ga(e),va(e),e.adobe.target.getOffer=yl,e.adobe.target.getOffers=Cl,e.adobe.target.applyOffer=wl,e.adobe.target.applyOffers=Rl,e.adobe.target.sendNotifications=xl,e.adobe.target.trackEvent=Ol,e.adobe.target.triggerView=Bl,e.adobe.target.registerExtension=ql,e.mboxCreate=Ul,e.mboxDefine=Gl,e.mboxUpdate=Hl,Vt()}}var $l=a("@adobe/reactor-object-assign"),Ql=a("@adobe/reactor-cookie"),Xl=a("@adobe/reactor-query-string"),eu=a("@adobe/reactor-promise"),tu=a("@adobe/reactor-load-script"),au=o($l),ou=o(Ql),su=o(Xl),nu=o(eu),iu=o(tu),ru=Array.isArray,cu=Object.prototype,du=cu.toString,lu="[object Function]",uu=function(e,t){return t.forEach(e)},mu=function(e,t){uu((function(a){return e(t[a],a)}),_(t))},bu=function(e,t){return t.filter(e)},gu=function(e,t){var a={};return mu((function(t,o){e(t,o)&&(a[o]=t)}),t),a},fu="[object String]",pu=9007199254740991,vu=function(e,t){return t.map(e)},hu=Object.prototype,_u=hu.hasOwnProperty,Pu=String.prototype,ju=Pu.trim,yu=function(e){return!L(e)},Cu="[object Number]",wu="[object Object]",Ru=Function.prototype,xu=Object.prototype,ku=Ru.toString,Tu=xu.hasOwnProperty,Eu=ku.call(Object),Iu=function(e,t){var a={};return mu((function(t,o){a[o]=e(t,o)}),t),a},Au=function(e,t,a){return a.reduce(e,t)},Du=function(e,t,a){var o=t;return mu((function(t,a){o=e(o,t,a)}),a),o},Ou=Array.prototype,Vu=Ou.reverse,Su={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Lu={EDGE:"edge",LOCAL:"local"},Nu=function(){},Mu=function(e){return Promise.resolve(e)},Fu=200,Bu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qu=se((function(e){(function(){var t,a,o,s,n,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-n)/1e6},a=process.hrtime,s=(t=function(){var e;return 1e9*(e=a())[0]+e[1]})(),i=1e9*process.uptime(),n=s-i):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(Bu)})),Uu=ne(),Gu=ie,Hu=new Uint8Array(256),zu=re(),Ku=de(),Wu="type",Ju="content",Yu="height",Zu="width",$u="left",Qu="top",Xu="from",em="to",tm="priority",am="selector",om="cssSelector",sm="setHtml",nm="setContent",im="setText",rm="setJson",cm="setAttribute",dm="setImageSource",lm="setStyle",um="rearrange",mm="resize",bm="move",gm="remove",fm="customCode",pm="redirect",vm="trackClick",hm="signalClick",_m="insertBefore",Pm="insertAfter",jm="appendHtml",ym="appendContent",Cm="prependHtml",wm="prependContent",Rm="replaceHtml",xm="replaceContent",km="mboxDebug",Tm="mboxDisable",Em="mboxEdit",Im="at_check",Am="true",Dm=250,Om="data-at-src",Vm="json",Sm="html",Lm="dynamic",Nm="script",Mm="src",Fm="id",Bm="class",qm="click",Um="head",Gm="script",Hm="style",zm="link",Km="img",Wm="div",Jm='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Ym="Adobe Target has already been initialized.",Zm="options argument is required",$m="request option is required",Qm="response option is required",Xm="execute or prefetch is required",eb="execute or prefetch is not allowed",tb="notifications are required",ab="mbox option is required",ob="mbox option is too long",sb="success option is required",nb="error option is required",ib="offer option is required",rb="Unexpected error",cb="request failed",db="request succeeded",lb="Action rendered successfully",ub="Rendering action",mb="Action has no content",bb="Action has no attributes",gb="Action has no CSS properties",fb="Action has no height or width",pb="Action has no left, top or position",vb="Action has no from or to",hb="Action has no url",_b="Action has no image url",Pb="Rearrange elements are missing",jb='Rearrange has incorrect "from" and "to" indexes',yb="Loading image",Cb="Track event request succeeded",wb="Track event request failed",Rb="No actions to be rendered",xb="Redirect action",kb="Script load",Tb="error",Eb="warning",Ib="unknown",Ab="valid",Db="success",Ob="render",Vb="metric",Sb="mbox",Lb="offer",Nb="name",Mb="status",Fb="params",Bb="actions",qb="responseTokens",Ub="data",Gb="response",Hb="request",zb="provider",Kb="pageLoad",Wb="at-flicker-control",Jb="at-element-marker",Yb="at-element-click-tracking",Zb="enabled",$b="clientCode",Qb="imsOrgId",Xb="serverDomain",eg="timeout",tg="globalMboxName",ag="globalMboxAutoCreate",og="version",sg="defaultContentHiddenStyle",ng="bodyHiddenStyle",ig="bodyHidingEnabled",rg="deviceIdLifetime",cg="sessionIdLifetime",dg="selectorsPollingTimeout",lg="visitorApiTimeout",ug="overrideMboxEdgeServer",mg="overrideMboxEdgeServerTimeout",bg="optoutEnabled",gg="secureOnly",fg="supplementalDataIdParamTimeout",pg="authoringScriptUrl",vg="scheme",hg="cookieDomain",_g="mboxParams",Pg="globalMboxParams",jg="mboxSession",yg="PC",Cg="mboxEdgeCluster",wg="session",Rg="Traces",xg="settings",kg="client"+Rg,Tg="server"+Rg,Eg="___target_traces",Ig="targetGlobalSettings",Ag="dataProvider",Dg=Ag+"s",Og="endpoint",Vg="viewsEnabled",Sg="pageLoadEnabled",Lg="authState",Ng="authenticatedState",Mg="integrationCode",Fg="primary",Bg="page",qg="view",Ug="views",Gg="options",Hg="metrics",zg="eventToken",Kg="viewName",Wg="display",Jg="Content-Type",Yg="text/plain",Zg="View rendering failed",$g="View delivery error",Qg="View name should be a non-empty string",Xg="Views are not enabled",ef="Page load disabled",tf="Using server state",af="adobe",of="optIn",sf="isApproved",nf="fetchPermissions",rf="Categories",cf="TARGET",df="ANALYTICS",lf="optinEnabled",uf="Adobe Target is not opted in",mf="analyticsLogging",bf="serverState",gf="cspScriptNonce",ff="cspStyleNonce",pf="cache-updated-event",vf="no-offers-event",hf="redirect-offer-event",_f="None",Pf="decisioningMethod",jf="telemetryEnabled",yf="web",Cf="clientHints",wf="allowHighEntropyClientHints",Rf=document,xf=window,kf="file:",Tf=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Ef=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,If={},Af=[Zb,$b,Qb,Xb,hg,eg,_g,Pg,sg,"defaultContentVisibleStyle",rg,ng,ig,dg,lg,ug,mg,bg,lf,gg,fg,pg,"urlSizeLimit",Og,Sg,Vg,mf,bf,Pf,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",jf,"cdnBasePath",gf,ff,tg,wf],Df=su.default.parse,Of=su.default.stringify,Vf=Rf.createElement("a"),Sf={},Lf=ou.default.get,Nf=ou.default.set,Mf=ou.default.remove,Ff="mbox",Bf="AT:",qf="1",Uf=function(e){var t=function(){function t(e){return null==e?String(e):$[Q.call(e)]||"object"}function a(e){return"function"==t(e)}function o(e){return null!=e&&e==e.window}function n(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(e){return"object"==t(e)}function r(e){return i(e)&&!o(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){var t=!!e&&"length"in e&&e.length,a=k.type(e);return"function"!=a&&!o(e)&&("array"==a||0===t||"number"==typeof t&&t>0&&t-1 in e)}function d(e){return O.call(e,(function(e){return null!=e}))}function l(e){return e.length>0?k.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function m(e){return e in N?N[e]:N[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function b(e,t){return"number"!=typeof t||M[u(e)]?t:t+"px"}function g(e){var t,a;return L[e]||(t=S.createElement(e),S.body.appendChild(t),a=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==a&&(a="block"),L[e]=a),L[e]}function f(e){return"children"in e?V.call(e.children):k.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function p(e,t){var a,o=e?e.length:0;for(a=0;a<o;a++)this[a]=e[a];this.length=o,this.selector=t||""}function v(e,t,a){for(x in t)a&&(r(t[x])||ae(t[x]))?(r(t[x])&&!r(e[x])&&(e[x]={}),ae(t[x])&&!ae(e[x])&&(e[x]=[]),v(e[x],t[x],a)):t[x]!==R&&(e[x]=t[x])}function h(e,t){return null==t?k(e):k(e).filter(t)}function _(e,t,o,s){return a(t)?t.call(e,o,s):t}function P(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function j(e,t){var a=e.className||"",o=a&&a.baseVal!==R;if(t===R)return o?a.baseVal:a;o?a.baseVal=t:e.className=t}function y(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?k.parseJSON(e):e):e}catch(t){return e}}function C(e,t){t(e);for(var a=0,o=e.childNodes.length;a<o;a++)C(e.childNodes[a],t)}function w(e,t,a){var o=e.getElementsByTagName("script")[0];if(o){var s=o.parentNode;if(s){var n=e.createElement("script");n.innerHTML=t,yu(a)&&n.setAttribute("nonce",a),s.appendChild(n),s.removeChild(n)}}}var R,x,k,T,E,I,A=[],D=A.concat,O=A.filter,V=A.slice,S=e.document,L={},N={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},F=/^\s*<(\w+|!)[^>]*>/,B=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,G=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],K=S.createElement("table"),W=S.createElement("tr"),J={tr:S.createElement("tbody"),tbody:K,thead:K,tfoot:K,td:W,th:W,"*":S.createElement("div")},Y=/complete|loaded|interactive/,Z=/^[\w-]*$/,$={},Q=$.toString,X={},ee=S.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ae=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(a)return a.call(e,t);var o,s=e.parentNode,n=!s;return n&&(s=ee).appendChild(e),o=~X.qsa(s,t).indexOf(e),n&&ee.removeChild(e),o},E=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},I=function(e){return O.call(e,(function(t,a){return e.indexOf(t)==a}))},X.fragment=function(e,t,a){var o,s,n;return B.test(e)&&(o=k(S.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(q,"<$1></$2>")),t===R&&(t=F.test(e)&&RegExp.$1),t in J||(t="*"),(n=J[t]).innerHTML=""+e,o=k.each(V.call(n.childNodes),(function(){n.removeChild(this)}))),r(a)&&(s=k(o),k.each(a,(function(e,t){H.indexOf(e)>-1?s[e](t):s.attr(e,t)}))),o},X.Z=function(e,t){return new p(e,t)},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,t){var o;if(!e)return X.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&F.test(e))o=X.fragment(e,RegExp.$1,t),e=null;else{if(t!==R)return k(t).find(e);o=X.qsa(S,e)}else{if(a(e))return k(S).ready(e);if(X.isZ(e))return e;if(ae(e))o=d(e);else if(i(e))o=[e],e=null;else if(F.test(e))o=X.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==R)return k(t).find(e);o=X.qsa(S,e)}}return X.Z(o,e)},(k=function(e,t){return X.init(e,t)}).extend=function(e){var t,a=V.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),a.forEach((function(a){v(e,a,t)})),e},X.qsa=function(e,t){var a,o="#"==t[0],s=!o&&"."==t[0],n=o||s?t.slice(1):t,i=Z.test(n);return e.getElementById&&i&&o?(a=e.getElementById(n))?[a]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:V.call(i&&!o&&e.getElementsByClassName?s?e.getElementsByClassName(n):e.getElementsByTagName(t):e.querySelectorAll(t))},k.contains=S.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},k.type=t,k.isFunction=a,k.isWindow=o,k.isArray=ae,k.isPlainObject=r,k.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},k.isNumeric=function(e){var t=Number(e),a=s(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},k.inArray=function(e,t,a){return A.indexOf.call(t,e,a)},k.camelCase=E,k.trim=function(e){return null==e?"":String.prototype.trim.call(e)},k.uuid=0,k.support={},k.expr={},k.noop=function(){},k.map=function(e,t){var a,o,s,n=[];if(c(e))for(o=0;o<e.length;o++)null!=(a=t(e[o],o))&&n.push(a);else for(s in e)null!=(a=t(e[s],s))&&n.push(a);return l(n)},k.each=function(e,t){var a,o;if(c(e)){for(a=0;a<e.length;a++)if(!1===t.call(e[a],a,e[a]))return e}else for(o in e)if(!1===t.call(e[o],o,e[o]))return e;return e},k.grep=function(e,t){return O.call(e,t)},e.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){$["[object "+t+"]"]=t.toLowerCase()})),k.fn={constructor:X.Z,length:0,forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,splice:A.splice,indexOf:A.indexOf,concat:function(){var e,t,a=[];for(e=0;e<arguments.length;e++)t=arguments[e],a[e]=X.isZ(t)?t.toArray():t;return D.apply(X.isZ(this)?this.toArray():this,a)},map:function(e){return k(k.map(this,(function(t,a){return e.call(t,a,t)})))},slice:function(){return k(V.apply(this,arguments))},ready:function(e){return Y.test(S.readyState)&&S.body?e(k):S.addEventListener("DOMContentLoaded",(function(){e(k)}),!1),this},get:function(e){return e===R?V.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,a=this.length,o=0;o<a&&(t=this[o],!1!==e.call(t,o,t));)o++;return this},filter:function(e){return a(e)?this.not(this.not(e)):k(O.call(this,(function(t){return X.matches(t,e)})))},add:function(e,t){return k(I(this.concat(k(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var t=[];if(a(e)&&e.call!==R)this.each((function(a){
e.call(this,a)||t.push(this)}));else{var o="string"==typeof e?this.filter(e):c(e)&&a(e.item)?V.call(e):k(e);this.forEach((function(e){o.indexOf(e)<0&&t.push(e)}))}return k(t)},has:function(e){return this.filter((function(){return i(e)?k.contains(this,e):k(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:k(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:k(e)},find:function(e){var t,a=this;return t=e?"object"==s(e)?k(e).filter((function(){var e=this;return A.some.call(a,(function(t){return k.contains(t,e)}))})):1==this.length?k(X.qsa(this[0],e)):this.map((function(){return X.qsa(this,e)})):k(),t},closest:function(e,t){var a=[],o="object"==s(e)&&k(e);return this.each((function(s,i){for(;i&&!(o?o.indexOf(i)>=0:X.matches(i,e));)i=i!==t&&!n(i)&&i.parentNode;i&&a.indexOf(i)<0&&a.push(i)})),k(a)},parents:function(e){for(var t=[],a=this;a.length>0;)a=k.map(a,(function(e){if((e=e.parentNode)&&!n(e)&&t.indexOf(e)<0)return t.push(e),e}));return h(t,e)},parent:function(e){return h(I(this.pluck("parentNode")),e)},children:function(e){return h(this.map((function(){return f(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||V.call(this.childNodes)}))},siblings:function(e){return h(this.map((function(e,t){return O.call(f(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return k.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=g(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=a(e);if(this[0]&&!t)var o=k(e).get(0),s=o.parentNode||this.length>1;return this.each((function(a){k(this).wrapAll(t?e.call(this,a):s?o.cloneNode(!0):o)}))},wrapAll:function(e){if(this[0]){var t;for(k(this[0]).before(e=k(e));(t=e.children()).length;)e=t.first();k(e).append(this)}return this},wrapInner:function(e){var t=a(e);return this.each((function(a){var o=k(this),s=o.contents(),n=t?e.call(this,a):e;s.length?s.wrapAll(n):o.append(n)}))},unwrap:function(){return this.parent().each((function(){k(this).replaceWith(k(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=k(this);(e===R?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return k(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return k(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var a=this.innerHTML;k(this).empty().append(_(this,e,t,a))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var a=_(this,e,t,this.textContent);this.textContent=null==a?"":""+a})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var a;return"string"!=typeof e||1 in arguments?this.each((function(a){if(1===this.nodeType)if(i(e))for(x in e)P(this,x,e[x]);else P(this,e,_(this,t,a,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(a=this[0].getAttribute(e))?a:R},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){P(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(a){this[e]=_(this,t,a,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var a="data-"+e.replace(G,"-$1").toLowerCase(),o=1 in arguments?this.attr(a,t):this.attr(a);return null!==o?y(o):R},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=_(this,e,t,this.value)}))):this[0]&&(this[0].multiple?k(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var a=k(this),o=_(this,t,e,a.offset()),s=a.offsetParent().offset(),n={top:o.top-s.top,left:o.left-s.left};"static"==a.css("position")&&(n.position="relative"),a.css(n)}));if(!this.length)return null;if(S.documentElement!==this[0]&&!k.contains(S.documentElement,this[0]))return{top:0,left:0};var a=this[0].getBoundingClientRect();return{left:a.left+e.pageXOffset,top:a.top+e.pageYOffset,width:Math.round(a.width),height:Math.round(a.height)}},css:function(e,a){if(arguments.length<2){var o=this[0];if("string"==typeof e){if(!o)return;return o.style[E(e)]||getComputedStyle(o,"").getPropertyValue(e)}if(ae(e)){if(!o)return;var s={},n=getComputedStyle(o,"");return k.each(e,(function(e,t){s[t]=o.style[E(t)]||n.getPropertyValue(t)})),s}}var i="";if("string"==t(e))a||0===a?i=u(e)+":"+b(e,a):this.each((function(){this.style.removeProperty(u(e))}));else for(x in e)e[x]||0===e[x]?i+=u(x)+":"+b(x,e[x])+";":this.each((function(){this.style.removeProperty(u(x))}));return this.each((function(){this.style.cssText+=";"+i}))},index:function(e){return e?this.indexOf(k(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&A.some.call(this,(function(e){return this.test(j(e))}),m(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){T=[];var a=j(this);_(this,e,t,a).split(/\s+/g).forEach((function(e){k(this).hasClass(e)||T.push(e)}),this),T.length&&j(this,a+(a?" ":"")+T.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===R)return j(this,"");T=j(this),_(this,e,t,T).split(/\s+/g).forEach((function(e){T=T.replace(m(e)," ")})),j(this,T.trim())}}))},toggleClass:function(e,t){return e?this.each((function(a){var o=k(this);_(this,e,a,j(this)).split(/\s+/g).forEach((function(e){(t===R?!o.hasClass(e):t)?o.addClass(e):o.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===R?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===R?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),a=this.offset(),o=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return a.top-=parseFloat(k(e).css("margin-top"))||0,a.left-=parseFloat(k(e).css("margin-left"))||0,o.top+=parseFloat(k(t[0]).css("border-top-width"))||0,o.left+=parseFloat(k(t[0]).css("border-left-width"))||0,{top:a.top-o.top,left:a.left-o.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||S.body;e&&!U.test(e.nodeName)&&"static"==k(e).css("position");)e=e.offsetParent;return e}))}},k.fn.detach=k.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));k.fn[e]=function(a){var s,i=this[0];return a===R?o(i)?i["inner"+t]:n(i)?i.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each((function(t){(i=k(this)).css(e,_(this,a,t,i[e]()))}))}})),z.forEach((function(e,a){var o=a%2;k.fn[e]=function(){var e,s,n=k.map(arguments,(function(a){var o=[];return"array"==(e=t(a))?(a.forEach((function(e){return e.nodeType!==R?o.push(e):k.zepto.isZ(e)?o=o.concat(e.get()):void(o=o.concat(X.fragment(e)))})),o):"object"==e||null==a?a:X.fragment(a)})),i=this.length>1;return n.length<1?this:this.each((function(e,t){s=o?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var r=k.contains(S.documentElement,s),c=/^(text|application)\/(javascript|ecmascript)$/,d=Pe(),l=d[gf],u=d[ff];n.forEach((function(e){if(i)e=e.cloneNode(!0);else if(!s)return k(e).remove();yu(l)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",l),yu(u)&&"STYLE"===e.tagName&&e.setAttribute("nonce",u),s.insertBefore(e,t),r&&C(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!c.test(e.type.toLowerCase())||e.src||w(S,e.innerHTML,e.nonce)}))}))}))},k.fn[o?e+"To":"insert"+(a?"Before":"After")]=function(t){return k(t)[e](this),this}})),X.Z.prototype=p.prototype=k.fn,X.uniq=I,X.deserializeValue=y,k.zepto=X,k}();return function(t){function a(e){return e._zid||(e._zid=b++)}function o(e,t,o,i){if((t=s(t)).ns)var r=n(t.ns);return(v[a(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!o||a(e.fn)===a(o))&&(!i||e.sel==i)}))}function s(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function i(e,t){return e.del&&!_&&e.e in P||!!t}function r(e){return j[e]||_&&P[e]||e}function c(e,o,n,c,d,u,b){var g=a(e),f=v[g]||(v[g]=[]);o.split(/\s/).forEach((function(a){if("ready"==a)return t(document).ready(n);var o=s(a);o.fn=n,o.sel=d,o.e in j&&(n=function(e){var a=e.relatedTarget;if(!a||a!==this&&!t.contains(this,a))return o.fn.apply(this,arguments)}),o.del=u;var g=u||n;o.proxy=function(t){if(!(t=l(t)).isImmediatePropagationStopped()){t.data=c;var a=g.apply(e,t._args==m?[t]:[t].concat(t._args));return!1===a&&(t.preventDefault(),t.stopPropagation()),a}},o.i=f.length,f.push(o),"addEventListener"in e&&e.addEventListener(r(o.e),o.proxy,i(o,b))}))}function d(e,t,s,n,c){var d=a(e);(t||"").split(/\s/).forEach((function(t){o(e,t,s,n).forEach((function(t){delete v[d][t.i],"removeEventListener"in e&&e.removeEventListener(r(t.e),t.proxy,i(t,c))}))}))}function l(e,a){if(a||!e.isDefaultPrevented){a||(a=e),t.each(R,(function(t,o){var s=a[t];e[t]=function(){return this[o]=y,s&&s.apply(a,arguments)},e[o]=C}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(a.defaultPrevented!==m?a.defaultPrevented:"returnValue"in a?!1===a.returnValue:a.getPreventDefault&&a.getPreventDefault())&&(e.isDefaultPrevented=y)}return e}function u(e){var t,a={originalEvent:e};for(t in e)w.test(t)||e[t]===m||(a[t]=e[t]);return l(a,e)}var m,b=1,g=Array.prototype.slice,f=t.isFunction,p=function(e){return"string"==typeof e},v={},h={},_="onfocusin"in e,P={focus:"focusin",blur:"focusout"},j={mouseenter:"mouseover",mouseleave:"mouseout"};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents",t.event={add:c,remove:d},t.proxy=function(e,o){var s=2 in arguments&&g.call(arguments,2);if(f(e)){var n=function(){return e.apply(o,s?s.concat(g.call(arguments)):arguments)};return n._zid=a(e),n}if(p(o))return s?(s.unshift(e[o],e),t.proxy.apply(null,s)):t.proxy(e[o],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,a){return this.on(e,t,a)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,a,o){return this.on(e,t,a,o,1)};var y=function(){return!0},C=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,R={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,a){return this.on(t,e,a)},t.fn.undelegate=function(e,t,a){return this.off(t,e,a)},t.fn.live=function(e,a){return t(document.body).delegate(this.selector,e,a),this},t.fn.die=function(e,a){return t(document.body).undelegate(this.selector,e,a),this},t.fn.on=function(e,a,o,s,n){var i,r,l=this;return e&&!p(e)?(t.each(e,(function(e,t){l.on(e,a,o,t,n)})),l):(p(a)||f(s)||!1===s||(s=o,o=a,a=m),s!==m&&!1!==o||(s=o,o=m),!1===s&&(s=C),l.each((function(l,m){n&&(i=function(e){return d(m,e.type,s),s.apply(this,arguments)}),a&&(r=function(e){var o,n=t(e.target).closest(a,m).get(0);if(n&&n!==m)return o=t.extend(u(e),{currentTarget:n,liveFired:m}),(i||s).apply(n,[o].concat(g.call(arguments,1)))}),c(m,e,s,o,a,r||i)})))},t.fn.off=function(e,a,o){var s=this;return e&&!p(e)?(t.each(e,(function(e,t){s.off(e,a,t)})),s):(p(a)||f(o)||!1===o||(o=a,a=m),!1===o&&(o=C),s.each((function(){d(this,e,o,a)})))},t.fn.trigger=function(e,a){return(e=p(e)||t.isPlainObject(e)?t.Event(e):l(e))._args=a,this.each((function(){e.type in P&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,a)}))},t.fn.triggerHandler=function(e,a){var s,n;return this.each((function(i,r){(s=u(p(e)?t.Event(e):e))._args=a,s.target=r,t.each(o(r,e.type||e),(function(e,t){if(n=t.proxy(s),s.isImmediatePropagationStopped())return!1}))})),n},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){p(e)||(e=(t=e).type);var a=document.createEvent(h[e]||"Events"),o=!0;if(t)for(var s in t)"bubbles"==s?o=!!t[s]:a[s]=t[s];return a.initEvent(e,o,!0),l(a)}}(t),function(){try{getComputedStyle(void 0)}catch(a){var t=getComputedStyle;e.getComputedStyle=function(e,a){try{return t(e,a)}catch(e){return null}}}}(),function(e){var t=e.zepto,a=t.qsa,o=/^\s*>/,s=":shadow",n="Zepto"+ +new Date,i=function(t,s){var i,r,c=s;try{c?o.test(c)&&(r=e(t).addClass(n),c="."+n+" "+c):c="*",i=a(t,c)}catch(e){throw e}finally{r&&r.removeClass(n)}return i};t.qsa=function(e,t){var a=t.split(s);if(a.length<2)return i(e,t);for(var o=e,n=0;n<a.length;n++){var r=a[n].trim();if(0===r.indexOf(">")){var c=":host ";(o instanceof Element||o instanceof HTMLDocument)&&(c=":scope "),r=c+r}var d=i(o,r);if(0===d.length||!d[0]||!d[0].shadowRoot)return d;o=d[0].shadowRoot}}}(t),t}(window),Gf=xf.MutationObserver||xf.WebkitMutationObserver,Hf="Expected an array of promises";nu.default._setImmediateFn&&it();var zf=me(),Kf=/.*\.(\d+)_\d+/;It(xf,Rf);var Wf,Jf="at-library-loaded",Yf="at-request-start",Zf="at-request-succeeded",$f="at-request-failed",Qf="at-content-rendering-start",Xf="at-content-rendering-succeeded",ep="at-content-rendering-failed",tp="at-content-rendering-no-offers",ap="at-content-rendering-redirect",op=":eq(",sp=")",np=op.length,ip=/((\.|#)(-)?\d{1})/g,rp="Unable to load target-vec.js",cp="Loading target-vec.js",dp="_AT",lp="clickHandlerForExperienceEditor",up="currentView",mp="at_qa_mode",bp="at_preview_token",gp="at_preview_index",fp="at_preview_listed_activities_only",pp="at_preview_evaluate_as_true_audience_ids",vp="at_preview_evaluate_as_false_audience_ids",hp="_",_p=function(e){return!m(e)},Pp="at_preview_mode",jp="at_preview",yp="at-",Cp="at-body-style",wp="#"+Cp,Rp=yp+"views",xp="Disabled due to optout",kp="MCAAMB",Tp="MCAAMLH",Ep="MCMID",Ip="MCOPTOUT",Ap="getSupplementalDataID",Dp="getCustomerIDs",Op=!0,Vp="NS",Sp="DS",Lp="trackingServer",Np=Lp+"Secure",Mp="Visitor",Fp="getInstance",Bp="isAllowed",qp="Visitor API requests timed out",Up="Visitor API requests error",Gp={},Hp="Data provider",zp="timed out",Kp=2e3,Wp="authorization",Jp="mboxDebugTools",Yp=["architecture","bitness","model","platformVersion","fullVersionList"],Zp=So(),$p="profile.",Qp="mbox3rdPartyId",Xp="at_property",ev="orderId",tv="orderTotal",av="productPurchasedId",ov="productId",sv="categoryId",nv="POST",iv="Network request failed",rv="Request timed out",cv="Malformed response JSON",dv="mboxedge",lv=".tt.omtrdc.net",uv=function(e){return!V(e)},mv=function(e){return function(t){return t[e]}},bv=function(e){return function(t){return!e(t)}},gv=bv(m),fv=bv(L),pv=function(e){return function(t){return P(e,t)}},vv=function(e){return e.status===Tb},hv=function(e){return e.type===Bb},_v=function(e){return e.type===pm},Pv=pv(gv),jv=pv(fv),yv=mv(Gg),Cv=mv(Ju),wv=mv(zg),Rv=mv(qb),xv=function(e){return yu(e.name)},kv=function(e){return!m(e.index)},Tv=function(e){return f(e)&&xv(e)},Ev=function(e){return f(e)&&xv(e)&&kv(e)},Iv=function(e){return f(e)&&xv(e)},Av=function(e){return yu(e.selector)},Dv=mv(Ub),Ov=C([Dv,gv]),Vv="adobe_mc_sdid",Sv="Network request failed",Lv="Request timed out",Nv="URL is required",Mv="GET",Fv="POST",Bv="method",qv="url",Uv="headers",Gv="data",Hv="credentials",zv="timeout",Kv="async",Wv=/CLKTRK#(\S+)/,Jv=/CLKTRK#(\S+)\s/,Yv=function(e){return!m(e)},Zv="visibilityState",$v="visible",Qv=100,Xv=Gm+","+zm+","+Hm,eh="at-action-key",th="metric element not found",ah="navigator",oh="sendBeacon",sh="Beacon data sent",nh="Beacon data sent failed",ih="View triggered notification",rh="View rendered notification",ch="Mboxes rendered notification",dh="Event handler notification",lh="Mbox event handler notification",uh="View event handler notification",mh="prefetchMboxes",bh="rendered",gh="triggered",fh={},ph="pageLoadMetrics",vh="prefetchMetrics",hh=mv(Hg),_h=function(){return Xs(Vb)},Ph=function(e){return en(Vb,e)},jh=mv(Ju),yh=mv(om),Ch=function(e){return Xs(Ob,e)},wh=function(e){return en(Ob,e)},Rh=function(e){return bv(vv)(e)&&Ov(e)},xh={exports:{}};Kc.prototype={on:function(e,t,a){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function o(){s.off(e,o),t.apply(a,arguments)}var s=this;return o._=t,this.on(e,o,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),o=0,s=a.length;o<s;o++)a[o].fn.apply(a[o].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),o=a[e],s=[];if(o&&t)for(var n=0,i=o.length;n<i;n++)o[n].fn!==t&&o[n].fn._!==t&&s.push(o[n]);return s.length?a[e]=s:delete a[e],this}},xh.exports=Kc,xh.exports.TinyEmitter=Kc;var kh=xh.exports,Th=Wc(),Eh="Page load rendering failed",Ih="Mboxes rendering failed",Ah="View rendering failed",Dh="Prefetch rendering failed",Oh=function(e){return!V(P(vv,e))},Vh="[page-init]",Sh="[getOffer()]",Lh="[getOffers()]",Nh="[applyOffer()]",Mh="[applyOffers()]",Fh="[sendNotifications()]",Bh="[trackEvent()]",qh="[triggerView()]",Uh=[],Gh=0,Hh=1,zh=Gh;Nl();var Kh="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Wh="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Jh="mboxCreate() "+Kh,Yh="mboxDefine() "+Kh,Zh="mboxUpdate() "+Kh,$h=/^tgt:.+/i,Qh=function(e){return $h.test(e)},Xh=-1,e_=10,t_="tgt:tlm",a_=t_+":lower",o_=t_+":upper",s_={init:Zl,initConfig:_e,initDelivery:Hd};e.exports=s_}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,a){"use strict";function o(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function s(e){var t={};return Object.keys(e).forEach((function(a){var s=e[a];if(o(s)){var n=s.checked,i=s.value;n&&""===i||(t[a]=i)}else t[a]=s})),t}function n(e){var t=s(e);d(l,t)}function i(e){var t=s(e);d(u,t)}function r(){return l}function c(){return u}var d=a("./object-override"),l={},u={};e.exports={mergeParams:n,mergePageLoadParams:i,getParams:r,getPageLoadParams:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,a,o){"use strict";var s=o.getExtensionSettings(),n=s.targetSettings||{};e.exports={extensionSettings:s,targetSettings:n}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,a,o){t[a]!==o&&(e[a]=t[a])}function a(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,o,s){Object.keys(o).filter(a,{subset:s}).forEach((function(a){t(e,o,a)}))}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.9.0"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,a){e.addEventListener(t,a)}function a(e,t,a){e.removeEventListener(t,a)}e.exports={addEventListener:t,removeEventListener:a}}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,a){"use strict";var o=a("../librarySettings"),s=a("@adobe/reactor-window"),n=a("./object-override"),i=a("./params-store"),r=i.getParams,c=i.getPageLoadParams,d=a("../targetSettings").targetSettings;e.exports=function(e){return d.mboxParams=r(),d.globalMboxParams=c(),n(d,e,["bodyHidingEnabled","bodyHiddenStyle"]),n(d,s.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),n(d,o.TARGET_DEFAULT_SETTINGS||{},["version"]),d}}}}},"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP88bc9a95368c457498f7139d263446ba/",settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},modules:{"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js":{name:"initialize-gettimeparting",displayName:"Initialize getTimeParting",script:function(e,t,a){"use strict";a("./common").init("getTimeParting","window"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,a){"use strict";a("./common").init("apl","analytics"),a("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,a){"use strict";a("./common").init("getPreviousValue","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeRfl.js":{name:"initialize-rfl",displayName:"Initialize RFL (Remove From List)",script:function(e,t,a){"use strict";a("./common").init("rfl","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,a,o){"use strict";o.getSharedModule("adobe-analytics","get-tracker")||o.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),o.getSharedModule("adobe-analytics","augment-tracker")((function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]}))}},"common-analytics-plugins/src/lib/actions/common.js":{script:function(e,t,a,o){"use strict";var s=function(e,t){return"analytics"===e||void 0===e?t:"window"===e?window:null},n=function(e,t,o){t[e]=a("../plugins/allPlugins")[e];var s=o.contextData||{},n=i(e,t);"n/a"===n.version&&(n=r(e)),s[e]=n.version},i=function(e,t){var a,o={plugin:e,version:"n/a"};try{a=t[e]("-v")}catch(e){a={}}try{("string"!=typeof a.plugin||a.plugin.length<1)&&(a=o)}catch(e){a=o}return a},r=function(e){var t=o.getExtensionSettings(),a={plugin:e,version:"n/a"};try{a.version=t[e].version}catch(e){a.version="n/a"}return a};e.exports.init=function(e,t){o.getSharedModule("adobe-analytics","augment-tracker")((function(a){a&&(t=s(t,a),e&&t&&n(e,t,a))}))},e.exports.initMany=function(e){var t;o.getSharedModule("adobe-analytics","augment-tracker")((function(a){if(a)for(var o=0;o<e.length;o++)t=s(e[o].obj,a),e[o].pname&&t&&n(e[o].pname,t,a)}))}}},"common-analytics-plugins/src/lib/plugins/allPlugins.js":{script:function(e,t,a){e.exports.addProductEvar=a("./addProductEvar").addProductEvar,e.exports.addProductEvent=a("./addProductEvent").addProductEvent,e.exports.apl=a("./apl").apl,e.exports.cleanStr=a("./cleanStr").cleanStr,e.exports.endOfDatePeriod=a("./endOfDatePeriod").endOfDatePeriod,e.exports.formatTime=a("./formatTime").formatTime,e.exports.getAndPersistValue=a("./getAndPersistValue").getAndPersistValue,e.exports.getDaysSinceLastVisit=a("./getDaysSinceLastVisit").getDaysSinceLastVisit,e.exports.getGeoCoordinates=a("./getGeoCoordinates").getGeoCoordinates,e.exports.getNewRepeat=a("./getNewRepeat").getNewRepeat,e.exports.getPageLoadTime=a("./getPageLoadTime").getPageLoadTime,e.exports.getPageName=a("./getPageName").getPageName,e.exports.getPreviousValue=a("./getPreviousValue").getPreviousValue,
e.exports.getQueryParam=a("./getQueryParam").getQueryParam,e.exports.getResponsiveLayout=a("./getResponsiveLayout").getResponsiveLayout,e.exports.getTimeBetweenEvents=a("./getTimeBetweenEvents").getTimeBetweenEvents,e.exports.getTimeParting=a("./getTimeParting").getTimeParting,e.exports.getTimeSinceLastVisit=a("./getTimeSinceLastVisit").getTimeSinceLastVisit,e.exports.getTimeToComplete=a("./getTimeToComplete").getTimeToComplete,e.exports.getValOnce=a("./getValOnce").getValOnce,e.exports.getVisitDuration=a("./getVisitDuration").getVisitDuration,e.exports.getVisitNum=a("./getVisitNum").getVisitNum,e.exports.inList=a("./inList").inList,e.exports.lowerCaseVars=a("./lowerCaseVars").lowerCaseVars,e.exports.manageVars=a("./manageVars").manageVars,e.exports.p_fo=a("./p_fo").p_fo,e.exports.performanceCheck=a("./performanceCheck").performanceCheck,e.exports.performanceWriteFull=a("./performanceWriteFull").performanceWriteFull,e.exports.performanceWritePart=a("./performanceWritePart").performanceWritePart,e.exports.handlePPVevents=a("./handlePPVevents").handlePPVevents,e.exports.getPercentPageViewed=a("./getPercentPageViewed").getPercentPageViewed,e.exports.pt=a("./pt").pt,e.exports.rfl=a("./rfl").rfl,e.exports.twoDecimals=a("./twoDecimals").twoDecimals,e.exports.zeroPad=a("./zeroPad").zeroPad,e.exports.randomNumber=a("./randomNumber").randomNumber}},"common-analytics-plugins/src/lib/plugins/addProductEvar.js":{script:function(e){function t(e,t,a){var o=e,s=t,n=a;if("-v"===o)return{plugin:"addProductEvar",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var i,r=0;r<window.s_c_il.length;r++)if((i=window.s_c_il[r])._c&&"s_c"===i._c){r=i;break e}r=void 0}if(void 0!==r&&(r.contextData.addProductEvar="2.0","string"==typeof o&&"string"==typeof s&&""!==s))if(n=n||!1,r.products){var c,d=(i=r.products.split(",")).length;for(n=n?0:d-1;n<d;n++)(c=i[n].split(";"))[5]&&-1<c[5].toLowerCase().indexOf("evar")?c[5]=c[5]+"|"+o+"="+s:c[5]?c[5]=o+"="+s:c[5]||(c[4]||(c[4]=""),c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[5]=o+"="+s),i[n]=c.join(";");r.products=i.join(",")}else r.products=";;;;;"+o+"="+s}e.exports.addProductEvar=t}},"common-analytics-plugins/src/lib/plugins/addProductEvent.js":{script:function(e){function t(e,t,o){var s=e,n=t,i=o;if("-v"===s)return{plugin:"addProductEvent",version:"2.0"};var r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==r&&(r.contextData.addProductEvent="2.0",window.apl=window.apl||function(e,t,o,s,n){function i(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1}if(!e||"string"==typeof e){if("string"!=typeof t||""===t)return e;o=o||",",1==(s=s||o)&&(s=o,n||(n=1)),2==s&&1!=n&&(s=o),t=t.split(","),k=t.length;for(var r=0;r<k;r++)i(e,t[r],o,n)||(e=e?e+s+t[r]:t[r])}return e},"string"==typeof s))if(n=isNaN(n)?"1":String(n),i=i||!1,r.events=window.apl(r.events,s),r.products){var c,d=r.products.split(","),l=d.length;for(i=i?0:l-1;i<l;i++)(c=d[i].split(";"))[4]&&-1<c[4].indexOf("event")?c[4]=c[4]+"|"+s+"="+n:c[5]?c[4]=s+"="+n:c[4]||(c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[4]=s+"="+n),d[i]=c.join(";");r.products=d.join(",")}else r.products=";;;;"+s+"="+n}e.exports.addProductEvent=t}},"common-analytics-plugins/src/lib/plugins/apl.js":{script:function(e){function t(e,t,o,s,n){var i=e,r=t,c=o,d=s,l=n;if("-v"===i)return{plugin:"apl",version:"4.0"};var u=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==u&&(u.contextData.apl="4.0"),window.inList=window.inList||function(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1},!i||"string"==typeof i){if("string"!=typeof r||""===r)return i;c=c||",",1==(d=d||c)&&(d=c,l||(l=1)),2==d&&1!=l&&(d=c),u=(r=r.split(",")).length;for(var m=0;m<u;m++)window.inList(i,r[m],c,l)||(i=i?i+d+r[m]:r[m])}return i}e.exports.apl=t}},"common-analytics-plugins/src/lib/plugins/cleanStr.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"cleanStr",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var a,o=0;o<window.s_c_il.length;o++)if((a=window.s_c_il[o])._c&&"s_c"===a._c){o=a;break e}o=void 0}if(void 0!==o&&(o.contextData.cleanStr="2.0"),"string"==typeof t){for(t=(t=(t=(t=(t=t.replace(/<\/?[^>]+(>|$)/g,"")).trim()).replace(/[\u2018\u2019\u201A]/g,"'")).replace(/\t+/g,"")).replace(/[\n\r]/g," ");-1<t.indexOf("  ");)t=t.replace(/\s\s/g," ");return t}return""}e.exports.cleanStr=t}},"common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"endOfDatePeriod",version:"1.2"};var a=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==a&&(a.contextData.endOfDatePeriod="1.2"),a=new Date;var o=isNaN(t)?0:Math.floor(t),s=function(e,t){return new Date(t||1970,e||1,0).getDate()};return a.setHours(23),a.setMinutes(59),a.setSeconds(59),"w"===t&&(o=6-a.getDay()),"m"===t&&(o=s(a.getMonth()+1,a.getFullYear())-a.getDate()),a.setDate(a.getDate()+o),"y"===t&&(a.setMonth(11),a.setDate(31)),a}e.exports.endOfDatePeriod=t}},"common-analytics-plugins/src/lib/plugins/formatTime.js":{script:function(e){function t(e,t,o){function s(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1}var n=e,i=t,r=o;if(arguments&&"-v"===arguments[0])return{plugin:"formatTime",version:"2.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==c&&(c.contextData.formatTime="2.0"),!(void 0===n||isNaN(n)||0>Number(n))){if(c="","string"==typeof i&&"d"===i||("string"!=typeof i||!s("h,m,s",i))&&86400<=n){var d=86400,l="days";c=isNaN(r)?1:d/(r*d)}else"string"==typeof i&&"h"===i||("string"!=typeof i||!s("m,s",i))&&3600<=n?(d=3600,l="hours",c=isNaN(r)?4:d/(r*d)):"string"==typeof i&&"m"===i||("string"!=typeof i||!s("s",i))&&60<=n?(d=60,l="minutes",c=isNaN(r)?2:d/(r*d)):(d=1,l="seconds",c=isNaN(r)?.2:d/r);return 0===(c=Math.round(n*c/d)/c+" "+l).indexOf("1 ")&&(c=c.substring(0,c.length-1)),c}}e.exports.formatTime=t}},"common-analytics-plugins/src/lib/plugins/getAndPersistValue.js":{script:function(e){function t(e,t,a){var o=e,s=t,n=a;if(void 0!==o&&"-v"===o)return{plugin:"getAndPersistValue",version:"3.0.1"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==i&&(i.contextData.getAndPersistValue="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},i=new Date,s=s||"s_gapv",(n=n||0)?i.setTime(i.getTime()+864e5*n):i.setTime(i.getTime()+18e5),void 0!==o&&o||(o=cookieRead(s)),cookieWrite(s,o,i),o}e.exports.getAndPersistValue=t}},"common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js":{script:function(e){function t(){var e=new Date,t=e.getTime(),a=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),a){if(18e5<(e=t-a)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592000001&&6048e5<e)return"More than 7 days";if(e<604800001&&864e5<e)return"Less than 7 days";if(e<86400001)return"Less than 1 day"}return""}return"New Visitor"}e.exports.getDaysSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getGeoCoordinates",version:"2.0.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getGeoCoordinates="2.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""};var t="",a={timeout:5e3,maximumAge:0},o=function(e){e=e.coords,cookieWrite("s_ggc",parseFloat(e.latitude.toFixed(4))+"|"+parseFloat(e.longitude.toFixed(4)),30),t="latitude="+parseFloat(e.latitude.toFixed(4))+" | longitude="+parseFloat(e.longitude.toFixed(4))},s=function(){t="error retrieving geo coordinates"};return 1<(e=cookieRead("s_ggc").split("|")).length&&(t="latitude="+e[0]+" | longitude="+e[1]),navigator.geolocation&&navigator.geolocation.getCurrentPosition(o,s,a),""===t&&(t="geo coordinates not available"),t}e.exports.getGeoCoordinates=t}},"common-analytics-plugins/src/lib/plugins/getNewRepeat.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"getNewRepeat",version:"3.0.1"};void 0!==(e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(e.contextData.getNewRepeat="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},e="s_nr"+(t=t||30);var a=new Date,o=cookieRead(e),s=o.split("-"),n=a.getTime();return a.setTime(n+864e5*t),""===o||18e5>n-s[0]&&"New"===s[1]?(cookieWrite(e,n+"-New",a),"New"):(cookieWrite(e,n+"-Repeat",a),"Repeat")}e.exports.getNewRepeat=t}},"common-analytics-plugins/src/lib/plugins/getPageLoadTime.js":{script:function(e){function t(){function e(){var e=performance.timing;if(0<e.loadEventEnd&&(clearInterval(window.pi),""===window.cookieRead("s_plt"))){var t=window,a=t.cookieWrite,o=e.loadEventEnd,s=e.navigationStart;o=0<=o&&0<=s?6e4>o-s&&0<=o-s?parseFloat((o-s)/1e3).toFixed(2):60:void 0,a.call(t,"s_plt",o),window.cookieWrite("s_pltp",window.pageName)}window.ptc=e.loadEventEnd}if(arguments&&"-v"===arguments[0])return{plugin:"getPageLoadTime",version:"2.0.2"};var t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getPageLoadTime="2.0.2"),window.pageName=void 0!==t&&t.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)},"undefined"!=typeof performance&&p_fo("performance")&&((t=performance).clearResourceTimings(),""!==window.cookieRead("s_plt")&&(0<t.timing.loadEventEnd&&clearInterval(window.pi),this._pltLoadTime=window.cookieRead("s_plt"),this._pltPreviousPage=window.cookieRead("s_pltp"),window.cookieWrite("s_plt",""),window.cookieWrite("s_pltp","")),0===t.timing.loadEventEnd?window.pi=setInterval((function(){e()}),250):0<t.timing.loadEventEnd&&(window.ptc?window.ptc===t.timing.loadEventEnd&&1===t.getEntries().length&&(window.pwp=setInterval((function(){var e=performance;0<e.getEntries().length&&(window.ppfe===e.getEntries().length?clearInterval(window.pwp):window.ppfe=e.getEntries().length),""===window.cookieRead("s_plt")&&(window.cookieWrite("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),window.cookieWrite("s_pltp",window.pageName))}),500)):e()))}e.exports.getPageLoadTime=t}},"common-analytics-plugins/src/lib/plugins/getPageName.js":{script:function(e){var t=function(e,t,a,o){var s=e,n=t,i=a,r=o;if("-v"===s)return{plugin:"getPageName",version:"4.2"};e:{if(void 0!==window.s_c_il)for(var c,d=0;d<window.s_c_il.length;d++)if((c=window.s_c_il[d])._c&&"s_c"===c._c){d=c;break e}d=void 0}void 0!==d&&(d.contextData.getPageName="4.2");var l=location.hostname,u=location.pathname.substring(1).split("/"),m=u.length,b=location.search.substring(1).split("&"),g=b.length;if(c=(d=location.hash.substring(1).split("&")).length,r=r||"|",s=s||l,n=n||"",i=i||"",1===m&&""===u[0])s=s+r+"home";else for(l=0;l<m;l++)s=s+r+decodeURIComponent(u[l]);if(n&&(1!==g||""!==b[0]))for(m=(u=n.split(",")).length,l=0;l<m;l++)for(n=0;n<g;n++)if(u[l]===b[n].split("=")[0]){s=s+r+decodeURIComponent(b[n]);break}if(i&&(1!==c||""!==d[0]))for(b=(i=i.split(",")).length,l=0;l<b;l++)for(n=0;n<c;n++)if(i[l]===d[n].split("=")[0]){s=s+r+decodeURIComponent(d[n]);break}return s.substring(s.length-r.length)===r?s.substring(0,s.length-r.length):s};e.exports.getPageName=t}},"common-analytics-plugins/src/lib/plugins/getPreviousValue.js":{script:function(e){function t(e,t){var a=e,o=t;if("-v"===a)return{plugin:"getPreviousValue",version:"3.0.1"};var s,n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==n&&(n.contextData.getPreviousValue="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},o=o||"s_gpv",(n=new Date).setTime(n.getTime()+18e5),window.cookieRead(o)&&(s=window.cookieRead(o)),a?window.cookieWrite(o,a,n):window.cookieWrite(o,s,n),s}e.exports.getPreviousValue=t}},"common-analytics-plugins/src/lib/plugins/getQueryParam.js":{script:function(e){function t(e,t,a){function o(e,t){var a=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<a||t.indexOf("=")>a))for(var o=0,s=(a=(a=t.substring(a+1)).split("&")).length;o<s;o++){var n=a[o].split("="),i=n[1];if(n[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(i||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};var s=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==s&&(s.contextData.getQueryParam="4.0"),e){t=t||"",a=(a||void 0!==s&&s.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&a&&4>a.length&&(s=t,t=a,a=s),s="";for(var n=e.split(","),i=n.length,r=0;r<i;r++)"string"==typeof(e=o(n[r],a))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,s+=s?t+e:e):s=""===s?e:s+(t+e);return s}}e.exports.getQueryParam=t}},"common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js":{script:function(e){var t=function(e,t,a){var o=e,s=t,n=a;if("-v"===o)return{plugin:"getResponsiveLayout",version:"1.1"};e:{if(void 0!==window.s_c_il)for(var i,r=0;r<window.s_c_il.length;r++)if((i=window.s_c_il[r])._c&&"s_c"===i._c){r=i;break e}r=void 0}return void 0!==r&&(r.contextData.getResponsiveLayout="1.1"),isNaN(o)||isNaN(s)||isNaN(n)||s<o||n<s?void 0:(r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,(o<s&&r<=s?r<=o?"phone portrait layout":"phone landscape layout":r<=s?"phone layout":r<=n?"tablet layout":"desktop layout")+":"+r+"x"+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))};e.exports.getResponsiveLayout=t}},"common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js":{script:function(e){function t(e,t,o,s,n,i,r,c,d){var l=e,u=t,m=o,b=s,f=n,p=i,v=r,h=c,_=d;if("-v"===l)return{plugin:"getTimeBetweenEvents",version:"3.0.1"};var P=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==P&&(P.contextData.getTimeBetweenEvents="3.0.1",window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},window.formatTime=window.formatTime||function(e,t,o){function s(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!s("h,m,s",t))&&86400<=e?(t=86400,n="days",o=isNaN(o)?1:t/(o*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!s("m,s",t))&&3600<=e?(t=3600,n="hours",o=isNaN(o)?4:t/(o*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!s("s",t))&&60<=e?(t=60,n="minutes",o=isNaN(o)?2:t/(o*t)):(t=1,n="seconds",o=isNaN(o)?.2:t/o),0===(n=Math.round(e*o/t)/o+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.inList=window.inList||function(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1},"string"==typeof l&&void 0!==u&&"string"==typeof m&&void 0!==b)){f=f||"s_tbe",p=isNaN(p)?1:Number(p);var j=!1,y=!1,C=l.split(","),w=m.split(",");_=_?_.split(","):[];for(var R,x=window.cookieRead(f),k=new Date,T=k.getTime(),E=new Date,I=0;I<_.length;++I)if(window.inList(P.events,_[I]))return E.setDate(E.getDate()-1),void window.cookieWrite(f,"",E);for(E.setTime(E.getTime()+864e5*p),I=0;I<C.length&&!j&&!0!==(j=window.inList(P.events,C[I]));++I);for(I=0;I<w.length&&!y&&!0!==(y=window.inList(P.events,w[I]));++I);return 1===C.length&&1===w.length&&l===m&&j&&y?(x&&(R=(T-x)/1e3),window.cookieWrite(f,T,p?E:0)):(!j||1!=u&&x||window.cookieWrite(f,T,p?E:0),y&&x&&(R=(k.getTime()-x)/1e3,!0===b&&(E.setDate(E.getDate()-1),window.cookieWrite(f,"",E)))),R?window.formatTime(R,v,h):""}}e.exports.getTimeBetweenEvents=t}},"common-analytics-plugins/src/lib/plugins/getTimeParting.js":{script:function(e){function t(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var a,o=0;o<window.s_c_il.length;o++)if((a=window.s_c_il[o])._c&&"s_c"===a._c){o=a;break e}o=void 0}return void 0!==o&&(o.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",o=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(o=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(o))[4]+" | month="+o[2]+" | date="+o[3]+" | day="+o[1]+" | time="+(o[6]+o[7])}e.exports.getTimeParting=t}},"common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getTimeSinceLastVisit",version:"2.0.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getTimeSinceLastVisit="2.0.1"),window.formatTime=window.formatTime||function(e,t,o){function s(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!s("h,m,s",t))&&86400<=e?(t=86400,n="days",o=isNaN(o)?1:t/(o*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!s("m,s",t))&&3600<=e?(t=3600,n="hours",o=isNaN(o)?4:t/(o*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!s("s",t))&&60<=e?(t=60,n="minutes",o=isNaN(o)?2:t/(o*t)):(t=1,n="seconds",o=isNaN(o)?.2:t/o),0===(n=Math.round(e*o/t)/o+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""};var t=(e=new Date).getTime(),o=cookieRead("s_tslv")||0,s=Math.round((t-o)/1e3);return e.setTime(t+63072e6),cookieWrite("s_tslv",t,e),o?1800<s||cookieRead("s_inv")?(cookieRead("s_inv")&&(s=cookieRead("s_inv")),cookieWrite("s_inv",s,30),"0"!==s?formatTime(s):"New Visitor"):"":(cookieWrite("s_inv","0",30),"New Visitor")}e.exports.getTimeSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getTimeToComplete.js":{script:function(e){function t(e,t,o,s){var n=e,i=t,r=o,c=s;if("-v"===n)return{plugin:"getTimeToComplete",version:"4.0.1"};var d=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==d&&(d.contextData.getTimeToComplete="4.0.1"),window.formatTime=window.formatTime||function(e,t,o){function s(e,t,o,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(o||",");else if("object"!=typeof e)return!1;for(o=0,a=e.length;o<a;o++)if(1==s&&t===e[o]||t.toLowerCase()===e[o].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!s("h,m,s",t))&&86400<=e?(t=86400,n="days",o=isNaN(o)?1:t/(o*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!s("m,s",t))&&3600<=e?(t=3600,n="hours",o=isNaN(o)?4:t/(o*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!s("s",t))&&60<=e?(t=60,n="minutes",o=isNaN(o)?2:t/(o*t)):(t=1,n="seconds",o=isNaN(o)?.2:t/o),0===(n=Math.round(e*o/t)/o+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},"stop"===(n=n?n.toLowerCase():"start")||"start"===n){if(i=i||"s_gttc",c?c="d"===c?864e5:"h"===c?36e5:"s"===c?1e3:6e4:(r=30,c=6e4),r=isNaN(r)?30:r,r*=c,d=cookieRead(i),c=new Date,"stop"===n&&d)return r=Math.round((c.getTime()-d)/1e3),cookieWrite(i,"",0),formatTime(r);"start"!==n||d?d&&Number(d)<c.getTime()+18e5&&cookieWrite(i,d,30):(n=String(c.getTime()),c.setTime(c.getTime()+r),cookieWrite(i,n,c))}}e.exports.getTimeToComplete=t}},"common-analytics-plugins/src/lib/plugins/getValOnce.js":{script:function(e){function t(e,t,a,o){var s=e,n=t,i=a,r=o;if(arguments&&"-v"===arguments[0])return{plugin:"getValOnce",version:"3.0.1"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==c&&(c.contextData.getValOnce="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},s&&(n=n||"s_gvo",i=i||0,r="m"===r?6e4:864e5,s!==this.c_r(n))?((c=new Date).setTime(c.getTime()+i*r),cookieWrite(n,s,0===i?0:r),s):""}e.exports.getValOnce=t}},"common-analytics-plugins/src/lib/plugins/getVisitDuration.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getVisitDuration",version:"2.1.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getVisitDuration="2.1.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},e=(new Date).getTime();var t=cookieRead("s_dur"),a=0;return(isNaN(t)||18e5<e-t)&&(t=e),a=e-t,cookieWrite("s_dur",t+"",30),0===a?"first hit of visit":0===(a=Math.floor(a/6e4))?"less than a minute":1===a?"1 minute":a+" minutes"}e.exports.getVisitDuration=t}},"common-analytics-plugins/src/lib/plugins/getVisitNum.js":{script:function(e){function t(e,t){function a(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function o(e){var t=new Date,a=isNaN(e)?0:Math.floor(e);if(t.setHours(23),t.setMinutes(59),t.setSeconds(59),"w"===e&&(a=6-t.getDay()),"m"===e){a=t.getMonth()+1;var o=t.getFullYear();a=new Date(o||1970,a||1,0).getDate()-t.getDate()}return t.setDate(t.getDate()+a),"y"===e&&(t.setMonth(11),t.setDate(31)),t}var s=e,n=t;if("-v"===s)return{plugin:"getVisitNum",version:"4.2.1"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==i&&(i.contextData.getVisitNum="4.2.1"),window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},s=s||365,n=void 0!==n?!!n:!!a(s);var r=(new Date).getTime();if(i=o(s),window.cookieRead("s_vnc"+s))var c=window.cookieRead("s_vnc"+s).split("&vn="),d=c[1];return window.cookieRead("s_ivc")?d?(window.cookieWrite("s_ivc",!0,30),d):"unknown visit number":void 0!==d?(d++,c=n&&a(s)?r+864e5*s:c[0],i.setTime(c),window.cookieWrite("s_vnc"+s,c+"&vn="+d,i),window.cookieWrite("s_ivc",!0,30),
d):(c=a(s)?r+864e5*s:o(s).getTime(),window.cookieWrite("s_vnc"+s,c+"&vn=1",i),window.cookieWrite("s_ivc",!0,30),"1")}e.exports.getVisitNum=t}},"common-analytics-plugins/src/lib/plugins/inList.js":{script:function(e){function t(e,t,a,o){var s=e,n=t,i=a,r=o;if("-v"===s)return{plugin:"inList",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c=0;c<window.s_c_il.length;c++)if((a=window.s_c_il[c])._c&&"s_c"===a._c){c=a;break e}c=void 0}if(void 0!==c&&(c.contextData.inList="3.0"),"string"!=typeof n)return!1;if("string"==typeof s)s=s.split(i||",");else if("object"!=typeof s)return!1;for(i=0,c=s.length;i<c;i++)if(1==r&&n===s[i]||n.toLowerCase()===s[i].toLowerCase())return!0;return!1}e.exports.inList=t}},"common-analytics-plugins/src/lib/plugins/lowerCaseVars.js":{script:function(e){function t(e){var t=this;t[e]&&("events"!==e&&-1===e.indexOf("contextData")?(t[e]=t[e].toString(),0!==t[e].indexOf("D=")&&(t[e]=t[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),t.contextData[e]&&(t.contextData[e]=t.contextData[e].toString().toLowerCase())))}e.exports.lowerCaseVars=t}},"common-analytics-plugins/src/lib/plugins/manageVars.js":{script:function(e){function t(e,t,a){var o=e,s=t,n=a;if("-v"===o)return{plugin:"manageVars",version:"3.0"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==i){if(i.contextData.manageVars="3.0",i.blankVars=function(e){this[e]&&(0>e.indexOf("contextData")?this[e]="":(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]="")))},i.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))},i.cleanStr=function(e){function t(e){if("string"==typeof e){for(e=e.replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/[\u2018\u2019\u201A]/g,"'").replace(/\t+/g,"").replace(/[\n\r]/g," ");-1<e.indexOf("  ");)e=e.replace(/\s\s/g," ");return e}return""}this[e]&&"function"==typeof t&&(0>e.indexOf("contextData")?this[e]=t(this[e]):(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=t(this.contextData[e].toString()))))},i.pt=function(e,t,a,o){if(e&&this[a]){t=(e=e.split(t||",")).length;for(var s,n=0;n<t;n++)if(s=this[a](e[n],o))return s}},!i[o])return!1;s=s||"",n=n||!0;var r,c="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(r=1;76>r;r++)c+=",prop"+r;for(r=1;251>r;r++)c+=",eVar"+r;for(r=1;6>r;r++)c+=",hier"+r;for(r=1;4>r;r++)c+=",list"+r;for(r in i.contextData)c+=",contextData."+r;if(s){if(1==n)c=s.replace("['",".").replace("']","");else if(0==n){for(x in s=s.split(","),n=c.split(","),c="",s)for(y in-1<s[x].indexOf("contextData")&&(s[x]="contextData."+s[x].split("'")[1]),n)s[x]===n[y]&&(n[y]="");for(y in n)c+=n[y]?","+n[y]:""}return i.pt(c,",",o,0),!0}return!(""!==s||!n||(i.pt(c,",",o,0),0))}}e.exports.manageVars=t}},"common-analytics-plugins/src/lib/plugins/p_fo.js":{script:function(e){function t(e){if("-v"===e)return{plugin:"p_fo",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var t,a=0;a<window.s_c_il.length;a++)if((t=window.s_c_il[a])._c&&"s_c"===t._c){a=t;break e}a=void 0}return void 0!==a&&(a.contextData.p_fo="3.0"),window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)}e.exports.p_fo=t}},"common-analytics-plugins/src/lib/plugins/performanceCheck.js":{script:function(e){function t(e,t){if(0<=e&&0<=t)return 6e4>e-t&&0<=e-t?parseFloat((e-t)/1e3).toFixed(2):60}e.exports.performanceCheck=t}},"common-analytics-plugins/src/lib/plugins/performanceWriteFull.js":{script:function(e){function t(){var e=this,t=performance.timing;0<t.loadEventEnd&&(clearInterval(e.pi),""===e.c_r("s_plt")&&(e.c_w("s_plt",e.performanceCheck(t.loadEventEnd,t.navigationStart)),e.c_w("s_pltp",e.pageName))),e.ptc=t.loadEventEnd}e.exports.performanceWriteFull=t}},"common-analytics-plugins/src/lib/plugins/performanceWritePart.js":{script:function(e){function t(){var e=this,t=performance;0<t.getEntries().length&&(e.ppfe===t.getEntries().length?clearInterval(e.pwp):e.ppfe=t.getEntries().length),""===e.c_r("s_plt")&&(e.c_w("s_plt",((t.getEntries()[t.getEntries().length-1].responseEnd-t.getEntries()[0].startTime)/1e3).toFixed(2)),e.c_w("s_pltp",e.pageName))}e.exports.performanceWritePart=t}},"common-analytics-plugins/src/lib/plugins/handlePPVevents.js":{script:function(e){function t(){if("undefined"!=typeof s_c_il){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var a=s_c_il[e];break}if(a&&a.ppvID){var o=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+s,t=Math.min(Math.round(e/o*100),100);var n=Math.floor(e/s);s=Math.floor(o/s);var i="";if(!a.c_r("s_tp")||a.unescape(a.c_r("s_ppv").split(",")[0])!==a.ppvID||a.p_fo(a.ppvID)||1==a.ppvChange&&a.c_r("s_tp")&&o!=a.c_r("s_tp")){if((a.unescape(a.c_r("s_ppv").split(",")[0])!==a.ppvID||a.p_fo(a.ppvID+"1"))&&a.c_w("s_ips",e),a.c_r("s_tp")&&a.unescape(a.c_r("s_ppv").split(",")[0])===a.ppvID){a.c_r("s_tp");var r=-1<(i=a.c_r("s_ppv")).indexOf(",")?i.split(","):[];i=r[0]?r[0]:"",r=r[3]?r[3]:"";var c=a.c_r("s_ips");i=i+","+Math.round(r/o*100)+","+Math.round(c/o*100)+","+r+","+n}a.c_w("s_tp",o)}else i=a.c_r("s_ppv");var d=i&&-1<i.indexOf(",")?i.split(",",6):[];o=0<d.length?d[0]:escape(a.ppvID),r=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):s,0<t&&(i=o+","+(t>r?t:r)+","+c+","+(e>l?e:l)+","+(n>u?n:u)+","+(s>d?s:d)),a.c_w("s_ppv",i)}}}e.exports.handlePPVevents=t}},"common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js":{script:function(e){function t(e,t){function a(){if(window.ppvID){var e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,o=Math.min(Math.round(a/e*100),100),s=Math.floor(a/t);t=Math.floor(e/t);var n="";if(!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&e!=window.cookieRead("s_tp")){if((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID+"1"))&&window.cookieWrite("s_ips",a),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID){window.cookieRead("s_tp");var i=-1<(n=window.cookieRead("s_ppv")).indexOf(",")?n.split(","):[];n=i[0]?i[0]:"",i=i[3]?i[3]:"";var r=window.cookieRead("s_ips");n=n+","+Math.round(i/e*100)+","+Math.round(r/e*100)+","+i+","+s}window.cookieWrite("s_tp",e)}else n=window.cookieRead("s_ppv");var c=n&&-1<n.indexOf(",")?n.split(",",6):[];e=0<c.length?c[0]:encodeURIComponent(window.ppvID),i=1<c.length?parseInt(c[1]):o,r=2<c.length?parseInt(c[2]):o;var d=3<c.length?parseInt(c[3]):a,l=4<c.length?parseInt(c[4]):s;c=5<c.length?parseInt(c[5]):t,0<o&&(n=e+","+(o>i?o:i)+","+r+","+(a>d?a:d)+","+(s>l?s:l)+","+(t>c?t:c)),window.cookieWrite("s_ppv",n)}}var o=e,s=t;if("-v"===o)return{plugin:"getPercentPageViewed",version:"5.0.2"};var n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.getPercentPageViewed="5.0.2"),window.pageName=void 0!==n&&n.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,a){if("string"==typeof e){var o=window.location.hostname,s=window.location.hostname.split(".").length-1;if(o&&!/^[0-9.]+$/.test(o)){s=2<s?s:2;var n=o.lastIndexOf(".");if(0<=n){for(;0<=n&&1<s;)n=o.lastIndexOf(".",n-1),s--;n=0<n?o.substring(n):o}}if(g=n,t=void 0!==t?""+t:"",a||""===t)if(""===t&&(a=-60),"number"==typeof a){var i=new Date;i.setTime(i.getTime()+6e4*a)}else i=a;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(a?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,a=t.indexOf(" "+e+"="),o=0>a?a:t.indexOf(";",a);return(e=0>a?"":decodeURIComponent(t.substring(a+2+e.length,0>o?t.length:o)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var i=window.cookieRead("s_ppv");i=-1<i.indexOf(",")?i.split(","):[],o=o||(window.pageName?window.pageName:document.location.href),i[0]=decodeURIComponent(i[0]),window.ppvChange=void 0===s||1==s,void 0!==n&&n.linkType&&"o"===n.linkType||(window.ppvID&&window.ppvID===o||(window.ppvID=o,window.cookieWrite("s_ppv",""),a()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",a,!1),window.addEventListener("click",a,!1),window.addEventListener("scroll",a,!1)),this._ppvPreviousPage=i[0]?i[0]:"",this._ppvHighestPercentViewed=i[1]?i[1]:"",this._ppvInitialPercentViewed=i[2]?i[2]:"",this._ppvHighestPixelsSeen=i[3]?i[3]:"",this._ppvFoldsSeen=i[4]?i[4]:"",this._ppvFoldsAvailable=i[5]?i[5]:"")}e.exports.getPercentPageViewed=t}},"common-analytics-plugins/src/lib/plugins/pt.js":{script:function(e){function t(e,t,a,o){var s=e,n=t,i=a,r=o;if("-v"===s)return{plugin:"pt",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c,d=0;d<window.s_c_il.length;d++)if((c=window.s_c_il[d])._c&&"s_c"===c._c){d=c;break e}d=void 0}if(void 0!==d&&(d.contextData.pt="3.0",s&&d[i])){n=(s=s.split(n||",")).length;for(var l=0;l<n;l++)if(c=d[i](s[l],r))return c}}e.exports.pt=t}},"common-analytics-plugins/src/lib/plugins/rfl.js":{script:function(e){function t(e,t,a,o,s){var n=e,i=t,r=a,c=o,d=s;if("-v"===n)return{plugin:"rfl",version:"2.1"};e:{if(void 0!==window.s_c_il)for(var l,u=0;u<window.s_c_il.length;u++)if((l=window.s_c_il[u])._c&&"s_c"===l._c){u=l;break e}u=void 0}if(void 0!==u&&(u.contextData.rfl="2.1"),!n||!i)return"";u=[],l="",r=r||",",c=c||r,d=d||!1,r=(n=n.split(r)).length;for(var m=0;m<r;m++)-1<n[m].indexOf(":")&&((l=n[m].split(":"))[1]=l[0]+":"+l[1],n[m]=l[0]),-1<n[m].indexOf("=")&&((l=n[m].split("="))[1]=l[0]+"="+l[1],n[m]=l[0]),n[m]!==i&&l?u.push(l[1]):n[m]!==i?u.push(n[m]):n[m]===i&&d&&(l?u.push(l[1]):u.push(n[m]),d=!1),l="";return u.join(c)}e.exports.rfl=t}},"common-analytics-plugins/src/lib/plugins/twoDecimals.js":{script:function(e){function t(e){return void 0===e||void 0===e||isNaN(e)?0:Number(Number(e).toFixed(2))}e.exports.twoDecimals=t}},"common-analytics-plugins/src/lib/plugins/zeroPad.js":{script:function(e){function t(e,t){if(e=parseInt(e),t=parseInt(t),isNaN(e)||isNaN(t))return"";var a=t-e.toString().length+1;return Array(+(0<a&&a)).join("0")+e}e.exports.zeroPad=t}},"common-analytics-plugins/src/lib/plugins/randomNumber.js":{script:function(e){function t(e){e="number"==typeof e?17>Math.abs(e)?Math.round(Math.abs(e)):17:10;for(var t="1",a=0;a<e;a++)t+="0";return t=Number(t),(t=Math.floor(Math.random().toFixed(e)*t)+"").length!==e&&"undefined"!=typeof zeroPad&&(t=zeroPad(t,e)),t}e.exports.randomNumber=t}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbdfb4b2e3570442dafcd49b858f2288a/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",variables:[{name:"trackingServer",value:"bmwag.d3.sc.omtrdc.net"},{name:"trackingServerSecure",value:"bmwag.d3.sc.omtrdc.net"},{name:"cookieDomain",value:"%topLevelDomain%"},{name:"idSyncContainerID",value:"%AAM-containerID%"}],isIabContext:!1,doesOptInApply:!0,previousPermissions:"%ECID-previousPermissions%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,o){"use strict";var s=a("@adobe/reactor-document"),n=a("../codeLibrary/VisitorAPI"),i=a("../../view/utils/timeUnits"),r=function(e){return e.reduce((function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e}),{})},c=function(e){var t=o.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=r(t.variables||[]),s=t.doesOptInApply;s&&("boolean"==typeof s?a.doesOptInApply=s:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var n=t.isOptInStorageEnabled;n&&(a.isOptInStorageEnabled=n);var c=t.optInCookieDomain;c&&(a.optInCookieDomain=c);var d=t.optInStorageExpiry;if(d){var l=t.timeUnit;if(l&&i[l]){var u=d*i[l];a.optInStorageExpiry=u}}else!0===n&&(a.optInStorageExpiry=33696e3);var m=t.previousPermissions;m&&(a.previousPermissions=m);var b=t.preOptInApprovals;if(b)a.preOptInApprovals=b;else{var g=t.preOptInApprovalInput;g&&(a.preOptInApprovals=g)}var f=t.isIabContext;f&&(a.isIabContext=f);var p=e.getInstance(t.orgId,a);return o.logger.info('Created instance using orgId: "'+t.orgId+'"'),o.logger.info("Set variables: "+JSON.stringify(a)),p.getMarketingCloudVisitorID((function(e){o.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),p},d=function(e){return(o.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},l=null;_satellite.getVisitorId=function(){return l},d(s.location.pathname)?o.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):l=c(n),e.exports=l},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,o=this;return function(){o.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!I.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var a=void 0!==e[t]?e[t]:"";this.execute(t,a)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function o(e,t,a){var o=null==e?void 0:e[t];return void 0===o?a:o}function s(e){for(var t=/^\d+$/,a=0,o=e.length;a<o;a++)if(!t.test(e[a]))return!1;return!0}function n(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function i(e,t){for(var a=0;a<e.length;a++){var o=parseInt(e[a],10),s=parseInt(t[a],10);if(o>s)return 1;if(s>o)return-1}return 0}function r(e,t){if(e===t)return 0;var a=e.toString().split("."),o=t.toString().split(".");return s(a.concat(o))?(n(a,o),i(a,o)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function d(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=le("log",e,t),this.warn=le("warn",e,t),this.error=le("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:Re,set:Re,remove:Re};var a={remove:function(){t.remove(e)},get:function(){var a=t.get(e),o={};try{o=JSON.parse(a)}catch(a){o={}}return o},set:function(o,s){s=s||{};var n=a.get(),i=Object.assign(n,o);t.set(e,JSON.stringify(i),{domain:s.optInCookieDomain||"",cookieLifetime:s.optInStorageExpiry||3419e4,expires:!0})}};return a}function m(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function b(){function e(e,t){var a=fe(e);return a.length?a.every((function(e){return!!t[e]})):pe(t)}function t(){x(w),R(te.COMPLETE),p(f.status,f.permissions),r&&g.set(f.permissions,{optInCookieDomain:c,optInStorageExpiry:d}),v.execute(Ae)}function a(e){return function(a,o){if(!ve(a))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return R(te.CHANGED),Object.assign(w,he(fe(a),e)),o||t(),f}}var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.doesOptInApply,n=o.previousPermissions,i=o.preOptInApprovals,r=o.isOptInStorageEnabled,c=o.optInCookieDomain,d=o.optInStorageExpiry,l=o.isIabContext,m=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,b=xe(n);ke(b,"Invalid `previousPermissions`!"),ke(i,"Invalid `preOptInApprovals`!");var g=u({cookieName:"adobeujs-optin"},{cookies:m}),f=this,p=ee(f),v=re(),h=je(b),_=je(i),P=r?g.get():{},j={},y=function(e,t){return ye(e)||t&&ye(t)?te.COMPLETE:te.PENDING}(h,P),C=function(e,t,a){var o=he(ie,!s);return s?Object.assign({},o,e,t,a):o}(_,h,P),w=_e(C),R=function(e){return y=e},x=function(e){return C=e};f.deny=a(!1),f.approve=a(!0),f.denyAll=f.deny.bind(f,ie),f.approveAll=f.approve.bind(f,ie),f.isApproved=function(t){return e(t,f.permissions)},f.isPreApproved=function(t){return e(t,_)},f.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?f.on(te.COMPLETE,e):Re;return!s||s&&f.isComplete||i?e(f.permissions):t||v.add(Ae,(function(){return e(f.permissions)})),a},f.complete=function(){f.status===te.CHANGED&&t()},f.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(De);j[e.name]||(j[e.name]=e,e.onRegister.call(e,f))},f.execute=Ie(j),f.memoizeContent=function(e){we(e)&&g.set(e,{optInCookieDomain:c,optInStorageExpiry:d})},f.getMemoizedContent=function(e){var t=g.get();if(t)return t[e]},Object.defineProperties(f,{permissions:{get:function(){return C}},status:{get:function(){return y}},Categories:{get:function(){return ae}},doesOptInApply:{get:function(){return!!s}},isPending:{get:function(){return f.status===te.PENDING}},isComplete:{get:function(){return f.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(j)}},isIabContext:{get:function(){return l}}})}function g(e,t){function a(){s=null,e.call(e,new m("The call took longer than you wanted!"))}function o(){s&&(clearTimeout(s),e.apply(e,arguments))}if(void 0===t)return e;var s=setTimeout(a,t);return o}function f(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var a={};return window.__tcfapi=function(e,o,s,n){var i=Math.random()+"",r={__tcfapiCall:{command:e,parameter:n,version:o,callId:i}};a[i]=s,t.postMessage(r,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var o=t.__tcfapiReturn;"function"==typeof a[o.callId]&&(a[o.callId](o.returnValue,o.success),delete a[o.callId])}}),!1),window.__tcfapi}be.error("__tcfapi not found")}else be.error("__tcfapi not found")}function p(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!0===e.vendor.consents[t],s=a.every((function(t){return!0===e.purpose.consents[t]}));return o&&s}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,a=re(),o={transparencyAndConsentData:null},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o[e]=t};e.fetchConsentData=function(e){var t=g(e.callback,e.timeout);n({callback:t})},e.isApproved=function(e){var t=e.callback,a=e.category,s=e.timeout;if(o.transparencyAndConsentData)return t(null,p(o.transparencyAndConsentData,oe[a],se[a]));var i=g((function(e,o){t(e,p(o,oe[a],se[a]))}),s);n({category:a,callback:i})},e.onRegister=function(a){t=a;var o=Object.keys(oe),s=function(e,t){!e&&t&&(o.forEach((function(e){var o=p(t,oe[e],se[e]);a[o?"approve":"deny"](e,!0)})),a.complete())};e.fetchConsentData({callback:s})};var n=function(e){var n=e.callback;if(o.transparencyAndConsentData)return n(null,o.transparencyAndConsentData);a.add("FETCH_CONSENT_DATA",n),i((function(e,n){if(n){var i=_e(e),r=t.getMemoizedContent("iabConsentHash"),c=me(i.tcString).toString(32);i.consentString=e.tcString,i.hasConsentChangedSinceLastCmpPull=r!==c,s("transparencyAndConsentData",i),t.memoizeContent({iabConsentHash:c})}a.execute("FETCH_CONSENT_DATA",[null,o.transparencyAndConsentData])}))},i=function(e){var t=Ee(oe),a=f();"function"==typeof a&&a("getTCData",2,e,t)}}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,o=1;o<arguments.length;++o)for(t in a=arguments[o])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var _,P,j={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},y=j.STATE_KEYS_MAP,C=function(e){function t(){}function a(t,a){var o=this;return function(){var s=e(0,t),n={};return n[t]=s,o.setStateAndPublish(n),a(s),s}}this.getMarketingCloudVisitorID=function(e){e=e||t;var o=this.findField(y.MCMID,e),s=a.call(this,y.MCMID,e);return void 0!==o?o:s()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},w=j.MESSAGES,R=j.ASYNC_API_MAP,x=j.SYNC_API_MAP,k=function(){function e(){}function t(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(w.GETSTATE),""}}function a(a){this[R[a]]=function(o){o=o||e;var s=this.findField(a,o),n=t.call(this,a,o);return void 0!==s?s:n()}}function o(t){this[x[t]]=function(){return this.findField(t,e)||{}}}Object.keys(R).forEach(a,this),Object.keys(x).forEach(o,this)},T=j.ASYNC_API_MAP,E=function(){Object.keys(T).forEach((function(e){this[T[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},I=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,a){a.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},a.isValueEmpty=function(e){return""===e||a.isObjectEmpty(e)};var o=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};a.getIeVersion=function(){return document.documentMode?document.documentMode:o()?7:null},a.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},a.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},a.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},a.defineGlobalNamespace=function(){return window.adobe=a.isObject(window.adobe)?window.adobe:{},window.adobe},a.pluck=function(e,t){return t.reduce((function(t,a){return e[a]&&(t[a]=e[a]),t}),Object.create(null))},a.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var o=parseInt(e.d_ottl,10);return isNaN(o)&&(o=7200),{optOut:t,d_ottl:o}},a.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),A=(I.isObjectEmpty,I.isValueEmpty,I.getIeVersion,I.isFirefox,I.encodeAndBuildRequest,I.isObject,I.defineGlobalNamespace,I.pluck,I.parseOptOut,I.normalizeBoolean,a),D=j.MESSAGES,O={0:"prefix",1:"orgID",2:"state"},V=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,a){void 0!==e&&(t[O[a]]=2!==a?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(a){var o=this.parse(a);if(!o||Object.keys(o).length<2)return!0;var s=e!==o.orgID,n=!t||a.origin!==t,i=-1===Object.keys(D).indexOf(o.prefix);return s||n||i},this.send=function(a,o,s){var n=o+"|"+e;s&&s===Object(s)&&(n+="|"+JSON.stringify(s));try{a.postMessage(n,t)}catch(e){}}},S=j.MESSAGES,L=function(e,t,a,o){function s(e){Object.assign(b,e)}function n(e){Object.assign(b.state,e),Object.assign(b.state.ALLFIELDS,e),b.callbackRegistry.executeAll(b.state)}function i(e){if(!p.isInvalid(e)){f=!1;var t=p.parse(e);b.setStateAndPublish(t.state)}}function r(e){!f&&g&&(f=!0,p.send(o,e))}function c(){s(new C(a._generateID)),b.getMarketingCloudVisitorID(),b.callbackRegistry.executeAll(b.state,!0),h.removeEventListener("message",d)}function d(e){if(!p.isInvalid(e)){var t=p.parse(e);f=!1,h.clearTimeout(b._handshakeTimeout),h.removeEventListener("message",d),s(new k(b)),h.addEventListener("message",i),b.setStateAndPublish(t.state),b.callbackRegistry.hasCallbacks()&&r(S.GETSTATE)}}function l(){g&&postMessage?(h.addEventListener("message",d),r(S.HANDSHAKE),b._handshakeTimeout=setTimeout(c,250)):c()}function u(){h.s_c_in||(h.s_c_il=[],h.s_c_in=0),b._c="Visitor",b._il=h.s_c_il,b._in=h.s_c_in,b._il[b._in]=b,h.s_c_in++}function m(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(b[e]=function(){})}Object.keys(a).forEach(e),b.getSupplementalDataID=a.getSupplementalDataID,b.isAllowed=function(){return!0}}var b=this,g=t.whitelistParentDomain;b.state={ALLFIELDS:{}},b.version=a.version,b.marketingCloudOrgID=e,b.cookieDomain=a.cookieDomain||"",b._instanceType="child";var f=!1,p=new V(e,g);b.callbackRegistry=A(),b.init=function(){u(),m(),s(new E(b)),l()},b.findField=function(e,t){if(void 0!==b.state[e])return t(b.state[e]),b.state[e]},b.messageParent=r,b.setStateAndPublish=n},N=j.MESSAGES,M=j.ALL_APIS,F=j.ASYNC_API_MAP,B=j.FIELDGROUP_TO_FIELD,q=function(e,t){function a(){var t={};return Object.keys(M).forEach((function(a){var o=M[a],s=e[o]();I.isValueEmpty(s)||(t[a]=s)})),t}function o(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(a){if(e._loading[a]){var o=B[a];t.push(o)}})),t.length?t:null}function s(t){return function a(){var s=o();if(s){var n=F[s[0]];e[n](a,!0)}else t()}}function n(e,o){var s=a();t.send(e,o,s)}function i(e){c(e),n(e,N.HANDSHAKE)}function r(e){s((function(){n(e,N.PARENTSTATE)}))()}function c(a){function o(o){s.call(e,o),t.send(a,N.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var s=e.setCustomerIDs;e.setCustomerIDs=o}return function(e){t.isInvalid(e)||(t.parse(e).prefix===N.HANDSHAKE?i:r)(e.source)}},U=function(e,t){function a(e){return function(a){o[e]=a,++s===n&&t(o)}}var o={},s=0,n=Object.keys(e).length;Object.keys(e).forEach((function(t){var o=e[t];if(o.fn){var s=o.args||[];s.unshift(a(t)),o.fn.apply(o.context||null,s)}}))},G={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),o=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,o<0?t.length:o))},set:function(e,t,a){var s=o(a,"cookieLifetime"),n=o(a,"expires"),i=o(a,"domain"),r=o(a,"secure"),c=o(a,"sameSite"),d=r?"Secure":"",l=c?"SameSite="+c+";":"";if(n&&"SESSION"!==s&&"NONE"!==s){var u=""!==t?parseInt(s||0,10):-60;if(u)(n=new Date).setTime(n.getTime()+1e3*u);else if(1===n){var m=(n=new Date).getYear();n.setYear(m+2+(m<1900?1900:0))}}else n=0;return e&&"NONE"!==s?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(i?" domain="+i+";":"")+l+d,this.get(e)===t):0},remove:function(e,t){var a=o(t,"domain");a=a?" domain="+a+";":"";var s=o(t,"secure"),n=o(t,"sameSite"),i=s?"Secure":"",r=n?"SameSite="+n+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+r+i}},H=function(e,t){!e&&h.location&&(e=h.location.hostname);var a,o=e.split("."),s=t||{};for(a=o.length-2;a>=0;a--)if(s.domain=o.slice(a).join("."),G.set("TEST_AMCV_COOKIE_WRITE","cookie",s))return G.remove("TEST_AMCV_COOKIE_WRITE",s),s.domain;return""},z={compare:r,isLessThan:function(e,t){return r(e,t)<0},areVersionsDifferent:function(e,t){return 0!==r(e,t)},isGreaterThan:function(e,t){return r(e,t)>0},isEqual:function(e,t){return 0===r(e,t)}},K=!!h.postMessage,W={postMessage:function(e,t,a){var o=1;t&&(K?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+o+++"&"+e))},receiveMessage:function(e,t){var a;try{K&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),h.addEventListener?h[e?"addEventListener":"removeEventListener"]("message",a):h[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(e){}}},J=function(e){var t,a,o="0123456789",s="",n="",i=8,r=10,c=10,d=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(o+="ABCDEF",t=0;16>t;t++)a=Math.floor(Math.random()*i),4>t&&d[t]<i&&(a=+d[t]),s+=o.substring(a,a+1),a=Math.floor(Math.random()*i),n+=o.substring(a,a+1),i=16;return s+"-"+n}for(t=0;19>t;t++)a=Math.floor(Math.random()*r),6>t&&d[t]<r?(s+=d[t],a=d[t]):s+=o.substring(a,a+1),0===t&&9==a?r=3:((1==t||2==t)&&10!=r&&2>a||2<t)&&(r=10),a=Math.floor(Math.random()*c),n+=o.substring(a,a+1),0===t&&9==a?c=3:((1==t||2==t)&&10!=c&&2>a||2<t)&&(c=10);return s+n},Y=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(h.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new h[this.corsMetadata.corsType]},fireCORS:function(t,a){function o(e){var a;try{if((a=JSON.parse(e))!==Object(a))return void s.handleCORSError(t,null,"Response is not JSON")}catch(e){return void s.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var o=t.callback,n=h,i=0;i<o.length;i++)n=n[o[i]];n(a)}catch(e){s.handleCORSError(t,e,"Error forming callback function")}}var s=this;a&&(t.loadErrorHandler=a);try{var n=this.getCORSInstance();n.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=e.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&o(this.responseText)}),n.onerror=function(e){s.handleCORSError(t,e,"onerror")},n.ontimeout=function(e){s.handleCORSError(t,e,"ontimeout")},n.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,a,o){e.CORSErrors.push({corsData:t,error:a,description:o}),t.loadErrorHandler&&("ontimeout"===o?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},Z={POST_MESSAGE_ENABLED:!!h.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},$=function(e,t){var a=h.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,
getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,o="http://fast.",s="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(o=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=o+this.subdomain+".demdex.net/dest5.html"+s,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:Z.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(s=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",s.title="Adobe ID Syncing iFrame",s.id=o.id,s.name=o.id+"_name",s.style.cssText="display: none; width: 0; height: 0;",s.src=o.url,o.newIframeCreated=!0,t(),a.body.appendChild(s)}function t(e){s.addEventListener("load",(function(){s.className="aamIframeLoaded",o.iframeHasLoaded=!0,o.fireIframeLoadedCallbacks(e),o.requestToProcess()}))}this.startedAttachingIframe=!0;var o=this,s=a.getElementById(this.id);s?"IFRAME"!==s.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==s.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=s,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=s},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function a(){s.jsonForComparison.push(t),s.jsonWaiting.push(t),s.processSyncOnPage(t)}var o,s=this;if(t===Object(t)&&t.ibs)if(o=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var n,i,r,c=!1;for(n=0,i=this.jsonForComparison.length;n<i;n++)if(r=this.jsonForComparison[n],o===JSON.stringify(r.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):a()}else a();if((this.receivedThirdPartyCookiesNotification||!Z.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){s.messageSendingInterval=Z.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,a){var o=e._getField("MCAAMLH"),s=t.d_region||t.dcs_region;return o?s&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",s),parseInt(o,10)!==s&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),o=s)):(o=s)&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",o)),o||(o=""),o},processSyncOnPage:function(e){var t,a,o,s;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(o=0;o<a;o++)(s=t[o]).syncOnPage&&this.checkFirstPartyCookie(s,"","syncOnPage")},process:function(e){var t,a,o,s,n,i=encodeURIComponent,r=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(r=!0,o=0;o<a;o++)s=t[o],n=[i("ibs"),i(s.id||""),i(s.tag||""),I.encodeAndBuildRequest(s.url||[],","),i(s.ttl||""),"","",s.fireURLSync?"true":"false"],s.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(n.join("|")):s.fireURLSync&&this.checkFirstPartyCookie(s,n.join("|")));r&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,a,o){var s="syncOnPage"===o,n=s?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var i,r,c=e._getField(n),d=!1,l=!1,u=Math.ceil((new Date).getTime()/Z.MILLIS_PER_DAY);c?(i=c.split("*"),d=(r=this.pruneSyncData(i,t.id,u)).dataPresent,l=r.dataValid,d&&l||this.fireSync(s,t,a,i,n,u)):(i=[],this.fireSync(s,t,a,i,n,u))},pruneSyncData:function(e,t,a){var o,s,n,i=!1,r=!1;for(s=0;s<e.length;s++)o=e[s],n=parseInt(o.split("-")[1],10),o.match("^"+t+"-")?(i=!0,a<n?r=!0:(e.splice(s,1),s--)):a>=n&&(e.splice(s,1),s--);return{dataPresent:i,dataValid:r}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,a,o,s,n,i){var r=this;if(t){if("img"===a.tag){var c,d,l,u,m=a.url,b=e.loadSSL?"https:":"http:";for(c=0,d=m.length;c<d;c++){l=m[c],u=/^\/\//.test(l);var g=new Image;g.addEventListener("load",function(t,a,o,s){return function(){r.onPagePixels[t]=null,e._readVisitor();var i,c,d,l,u=e._getField(n),m=[];if(u)for(c=0,d=(i=u.split("*")).length;c<d;c++)(l=i[c]).match("^"+a.id+"-")||m.push(l);r.setSyncTrackingData(m,a,o,s)}}(this.onPagePixels.length,a,n,i)),g.src=(u?b:"")+l,this.onPagePixels.push(g)}}}else this.addMessage(o),this.setSyncTrackingData(s,a,n,i)},addMessage:function(t){var a=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((Z.POST_MESSAGE_ENABLED?"":a)+t)},setSyncTrackingData:function(t,a,o,s){t.push(a.id+"-"+(s+Math.ceil(a.ttl/60/24))),this.manageSyncsSize(t),e._setField(o,t.join("*"))},sendMessages:function(){var e,t=this,a="",o=encodeURIComponent;this.regionChanged&&(a=o("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?Z.POST_MESSAGE_ENABLED?(e=a+o("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){W.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(o){(null==this.url||o.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=o.subdomain||"",this.url=this.getUrl()),o.ibs instanceof Array&&o.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(o):this.requestToProcess(o),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(o)},canMakeSyncIDCall:function(t,a){return e._forceSyncIDCall||!t||a-t>Z.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},Q={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},X={getConfigNames:function(){return Object.keys(Q)},getConfigs:function(){return Q},normalizeConfig:function(e,t){return Q[e]&&"boolean"===Q[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,a,o){if(!a||"function"!=typeof a)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var s=t[e].push({callback:a,context:o})-1;return function(){t[e].splice(s,1),t[e].length||delete t[e]}},e.off=function(e,a){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==a)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var a=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,a)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ae={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},oe=(t(_={},ae.AAM,565),t(_,ae.ECID,565),_),se=(t(P={},ae.AAM,[1,10]),t(P,ae.ECID,[1,10]),P),ne=["videoaa","iabConsentHash"],ie=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ae),re=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,a){if(!d(a))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var o=e.callbacks[t].push(a)-1;return function(){e.callbacks[t].splice(o,1)}},e.execute=function(t,a){if(e.callbacks[t]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;e.callbacks[t].length;){var o=e.callbacks[t].shift();"function"==typeof o?o.apply(null,a):o instanceof Array&&o[1].apply(o[0],a)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,a){(a||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(a){var o=void 0!==t[a]?t[a]:"";e.execute(a,o)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},de=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},le=function(e,t,a){return a()?function(){if(de(e)){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];console[e].apply(console,[t].concat(o))}}:ce},ue=l,me=function(){for(var e=[],t=0;t<256;t++){for(var a=t,o=0;o<8;o++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a^=-1;for(var o=0;o<t.length;o++){var s=255&(a^t.charCodeAt(o));a=a>>>8^e[s]}return(a^=-1)>>>0}}(),be=new ue("[ADOBE OPT-IN]"),ge=function(t,a){return e(t)===a},fe=function(e,t){return e instanceof Array?e:ge(e,"string")?[e]:t||[]},pe=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||Pe(e))&&fe(e).every((function(e){return ie.indexOf(e)>-1||t&&ne.indexOf(e)>-1}))},he=function(e,t){return e.reduce((function(e,a){return e[a]=t,e}),{})},_e=function(e){return JSON.parse(JSON.stringify(e))},Pe=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},je=function(e){if(we(e))return e;try{return JSON.parse(e)}catch(e){return{}}},ye=function(e){return void 0===e||(we(e)?ve(Object.keys(e),!0):Ce(e))},Ce=function(e){try{var t=JSON.parse(e);return!!e&&ge(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},we=function(e){return null!==e&&ge(e,"object")&&!1===Array.isArray(e)},Re=function(){},xe=function(e){return ge(e,"function")?e():e},ke=function(e,t){ye(e)||be.error("".concat(t))},Te=function(e){return Object.keys(e).map((function(t){return e[t]}))},Ee=function(e){return Te(e).filter((function(e,t,a){return a.indexOf(e)===t}))},Ie=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.command,o=t.params,s=void 0===o?{}:o,n=t.callback,i=void 0===n?Re:n;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var r=a.split("."),c=e[r[0]],d=r[1];if(!c||"function"!=typeof c[d])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(s,{callback:i});c[d].call(c,l)}catch(e){be.error("[execute] Something went wrong: "+e.message)}}};m.prototype=Object.create(Error.prototype),m.prototype.constructor=m;var Ae="fetchPermissions",De="[OptIn#registerPlugin] Plugin is invalid.";b.Categories=ae,b.TimeoutError=m;var Oe=Object.freeze({OptIn:b,IabPlugin:v}),Ve=function(e,t){e.publishDestinations=function(a){var o=arguments[1],s=arguments[2];try{s="function"==typeof s?s:a.callback}catch(e){s=function(){}}var n=t;if(n.readyToAttachIframePreliminary()){if("string"==typeof a){if(!a.length)return void s({error:"subdomain is not a populated string."});if(!(o instanceof Array&&o.length))return void s({error:"messages is not a populated array."});var i=!1;if(o.forEach((function(e){"string"==typeof e&&e.length&&(n.addMessage(e),i=!0)})),!i)return void s({error:"None of the messages are populated strings."})}else{if(!I.isObject(a))return void s({error:"Invalid parameters passed."});var r=a;if("string"!=typeof(a=r.subdomain)||!a.length)return void s({error:"config.subdomain is not a populated string."});var c=r.urlDestinations;if(!(c instanceof Array&&c.length))return void s({error:"config.urlDestinations is not a populated array."});var d=[];c.forEach((function(e){I.isObject(e)&&(e.hideReferrer?e.message&&n.addMessage(e.message):d.push(e))})),function e(){d.length&&setTimeout((function(){var t=new Image,a=d.shift();t.src=a.url,n.onPageDestinationsFired.push(a),e()}),100)}()}n.iframe?(s({message:"The destination publishing iframe is already attached and loaded."}),n.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(n.subdomain=a,n.doAttachIframe=!0,n.url=n.getUrl(),n.readyToAttachIframe()?(n.iframeLoadedCallbacks.push((function(e){s({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),n.attachIframe()):s({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):n.iframeLoadedCallbacks.push((function(e){s({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else s({error:"The destination publishing iframe is disabled in the Visitor library."})}},Se=function e(t){function a(e,t){return e>>>t|e<<32-t}for(var o,s,n=Math.pow,i=n(2,32),r="",c=[],d=8*t.length,l=e.h=e.h||[],u=e.k=e.k||[],m=u.length,b={},g=2;m<64;g++)if(!b[g]){for(o=0;o<313;o+=g)b[o]=g;l[m]=n(g,.5)*i|0,u[m++]=n(g,1/3)*i|0}for(t+="\x80";t.length%64-56;)t+="\0";for(o=0;o<t.length;o++){if((s=t.charCodeAt(o))>>8)return;c[o>>2]|=s<<(3-o)%4*8}for(c[c.length]=d/i|0,c[c.length]=d,s=0;s<c.length;){var f=c.slice(s,s+=16),p=l;for(l=l.slice(0,8),o=0;o<64;o++){var v=f[o-15],h=f[o-2],_=l[0],P=l[4],j=l[7]+(a(P,6)^a(P,11)^a(P,25))+(P&l[5]^~P&l[6])+u[o]+(f[o]=o<16?f[o]:f[o-16]+(a(v,7)^a(v,18)^v>>>3)+f[o-7]+(a(h,17)^a(h,19)^h>>>10)|0);(l=[j+((a(_,2)^a(_,13)^a(_,22))+(_&l[1]^_&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+j|0}for(o=0;o<8;o++)l[o]=l[o]+p[o]|0}for(o=0;o<8;o++)for(s=3;s+1;s--){var y=l[o]>>8*s&255;r+=(y<16?0:"")+y.toString(16)}return r},Le=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Se(e)),e},Ne=function(e){return String(e).trim().toLowerCase()},Me=Oe.OptIn;I.defineGlobalNamespace(),window.adobe.OptInCategories=Me.Categories;var Fe=function(t,a,o){function s(){_._customerIDsHashChanged=!1}function n(e){var t=e;return function(e){var a=e||x.location.href;try{var o=_._extractParamFromUri(a,t);if(o)return te.parsePipeDelimetedKeyValues(o)}catch(e){}}}function i(e){function t(e,t,a){e&&e.match(Z.VALID_VISITOR_ID_REGEX)&&(a===D&&(R=!0),t(e))}t(e[D],_.setMarketingCloudVisitorID,D),_._setFieldExpire(M,-1),t(e[L],_.setAnalyticsVisitorID)}function r(e){e=e||{},_._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",_._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},_._supplementalDataIDLast=e.supplementalDataIDLast||"",_._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function a(e,a){var o=a[0],s=a[1];return null!=s&&s!==F&&(e=t(o,s,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(a,""))}function d(e){var t=e.minutesToLive,a="";return(_.idSyncDisableSyncs||_.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function l(){return!(!_.configs.doesOptInApply||P.optIn.isComplete&&u())}function u(){return _.configs.doesOptInApply&&_.configs.isIabContext?P.optIn.isApproved(P.optIn.Categories.ECID)&&w:P.optIn.isApproved(P.optIn.Categories.ECID)}function m(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],a=2===e.length?e[1]:"",o=_[t];_[t]=function(e){return u()&&_.isAllowed()?o.apply(_,arguments):("function"==typeof e&&_._callCallback(e,[a]),a)}}))}function b(){var e=_._getAudienceManagerURLData(),t=e.url;return _._loadData(A,t,null,e)}function g(e,t){if(w=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(y=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),b(),v()}function f(e,t){if(w=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(y=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),_.init(),v()}function p(){P.optIn.isComplete&&(P.optIn.isApproved(P.optIn.Categories.ECID)?_.configs.isIabContext?P.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(_.init(),v()):_.configs.isIabContext?P.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(m(),v()))}function v(){P.optIn.off("complete",p)}if(!o||o.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var _=this,P=window.adobe,y="",C=0,w=!1,R=!1;_.version="5.4.0";var x=h,k=x.Visitor;k.version=_.version,k.AuthState=j.AUTH_STATE,k.OptOut=j.OPT_OUT,x.s_c_in||(x.s_c_il=[],x.s_c_in=0),_._c="Visitor",_._il=x.s_c_il,_._in=x.s_c_in,_._il[_._in]=_,x.s_c_in++,_._instanceType="regular",_._log={requests:[]},_.marketingCloudOrgID=t,_.cookieName="AMCV_"+t,_.sessionCookieName="AMCVS_"+t;var T={};a&&a.secureCookie&&a.sameSiteCookie&&(T={sameSite:a.sameSiteCookie,secure:a.secureCookie}),_.cookieDomain=_.useLocalStorage?"":H(null,T),_.loadSSL=!0,_.loadTimeout=3e4,_.CORSErrors=[],_.marketingCloudServer=_.audienceManagerServer="dpm.demdex.net",_.sdidParamExpiry=30;var E=null,A="MC",D="MCMID",O="MCIDTS",S="A",L="MCAID",N="AAM",M="MCAAMB",F="NONE",B=function(e){return!Object.prototype[e]},K=Y(_);_.FIELDS=j.FIELDS,_.cookieRead=function(e){return _.useLocalStorage?e===_.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):G.get(e)},_.cookieWrite=function(e,t,a){var o=""+t;if(_.useLocalStorage)return e===_.sessionCookieName?sessionStorage.setItem(e,o):localStorage.setItem(e,o);var s=_.cookieLifetime?(""+_.cookieLifetime).toUpperCase():"",n={expires:a,domain:_.cookieDomain,cookieLifetime:s};return _.configs&&_.configs.secureCookie&&"https:"===location.protocol&&(n.secure=!0),_.configs&&_.configs.sameSiteCookie&&"https:"===location.protocol&&(n.sameSite=j.SAME_SITE_VALUES[_.configs.sameSiteCookie.toUpperCase()]||"Lax"),G.set(e,o,n)},_.removeCookie=function(e){if(_.useLocalStorage)return e===_.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:_.cookieDomain};return _.configs&&_.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),_.configs&&_.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=j.SAME_SITE_VALUES[_.configs.sameSiteCookie.toUpperCase()]||"Lax"),G.remove(e,t)},_.resetState=function(e){e?_._mergeServerState(e):r()},_._isAllowedDone=!1,_._isAllowedFlag=!1,_.isAllowed=function(){return _._isAllowedDone||(_._isAllowedDone=!0,(_.cookieRead(_.cookieName)||_.cookieWrite(_.cookieName,"T",1))&&(_._isAllowedFlag=!0)),"T"===_.cookieRead(_.cookieName)&&_.removeCookie(_.cookieName),_._isAllowedFlag},_.setMarketingCloudVisitorID=function(e){_._setMarketingCloudFields(e)},_._use1stPartyMarketingCloudServer=!1,_.getMarketingCloudVisitorID=function(e,t){_.marketingCloudServer&&_.marketingCloudServer.indexOf(".demdex.net")<0&&(_._use1stPartyMarketingCloudServer=!0);var a=_._getAudienceManagerURLData("_setMarketingCloudFields"),o=a.url;return _._getRemoteField(D,o,e,t,a)};var Q=function(e,t){var a={};_.getMarketingCloudVisitorID((function(){t.forEach((function(e){a[e]=_._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?_.isOptedOut((function(t){a.MCOPTOUT=t,e(a)}),null,!0):e(a)}),!0)};_.getVisitorValues=function(e,t){var a={MCMID:{fn:_.getMarketingCloudVisitorID,args:[!0],context:_},MCOPTOUT:{fn:_.isOptedOut,args:[void 0,!0],context:_},MCAID:{fn:_.getAnalyticsVisitorID,args:[!0],context:_},MCAAMLH:{fn:_.getAudienceManagerLocationHint,args:[!0],context:_},MCAAMB:{fn:_.getAudienceManagerBlob,args:[!0],context:_}},o=t&&t.length?I.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?Q(e,t):U(o,e)},_._currentCustomerIDs={},_._customerIDsHashChanged=!1,_._newCustomerIDsHash="",_.setCustomerIDs=function(t,a){if(!_.isOptedOut()&&t){if(!I.isObject(t)||I.isObjectEmpty(t))return!1;var o,n,i,r;for(o in _._readVisitor(),t)if(B(o)&&(_._currentCustomerIDs.dataSources=_._currentCustomerIDs.dataSources||{},a=(n=t[o]).hasOwnProperty("hashType")?n.hashType:a,n))if("object"===e(n)){var c={};if(n.id){if(a){if(!(r=Le(Ne(n.id),a)))return;n.id=r,c.hashType=a}c.id=n.id}null!=n.authState&&(c.authState=n.authState),_._currentCustomerIDs.dataSources[o]=c}else if(a){if(!(r=Le(Ne(n),a)))return;_._currentCustomerIDs.dataSources[o]={id:r,hashType:a}}else _._currentCustomerIDs.dataSources[o]={id:n};var d=_.getCustomerIDs(!0),l=_._getField("MCCIDH"),u="";for(i in l||(l=0),d){var m=d[i];if(!I.isObjectEmpty(m))for(o in m)B(o)&&(u+=(u?"|":"")+o+"|"+((n=m[o]).id?n.id:"")+(n.authState?n.authState:""))}_._newCustomerIDsHash=String(_._hash(u)),_._newCustomerIDsHash!==l&&(_._customerIDsHashChanged=!0,_._mapCustomerIDs(s))}},_.syncIdentity=function(t,a){if(!_.isOptedOut()&&t){if(!I.isObject(t)||I.isObjectEmpty(t))return!1;var o,n,i,r,c;for(o in _._readVisitor(),t)if(B(o)&&(_._currentCustomerIDs.nameSpaces=_._currentCustomerIDs.nameSpaces||{},a=(n=t[o]).hasOwnProperty("hashType")?n.hashType:a,n&&"object"===e(n))){var d={};if(n.id){if(a){if(!(i=Le(Ne(n.id),a)))return;n.id=i,d.hashType=a}d.id=n.id}null!=n.authState&&(d.authState=n.authState),n.dataSource&&(_._currentCustomerIDs.dataSources=_._currentCustomerIDs.dataSources||{},r=n.dataSource,_._currentCustomerIDs.dataSources[r]=d),_._currentCustomerIDs.nameSpaces[o]=d}var l=_.getCustomerIDs(!0),u=_._getField("MCCIDH"),m="";for(c in u||(u="0"),l){var b=l[c];if(!I.isObjectEmpty(b))for(o in b)B(o)&&(m+=(m?"|":"")+o+"|"+((n=b[o]).id?n.id:"")+(n.authState?n.authState:""))}_._newCustomerIDsHash=String(_._hash(m)),_._newCustomerIDsHash!==u&&(_._customerIDsHashChanged=!0,_._mapCustomerIDs(s))}},_.getCustomerIDs=function(e){_._readVisitor();var t,a,o={dataSources:{},nameSpaces:{}},s=_._currentCustomerIDs.dataSources;for(t in s)B(t)&&(a=s[t]).id&&(o.dataSources[t]||(o.dataSources[t]={}),o.dataSources[t].id=a.id,null!=a.authState?o.dataSources[t].authState=a.authState:o.dataSources[t].authState=k.AuthState.UNKNOWN,a.hashType&&(o.dataSources[t].hashType=a.hashType));var n=_._currentCustomerIDs.nameSpaces;for(t in n)B(t)&&(a=n[t]).id&&(o.nameSpaces[t]||(o.nameSpaces[t]={}),o.nameSpaces[t].id=a.id,null!=a.authState?o.nameSpaces[t].authState=a.authState:o.nameSpaces[t].authState=k.AuthState.UNKNOWN,a.hashType&&(o.nameSpaces[t].hashType=a.hashType));return e?o:o.dataSources},_.setAnalyticsVisitorID=function(e){_._setAnalyticsFields(e)},_.getAnalyticsVisitorID=function(e,t,a){if(!te.isTrackingServerPopulated()&&!a)return _._callCallback(e,[""]),"";var o="";if(a||(o=_.getMarketingCloudVisitorID((function(){_.getAnalyticsVisitorID(e,!0)}))),o||a){var s=a?_.marketingCloudServer:_.trackingServer,n="";_.loadSSL&&(a?_.marketingCloudServerSecure&&(s=_.marketingCloudServerSecure):_.trackingServerSecure&&(s=_.trackingServerSecure));var i={};if(s){var r="http"+(_.loadSSL?"s":"")+"://"+s+"/id",c=_.configs.cookieLifetime,d="d_visid_ver="+_.version+"&mcorgid="+encodeURIComponent(_.marketingCloudOrgID)+(o?"&mid="+encodeURIComponent(o):"")+(c?"&cl="+encodeURIComponent(c):"")+(_.idSyncDisable3rdPartySyncing||_.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",_._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];n=r+"?"+d+"&callback=s_c_il%5B"+_._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",i.corsUrl=r+"?"+d,i.callback=l}return i.url=n,_._getRemoteField(a?D:L,n,e,t,i)}return""},_.getAudienceManagerLocationHint=function(e,t){if(_.getMarketingCloudVisitorID((function(){_.getAudienceManagerLocationHint(e,!0)}))){var a=_._getField(L);if(!a&&te.isTrackingServerPopulated()&&(a=_.getAnalyticsVisitorID((function(){_.getAudienceManagerLocationHint(e,!0)}))),a||!te.isTrackingServerPopulated()){var o=_._getAudienceManagerURLData(),s=o.url;return _._getRemoteField("MCAAMLH",s,e,t,o)}}return""},_.getLocationHint=_.getAudienceManagerLocationHint,_.getAudienceManagerBlob=function(e,t){if(_.getMarketingCloudVisitorID((function(){_.getAudienceManagerBlob(e,!0)}))){var a=_._getField(L);if(!a&&te.isTrackingServerPopulated()&&(a=_.getAnalyticsVisitorID((function(){_.getAudienceManagerBlob(e,!0)}))),a||!te.isTrackingServerPopulated()){var o=_._getAudienceManagerURLData(),s=o.url;return _._customerIDsHashChanged&&_._setFieldExpire(M,-1),_._getRemoteField(M,s,e,t,o)}}return""},_._supplementalDataIDCurrent="",_._supplementalDataIDCurrentConsumed={},_._supplementalDataIDLast="",_._supplementalDataIDLastConsumed={},_.getSupplementalDataID=function(e,t){_._supplementalDataIDCurrent||t||(_._supplementalDataIDCurrent=_._generateID(1));var a=_._supplementalDataIDCurrent;return _._supplementalDataIDLast&&!_._supplementalDataIDLastConsumed[e]?(a=_._supplementalDataIDLast,_._supplementalDataIDLastConsumed[e]=!0):a&&(_._supplementalDataIDCurrentConsumed[e]&&(_._supplementalDataIDLast=_._supplementalDataIDCurrent,_._supplementalDataIDLastConsumed=_._supplementalDataIDCurrentConsumed,_._supplementalDataIDCurrent=a=t?"":_._generateID(1),_._supplementalDataIDCurrentConsumed={}),a&&(_._supplementalDataIDCurrentConsumed[e]=!0)),a};var X=!1;_._liberatedOptOut=null,_.getOptOut=function(e,t){var a=_._getAudienceManagerURLData("_setMarketingCloudFields"),o=a.url;if(u())return _._getRemoteField("MCOPTOUT",o,e,t,a);if(_._registerCallback("liberatedOptOut",e),null!==_._liberatedOptOut)return _._callAllCallbacks("liberatedOptOut",[_._liberatedOptOut]),X=!1,_._liberatedOptOut;if(X)return null;X=!0;var s="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[s],h[s]=function(e){if(e===Object(e)){var t,a,o=I.parseOptOut(e,t,F);t=o.optOut,a=1e3*o.d_ottl,_._liberatedOptOut=t,setTimeout((function(){_._liberatedOptOut=null}),a)}_._callAllCallbacks("liberatedOptOut",[t]),X=!1},K.fireCORS(a),null},_.isOptedOut=function(e,t,a){t||(t=k.OptOut.GLOBAL);var o=_.getOptOut((function(a){var o=a===k.OptOut.GLOBAL||a.indexOf(t)>=0;_._callCallback(e,[o])}),a);return o?o===k.OptOut.GLOBAL||o.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};_.onReceiveEcid=function(e){if(u())return _.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},_._fields=null,_._fieldsExpired=null,_._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},_._generateID=J,_._generateLocalMID=function(){var e=_._generateID(0);return se.isClientSideMarketingCloudVisitorID=!0,e},_._callbackList=null,_._callCallback=function(e,t){try{"function"==typeof e?e.apply(x,t):e[1].apply(e[0],t)}catch(e){}},_._registerCallback=function(e,t){t&&(null==_._callbackList&&(_._callbackList={}),null==_._callbackList[e]&&(_._callbackList[e]=[]),_._callbackList[e].push(t))},_._callAllCallbacks=function(e,t){if(null!=_._callbackList){var a=_._callbackList[e];if(a)for(;a.length>0;)_._callCallback(a.shift(),t)}},_._addQuerystringParam=function(e,t,a,o){var s=encodeURIComponent(t)+"="+encodeURIComponent(a),n=te.parseHash(e),i=te.hashlessUrl(e);if(-1===i.indexOf("?"))return i+"?"+s+n;var r=i.split("?"),c=r[0]+"?",d=r[1];return c+te.addQueryParamAtLocation(d,s,o)+n},_._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},_._parseAdobeMcFromUrl=n(Z.ADOBE_MC),_._parseAdobeMcSdidFromUrl=n(Z.ADOBE_MC_SDID),_._attemptToPopulateSdidFromUrl=function(e){var a=_._parseAdobeMcSdidFromUrl(e),o=1e9;a&&a.TS&&(o=te.getTimestampInSeconds()-a.TS),a&&a.SDID&&a.MCORGID===t&&o<_.sdidParamExpiry&&(_._supplementalDataIDCurrent=a.SDID,_._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},_._attemptToPopulateIdsFromUrl=function(){var e=_._parseAdobeMcFromUrl();if(e&&e.TS){var a=te.getTimestampInSeconds()-e.TS;if(Math.floor(a/60)>Z.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;i(e)}},_._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[_.marketingCloudOrgID]){var t=e[_.marketingCloudOrgID];!function(e){te.isObject(e)&&_.setCustomerIDs(e)}(t.customerIDs),r(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},_._timeout=null,_._loadData=function(e,t,a,o){t=_._addQuerystringParam(t,"d_fieldgroup",e,1),o.url=_._addQuerystringParam(o.url,"d_fieldgroup",e,1),o.corsUrl=_._addQuerystringParam(o.corsUrl,"d_fieldgroup",e,1),se.fieldGroupObj[e]=!0,o===Object(o)&&o.corsUrl&&"XMLHttpRequest"===K.corsMetadata.corsType&&K.fireCORS(o,a,e)},_._clearTimeout=function(e){null!=_._timeout&&_._timeout[e]&&(clearTimeout(_._timeout[e]),_._timeout[e]=0)},_._settingsDigest=0,_._getSettingsDigest=function(){if(!_._settingsDigest){var e=_.version;_.audienceManagerServer&&(e+="|"+_.audienceManagerServer),_.audienceManagerServerSecure&&(e+="|"+_.audienceManagerServerSecure),_._settingsDigest=_._hash(e)}return _._settingsDigest},_._readVisitorDone=!1,_._readVisitor=function(){if(!_._readVisitorDone){_._readVisitorDone=!0;var e,t,a,o,s,n,i=_._getSettingsDigest(),r=!1,c=_.cookieRead(_.cookieName),d=new Date;if(c||R||_.discardTrackingServerECID||(c=_.cookieRead(Z.FIRST_PARTY_SERVER_COOKIE)),null==_._fields&&(_._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==i&&(r=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)a=(t=c[e].split("-"))[0],o=c[e+1],t.length>1?(s=parseInt(t[1],10),n=t[1].indexOf("s")>0):(s=0,n=!1),r&&("MCCIDH"===a&&(o=""),s>0&&(s=d.getTime()/1e3-60)),a&&o&&(_._setField(a,o,1),s>0&&(_._fields["expire"+a]=s+(n?"s":""),(d.getTime()>=1e3*s||n&&!_.cookieRead(_.sessionCookieName))&&(_._fieldsExpired||(_._fieldsExpired={}),_._fieldsExpired[a]=!0)))
;!_._getField(L)&&te.isTrackingServerPopulated()&&(c=_.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(o=c[1]).indexOf("["))>=0&&(o=o.substring(0,e)),o&&o.match(Z.VALID_VISITOR_ID_REGEX)&&_._setField(L,o))}},_._appendVersionTo=function(e){var t="vVersion|"+_.version,a=e?_._getCookieVersion(e):null;return a?z.areVersionsDifferent(a,_.version)&&(e=e.replace(Z.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},_._writeVisitor=function(){var e,t,a=_._getSettingsDigest();for(e in _._fields)B(e)&&_._fields[e]&&"expire"!==e.substring(0,6)&&(t=_._fields[e],a+=(a?"|":"")+e+(_._fields["expire"+e]?"-"+_._fields["expire"+e]:"")+"|"+t);a=_._appendVersionTo(a),_.cookieWrite(_.cookieName,a,1)},_._getField=function(e,t){return null==_._fields||!t&&_._fieldsExpired&&_._fieldsExpired[e]?null:_._fields[e]},_._setField=function(e,t,a){null==_._fields&&(_._fields={}),_._fields[e]=t,a||_._writeVisitor()},_._getFieldList=function(e,t){var a=_._getField(e,t);return a?a.split("*"):null},_._setFieldList=function(e,t,a){_._setField(e,t?t.join("*"):"",a)},_._getFieldMap=function(e,t){var a=_._getFieldList(e,t);if(a){var o,s={};for(o=0;o<a.length;o+=2)s[a[o]]=a[o+1];return s}return null},_._setFieldMap=function(e,t,a){var o,s=null;if(t)for(o in s=[],t)B(o)&&(s.push(o),s.push(t[o]));_._setFieldList(e,s,a)},_._setFieldExpire=function(e,t,a){var o=new Date;o.setTime(o.getTime()+1e3*t),null==_._fields&&(_._fields={}),_._fields["expire"+e]=Math.floor(o.getTime()/1e3)+(a?"s":""),t<0?(_._fieldsExpired||(_._fieldsExpired={}),_._fieldsExpired[e]=!0):_._fieldsExpired&&(_._fieldsExpired[e]=!1),a&&(_.cookieRead(_.sessionCookieName)||_.cookieWrite(_.sessionCookieName,"1"))},_._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=F),t&&(t===F||t.match(Z.VALID_VISITOR_ID_REGEX))||(t="")),t},_._setFields=function(t,a){if(_._clearTimeout(t),null!=_._loading&&(_._loading[t]=!1),se.fieldGroupObj[t]&&se.setState(t,!1),t===A){!0!==se.isClientSideMarketingCloudVisitorID&&(se.isClientSideMarketingCloudVisitorID=!1);var o=_._getField(D);if(!o||_.overwriteCrossDomainMCIDAndAID){if(!(o="object"===e(a)&&a.mid?a.mid:_._findVisitorID(a))){if(_._use1stPartyMarketingCloudServer&&!_.tried1stPartyMarketingCloudServer)return _.tried1stPartyMarketingCloudServer=!0,void _.getAnalyticsVisitorID(null,!1,!0);o=_._generateLocalMID()}_._setField(D,o)}o&&o!==F||(o=""),"object"===e(a)&&((a.d_region||a.dcs_region||a.d_blob||a.blob)&&_._setFields(N,a),_._use1stPartyMarketingCloudServer&&a.mid&&_._setFields(S,{id:a.id})),_._callAllCallbacks(D,[o])}if(t===N&&"object"===e(a)){var s=604800;null!=a.id_sync_ttl&&a.id_sync_ttl&&(s=parseInt(a.id_sync_ttl,10));var n=ae.getRegionAndCheckIfChanged(a,s);_._callAllCallbacks("MCAAMLH",[n]);var i=_._getField(M);(a.d_blob||a.blob)&&((i=a.d_blob)||(i=a.blob),_._setFieldExpire(M,s),_._setField(M,i)),i||(i=""),_._callAllCallbacks(M,[i]),!a.error_msg&&_._newCustomerIDsHash&&_._setField("MCCIDH",_._newCustomerIDsHash)}if(t===S){var r=_._getField(L);r&&!_.overwriteCrossDomainMCIDAndAID||((r=_._findVisitorID(a))?r!==F&&_._setFieldExpire(M,-1):r=F,_._setField(L,r)),r&&r!==F||(r=""),_._callAllCallbacks(L,[r])}if(_.idSyncDisableSyncs||_.disableIdSyncs)ae.idCallNotProcesssed=!0;else{ae.idCallNotProcesssed=!1;var c={};c.ibs=a.ibs,c.subdomain=a.subdomain,ae.processIDCallData(c)}if(a===Object(a)){var d,l;u()&&_.isAllowed()&&(d=_._getField("MCOPTOUT"));var m=I.parseOptOut(a,d,F);d=m.optOut,l=m.d_ottl,_._setFieldExpire("MCOPTOUT",l,!0),_._setField("MCOPTOUT",d),_._callAllCallbacks("MCOPTOUT",[d])}},_._loading=null,_._getRemoteField=function(e,t,a,o,s){var n,i="",r=te.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&_.isAllowed())if(_._readVisitor(),!(!(i=_._getField(e,!0===c[e]))||_._fieldsExpired&&_._fieldsExpired[e])||_.disableThirdPartyCalls&&!r)i||(e===D?(_._registerCallback(e,a),i=_._generateLocalMID(),_.setMarketingCloudVisitorID(i)):e===L?(_._registerCallback(e,a),i="",_.setAnalyticsVisitorID(i)):(i="",o=!0));else if(e===D||"MCOPTOUT"===e?n=A:"MCAAMLH"===e||e===M?n=N:e===L&&(n=S),n)return!t||null!=_._loading&&_._loading[n]||(null==_._loading&&(_._loading={}),_._loading[n]=!0,n===N&&(C=0),_._loadData(n,t,(function(t){if(!_._getField(e)){t&&se.setState(n,!0);var a="";e===D?a=_._generateLocalMID():n===N&&(a={error_msg:"timeout"}),_._setFields(n,a)}}),s)),_._registerCallback(e,a),i||(t||_._setFields(n,{id:F}),"");return e!==D&&e!==L||i!==F||(i="",o=!0),a&&o&&_._callCallback(a,[i]),e===D&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){_._callCallback(e,[i])})),ee.subscribed=!1,ee.callbacks.length=0),i},_._setMarketingCloudFields=function(e){_._readVisitor(),_._setFields(A,e)},_._mapCustomerIDs=function(e){_.getAudienceManagerBlob(e,!0)},_._setAnalyticsFields=function(e){_._readVisitor(),_._setFields(S,e)},_._setAudienceManagerFields=function(e){_._readVisitor(),_._setFields(N,e)},_._getAudienceManagerURLData=function(e){var t=_.audienceManagerServer,a="",o=_._getField(D),s=_._getField(M,!0),n=_._getField(L),i=n&&n!==F?"&d_cid_ic=AVID%01"+encodeURIComponent(n):"";if(_.loadSSL&&_.audienceManagerServerSecure&&(t=_.audienceManagerServerSecure),t){var r,c,d,l=_.getCustomerIDs(!0);if(l)for(c in l){var u=l[c];if(!I.isObjectEmpty(u)){var m="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(r in u)B(r)&&(d=u[r],i+=m+encodeURIComponent(r)+"%01"+encodeURIComponent(d.id?d.id:"")+(d.authState?"%01"+d.authState:""))}}e||(e="_setAudienceManagerFields");var b="http"+(_.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver="+_.version+(y&&-1!==b.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+y:"")+(C&&-1!==b.indexOf("demdex.net")?"&d_cf="+C:"")+"&d_rtbd=json&d_ver=2"+(!o&&_._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(_.marketingCloudOrgID)+"&d_nsid="+(_.idSyncContainerID||0)+(o?"&d_mid="+encodeURIComponent(o):"")+(_.idSyncDisable3rdPartySyncing||_.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===E?"&d_coop_safe=1":!1===E?"&d_coop_unsafe=1":"")+(s?"&d_blob="+encodeURIComponent(s):"")+i,f=["s_c_il",_._in,e];return{url:a=b+"?"+g+"&d_cb=s_c_il%5B"+_._in+"%5D."+e,corsUrl:b+"?"+g,callback:f}}return{url:a}},_.appendVisitorIDsTo=function(e){try{var t=[[D,_._getField(D)],[L,_._getField(L)],["MCORGID",_.marketingCloudOrgID]];return _._addQuerystringParam(e,Z.ADOBE_MC,c(t))}catch(t){return e}},_.appendSupplementalDataIDTo=function(e,t){if(!(t=t||_.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var a=c([["SDID",t],["MCORGID",_.marketingCloudOrgID]]);return _._addQuerystringParam(e,Z.ADOBE_MC_SDID,a)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var o=e.split("&");return a=null!=a?a:o.length,o.splice(a,0,t),o.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===L&&(t||(t=_.trackingServer),a||(a=_.trackingServerSecure),!("string"!=typeof(o=_.loadSSL?a:t)||!o.length)&&o.indexOf("2o7.net")<0&&o.indexOf("omtrdc.net")<0);var o},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){G.remove(e,{domain:_.cookieDomain})},isTrackingServerPopulated:function(){return!!_.trackingServer||!!_.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};_._helpers=te;var ae=$(_,k);_._destinationPublishing=ae,_.timeoutMetricsLog=[];var oe,se={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case A:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case S:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case N:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};_.isClientSideMarketingCloudVisitorID=function(){return se.isClientSideMarketingCloudVisitorID},_.MCIDCallTimedOut=function(){return se.MCIDCallTimedOut},_.AnalyticsIDCallTimedOut=function(){return se.AnalyticsIDCallTimedOut},_.AAMIDCallTimedOut=function(){return se.AAMIDCallTimedOut},_.idSyncGetOnPageSyncInfo=function(){return _._readVisitor(),_._getField("MCSYNCSOP")},_.idSyncByURL=function(e){if(!_.isOptedOut()){var t=d(e||{});if(t.error)return t.error;var a,o,s=e.url,n=encodeURIComponent,i=ae;return s=s.replace(/^https:/,"").replace(/^http:/,""),a=I.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),o=["ibs",n(e.dpid),"img",n(s),t.ttl,"",a],i.addMessage(o.join("|")),i.requestToProcess(),"Successfully queued"}},_.idSyncByDataSource=function(e){if(!_.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,_.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ve(_,ae),_._getCookieVersion=function(e){e=e||_.cookieRead(_.cookieName);var t=Z.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},_._resetAmcvCookie=function(e){var t=_._getCookieVersion();t&&!z.isLessThan(t,e)||_.removeCookie(_.cookieName)},_.setAsCoopSafe=function(){E=!0},_.setAsCoopUnsafe=function(){E=!1},function(){if(_.configs=Object.create(null),te.isObject(a))for(var e in a)B(e)&&(_[e]=a[e],_.configs[e]=a[e])}(),m(),_.init=function(){l()&&(P.optIn.fetchPermissions(p,!0),!P.optIn.isApproved(P.optIn.Categories.ECID))||oe||(oe=!0,function(){if(te.isObject(a)){_.idSyncContainerID=_.idSyncContainerID||0,E="boolean"==typeof _.isCoopSafe?_.isCoopSafe:te.parseBoolean(_.isCoopSafe),_.resetBeforeVersion&&_._resetAmcvCookie(_.resetBeforeVersion),_._attemptToPopulateIdsFromUrl(),_._attemptToPopulateSdidFromUrl(),_._readVisitor();var e=_._getField(O),t=Math.ceil((new Date).getTime()/Z.MILLIS_PER_DAY);_.idSyncDisableSyncs||_.disableIdSyncs||!ae.canMakeSyncIDCall(e,t)||(_._setFieldExpire(M,-1),_._setField(O,t)),_.getMarketingCloudVisitorID(),_.getAudienceManagerLocationHint(),_.getAudienceManagerBlob(),_._mergeServerState(_.serverState)}else _._attemptToPopulateIdsFromUrl(),_._attemptToPopulateSdidFromUrl()}(),function(){if(!_.idSyncDisableSyncs&&!_.disableIdSyncs){ae.checkDPIframeSrc();var e=function(){var e=ae;e.readyToAttachIframe()&&e.attachIframe()};x.addEventListener("load",(function(){k.windowLoaded=!0,e()}));try{W.receiveMessage((function(e){ae.receiveMessage(e.data)}),ae.iframeHost)}catch(e){}}}(),_.whitelistIframeDomains&&Z.POST_MESSAGE_ENABLED&&(_.whitelistIframeDomains=_.whitelistIframeDomains instanceof Array?_.whitelistIframeDomains:[_.whitelistIframeDomains],_.whitelistIframeDomains.forEach((function(e){var a=new V(t,e),o=q(_,a);W.receiveMessage(o,e)}))))}};Fe.config=X,h.Visitor=Fe;var Be=Fe,qe=function(e){if(I.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&X.getConfigs()[t]})).reduce((function(t,a){var o=X.normalizeConfig(a,e[a]),s=I.normalizeBoolean(o);return t[a]=s,t}),Object.create(null))},Ue=Oe.OptIn,Ge=Oe.IabPlugin;Be.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var a=function(){var t=h.s_c_il;if(t)for(var a=0;a<t.length;a++){var o=t[a];if(o&&"Visitor"===o._c&&o.marketingCloudOrgID===e)return o}}();if(a)return a;var o=qe(t)||{};!function(e){h.adobe.optIn=h.adobe.optIn||function(){var t=I.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),a=e.optInCookieDomain||e.cookieDomain;a=(a=a||H())===window.location.hostname?"":a,t.optInCookieDomain=a;var o=new Ue(t,{cookies:G});if(t.isIabContext&&t.doesOptInApply){var s=new Ge;o.registerPlugin(s)}return o}()}(o||{});var s=e.split("").reverse().join(""),n=new Be(e,null,s);o.cookieDomain&&(n.cookieDomain=o.cookieDomain),o.sameSiteCookie&&o.secureCookie&&(n.configs={sameSiteCookie:o.sameSiteCookie,secureCookie:o.secureCookie}),h.s_c_il.splice(--h.s_c_in,1);var i=I.getIeVersion();if("number"==typeof i&&i<10)return n._helpers.replaceMethodsWithFunction(n,(function(){}));var r=function(){try{return h.self!==h.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(n)||I.isFirefox()&&!o.whitelistParentDomain)&&h.parent?new L(e,o,n,h.parent):new Be(e,o,s);return n=null,r.init(),r},function(){function e(){Be.windowLoaded=!0}h.addEventListener?h.addEventListener("load",e):h.attachEvent&&h.attachEvent("onload",e),Be.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"bmw-group-utility-kit":{displayName:"Utility Kit",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2266a5c5e89a41929de2c44a88e78182/",settings:{webDL:{dataElement:"%webDL%"},privacyManager:{type:{code:function(e){return"true"===_satellite.getVar("splitConsentEnabled")?e.EPAAS_SPLIT:e.EPAAS_NON_SPLIT}},methodSettings:{code:function(){}}}},modules:{"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js":{name:"snapshot-attribute",displayName:"Snapshot Attribute",script:function(e,t,a){"use strict";var o=a("../helpers/dataLayerManager");e.exports=function(e){var t=e.snapshotAttribute&&e.snapshotAttribute.path;return o.getSnapshot().get(t)}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js":{name:"data-layer-snapshot",displayName:"Data Layer Snapshot",script:function(e,t,a){"use strict";var o=a("../helpers/dataLayerManager");e.exports=function(){return o.getSnapshot()}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js":{name:"helper-tools",displayName:"Helper Tools",script:function(e,t,a){"use strict";var o=a("../helpers/external_modules/deepFreeze.js")({cache:a("../helpers/cache.js"),hooks:a("../helpers/hooks.js"),privacyManager:a("../helpers/privacyManager.js")});e.exports=function(){return o}}},"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js":{name:"take-snapshot",displayName:"Take Snapshot",script:function(e,t,a,o){"use strict";var s=a("../helpers/dataLayerManager"),n=o.getSharedModule("adobe-analytics","get-tracker");e.exports=function(e,t){t.detail=t.detail||{},t.detail.snapshotDL=s.takeSnapshot(t.$rule.name,t.detail.webDL),n&&n().then((function(){s.takeSnapshot(t.$rule.name,t.detail.snapshotDL.snapshot)}))}}},"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js":{name:"discard-snapshot",displayName:"Discard Snapshot",script:function(e,t,a,o){"use strict";var s=a("../helpers/dataLayerManager"),n=o.getSharedModule("adobe-analytics","get-tracker");e.exports=function(){s.removeSnapshot(),n&&n().then((function(){s.removeSnapshot()}))}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js":{script:function(e,t,a,o){"use strict";function s(e,t,a){if(!e)throw new Error("'takenAt' is a required parameter while instantiating the Snapshot class");this.debug={takenAt:e};var s=o.getExtensionSettings().webDL&&o.getExtensionSettings().webDL.dataElement;t||s?(this.snapshot=JSON.parse(JSON.stringify(t||s)),this.debug.type=a||(t?r.PARAMETER:s?r.WEBDL:r.EMPTY)):(o.logger.warn("NOTE: Website datalayer not available while creating the snapshot"),this.snapshot={},this.debug.type=r.EMPTY)}var n,i=a("./external_modules/deepFreeze"),r={FALLBACK:"CURRENT_DATALAYER_STATE",WEBDL:"WEBSITE_DATALAYER",PARAMETER:"CUSTOM_PARAMETER",EMPTY:"EMPTY"};s.prototype.get=function(e,t){try{for(var a=["","na","not set","n/a","not available","not yet available","not selected","unknown"],s=(e=e||"").split("."),n=this.snapshot,i=0;i<s.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(s[i])?n[n.length-Math.abs(parseInt(s[i]))]:n[s[i]];return"string"==typeof n&&a.indexOf(n.toLowerCase())>-1?t||"datalayer field empty":n||t||"datalayer field missing"}catch(e){o.logger.error("Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-",e)}};var c=function(){this.takeSnapshot=function(e,t){return n=new s(e,t),i(n)},this.getSnapshot=function(){return n||(o.logger.info("NOTE: No snapshot available, returning the current web datalayer, if available"),i(new s("NO_SNAPSHOT_AVAILABLE",void 0,r.FALLBACK)))},this.removeSnapshot=function(){n=void 0}};e.exports=new c}},"bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js":{script:function(e){e.exports=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(a){!t.hasOwnProperty(a)||null===t[a]||"object"!=typeof t[a]&&"function"!=typeof t[a]||Object.isFrozen(t[a])||e(t[a])})),t}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js":{script:function(e,t,a,o){"use strict";function s(e){return r[e]}function n(e,t){void 0!==s(e)&&o.logger.log('Overwriting cache["'+e+'"]'),r[e]=t}function i(e){return delete r[e]}var r={};e.exports={get:s,set:n,remove:i}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js":{script:function(e,t,a,o){function s(e){this.action=e.action,this.type=e.type&&"string"==typeof e.type&&e.type.toLowerCase()}function n(e){this.newReference=void 0,this.reference=e.method,this.hooks=[new s(e)]}function i(){var e=[];this.find=function(t){for(var a=e.length-1;a>=0;a--)if(e[a].reference===t||e[a].newReference===t)return e[a]},this.findIndex=function(t){for(var a=e.length-1;a>=0;a--)if(e[a].reference===t||e[a].newReference===t)return a},this.add=function(t){e.push(t)},this.remove=function(t){var a=this.findIndex(t);if(a)return e.splice(a,1)[0]}}function r(){var e=new i;this.add=function(t){if("object"!=typeof t||!t.method||!t.action||!t.type)throw new Error("'hooks.add' expects an object as parameter with 'method', 'action'and 'type' as required keys");var a=e.find(t.method);return a?a.addHook(t):e.add(new n(t)),e.find(t.method).getNewDefinition()},this.remove=function(t,a){var o=e.find(t);o&&o.removeHook(a)},this.removeAll=function(t){return e.remove(t).reference},this.get=function(t){var a=e.find(t);return a?a.getHooks():[]}}s.prototype.execute=function(e,t){try{return this.action.apply(e,t)}catch(e){o.logger.error("Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-",e)}},n.prototype.removeHook=function(e){for(var t=this.hooks.length-1;t>=0;t--)this.hooks[t].action===e&&this.hooks.splice(t,1)},n.prototype.addHook=function(e){e.type&&"string"==typeof e.type&&"overwrite"===e.type.toLowerCase()?(this.hooks.length&&o.logger.warn("Following hooks will now be removed as a new 'overwrite' hook is added-",this.hooks),this.hooks=[new s(e)]):"overwrite"===this.hooks[0].type?o.logger.warn("Can't add a 'pre' OR 'post' hook type as an overwrite hook is already present- ",this.hooks[0]):this.hooks=this.hooks.concat(new s(e))},n.prototype.getHooks=function(){return this.hooks},n.prototype.executePreHooks=function(e,t){for(var a=this.hooks.filter((function(e){return"pre"===e.type})),o=0;o<a.length;o++)t=a[o].execute(e,JSON.parse(JSON.stringify(t)))||t;return t},n.prototype.executePostHooks=function(e,t){for(var a=this.hooks.filter((function(e){return"post"===e.type})),o=0;o<a.length;o++)t=a[o].execute(e,[JSON.parse(JSON.stringify(t))])||t;return t},n.prototype.getNewDefinition=function(){var e=this;return e.newReference=e.newReference||function(){var t="overwrite"===e.hooks[0].type?e.hooks[0]:void 0;if(t)return t.execute(this,arguments);var a=Array.prototype.slice.call(arguments);a=e.executePreHooks(this,a);try{var s=e.reference.apply(this,a)}catch(e){o.logger.error("Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-",e)}return s=e.executePostHooks(this,s)},e.newReference};var c=new r;e.exports=c}},"bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js":{script:function(e,t,a,o){function s(e){o.logger.error("UTILITY-KIT:"+e),o.logger.debug("UTILITY-KIT:Privacy Manager State-"+this.state),o.logger.debug("UTILITY-KIT:Privacy Manager Type-"+this.type)}function n(e){var t;Object.defineProperty(this,"type",{get:function(){return e}}),Object.defineProperty(this,"state",{get:function(){return t}}),Object.defineProperty(this,"ENUM_TYPE",{get:function(){return c(m)}});var a=this;this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT||this.type==m.CON_TRACKING_API?(t=b.IDENTIFIED,this.onInit((function(){t=b.INITIALIZED,a.type==m.EPAAS_SPLIT&&(r.get=d.add({method:r.get,action:consentcontroller.api.getPersistence,type:"overwrite"}),r.set=d.add({method:r.set,action:function(){return consentcontroller.api.setPersistence(arguments[0],arguments[1])},type:"overwrite"}))}))):t=b.UNKNOWN}var i=a("@adobe/reactor-window"),r=a("@adobe/reactor-cookie"),c=a("./external_modules/deepFreeze.js"),d=a("./hooks"),l=o.getExtensionSettings(),u=l&&l.privacyManager||{},m={EPAAS_SPLIT:"EPAAS_SPLIT",EPAAS_NON_SPLIT:"EPAAS_NON_SPLIT",CON_TRACKING_API:"CON_TRACKING_API",OTHERS:"OTHERS"},b={IDENTIFIED:"WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT",INITIALIZED:"WEBSITE_API_INITIALIZED",UNKNOWN:"WEBSITE_API_NOT_RECOGNIZED"};n.prototype.onInit=function(e){this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?(i.consentcontroller&&i.consentcontroller.api||i).addEventListener("consentcontroller.api.initialized",e):this.type==m.CON_TRACKING_API?i.digital&&i.digital.tracking&&null!=i.digital.tracking.dtmReady?e():i.addEventListener("digital:tracking:trackingReady",e):s.call(this,"Privacy Manager can't provide consent status: isTrackingEnabled called without overriding the method")},n.prototype.isTrackingAllowed=function(e){return this.state!=b.INITIALIZED?(o.logger.warn("UTILITY-KIT:"+this.type+" is not initialized, tracking status will be returned as false"),!1):this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?consentcontroller.api.isUsageAllowed(e):this.type==m.CON_TRACKING_API?!i.digital.tracking.isTrackingDisabled():(s.call(this,"Privacy Manager can't provide consent status: isTrackingAllowed called without overriding the method"),!1)},n.prototype.registerOnConsentChange=function(){var e=arguments;this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?this.onInit((function(){consentcontroller.api.registerOnUserConsentChange.apply(null,e)})):this.type==m.CON_TRACKING_API?this.onInit((function(){i.digital.tracking.registerOnConsentChange.apply(i.digital.tracking,e)})):s.call(this,"Privacy Manager can't handle consent change registration: registerOnConsentChange called without overriding the method")},n.prototype.isCookieDrawerShown=function(){return this.type==m.EPAAS_SPLIT||this.type==m.EPAAS_NON_SPLIT?this.state==b.INITIALIZED&&consentcontroller.api.showDisclaimer():this.type==m.CON_TRACKING_API?void 0===r.get("cc_ConsentCookie"):void s.call(this,"Privacy Manager can't get cookie drawer shown status: isCookieDrawerShown called without overriding the method")};try{var g;u.type&&u.type.code&&(g=u.type.code(m))}catch(e){o.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}g!==m.EPAAS_SPLIT&&g!==m.EPAAS_NON_SPLIT&&g!==m.CON_TRACKING_API&&g!==m.OTHERS&&(o.logger.error("Privacy Manager extension settings does not return 'ENUM_TYPE' value"),g=m.OTHERS);var f=new n(g);try{g===m.OTHERS&&u.methodSettings&&u.methodSettings.code&&u.methodSettings.code(f)}catch(e){o.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}e.exports=f}}}},"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"adobeDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,a){"use strict";e.exports=function(e,t){if(null!=e){var a=e.method,s=e.eventKey,n=e.scope,i=o(),r=function(e){var a={message:e,beforeState:{},afterState:{},fullState:i.getState()};t(a)},c={};void 0!==n&&(c.scope=n),"allData"===a?i.push((function(e){e.addEventListener("adobeDataLayer:change",r,c)})):"allEvents"===a?i.push((function(e){e.addEventListener("adobeDataLayer:event",r,c)})):"specificEvent"===a&&""!==s&&i.push((function(e){e.addEventListener(s,r,c)}))}};var o=a("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,a,o){var s=o.getExtensionSettings(),n=s.dataLayerName,i=s.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(o.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==n&&("object"==typeof window[n]?(o.logger.log('Using "'+n+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[n].length;t++)e.push(window[n][t]);window[n]=e}))):o.logger.warn('Could not use "'+n+'" instead of "adobeDataLayer", because the object does not exist!')),i&&void 0===window.adobeDataLayer.getState){function r(e,t){return l(e)||d(e,t)||m(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],o=!0,s=!1,n=void 0;try{for(var i,r=e[Symbol.iterator]();!(o=(i=r.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw n}}return a}}function l(e){if(Array.isArray(e))return e}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=m(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s,n=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,s=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw s}}}}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,o,s){function n(r,c){if(!o[r]){if(!t[r]){var d="function"==typeof a&&a;if(!c&&d)return d(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[r]={exports:{}};t[r][0].call(u.exports,(function(e){return n(t[r][1][e]||e)}),u,u.exports,e,t,o,s)}return o[r].exports}for(var i="function"==typeof a&&a,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(e,t,a){(function(e){(function(){function o(e,t){for(var a=-1,o=null==e?0:e.length,s=0,n=[];++a<o;){var i=e[a];t(i,a,e)&&(n[s++]=i)}return n}function s(e,t){for(var a=-1,o=null==e?0:e.length,s=Array(o);++a<o;)s[a]=t(e[a],a,e);return s}function n(e,t){for(var a=-1,o=t.length,s=e.length;++a<o;)e[s+a]=t[a];return e}function i(e,t){for(var a=-1,o=null==e?0:e.length;++a<o;)if(t(e[a],a,e))return!0;return!1}function r(e,t,a){var o=e.length;for(a+=-1;++a<o;)if(t(e[a],a,e))return a;return-1}function c(e){return e!=e}function d(e){return function(t){return e(t)}}function l(e){var t=-1,a=Array(e.size);return e.forEach((function(e,o){a[++t]=[o,e]})),a}function u(e){var t=Object;return function(a){return e(t(a))}}function m(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}function b(){}function f(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}function p(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}function v(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}function h(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new v;++t<a;)this.add(e[t])}function _(e){this.size=(this.__data__=new p(e)).size}function P(e,t){var a,o=ha(e),s=!o&&va(e),n=!o&&!s&&_a(e),i=!o&&!s&&!n&&ya(e);if(o=o||s||n||i){s=e.length;for(var r=String,c=-1,d=Array(s);++c<s;)d[c]=r(c);s=d}else s=[];for(a in r=s.length,e)!t&&!_t.call(e,a)||o&&("length"==a||n&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||te(a,r))||s.push(a);return s}function j(e,t,a){(a===Be||be(e[t],a))&&(a!==Be||t in e)||w(e,t,a)}function y(e,t,a){var o=e[t];_t.call(e,t)&&be(o,a)&&(a!==Be||t in e)||w(e,t,a)}function C(e,t){for(var a=e.length;a--;)if(be(e[a][0],t))return a;return-1}function w(e,t,a){"__proto__"==t&&Vt?Vt(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function R(e,t,a,o,s,n){var i,r=1&t,c=2&t,d=4&t;if(a&&(i=s?a(e,o,s,n):a(e)),i!==Be)return i;if(!he(e))return e;if(o=ha(e)){if(i=function(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&_t.call(e,"index")&&(a.index=e.index,a.input=e.input),a}(e),!r)return U(e,i)}else{var l=ia(e),u="[object Function]"==l||"[object GeneratorFunction]"==l;if(_a(e))return F(e,r);if("[object Object]"==l||"[object Arguments]"==l||u&&!s){if(i=c||u?{}:X(e),!r)return c?function(e,t){return G(e,na(e),t)}(e,function(e,t){return e&&G(t,Ae(t),e)}(i,e)):function(e,t){return G(e,sa(e),t)}(e,function(e,t){return e&&G(t,Ie(t),e)}(i,e))}else{if(!tt[l])return s?e:{};i=function(e,t,a){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return B(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return t=a?B(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return q(e,a);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(t=new e.constructor(e.source,Je.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Qt?Object(Qt.call(e)):{}}}(e,l,r)}}if(s=(n=n||new _).get(e))return s;if(n.set(e,i),ja(e))return e.forEach((function(o){i.add(R(o,t,a,o,e,n))})),i;if(Pa(e))return e.forEach((function(o,s){i.set(s,R(o,t,a,s,e,n))})),i;c=d?c?J:W:c?Ae:Ie;var m=o?Be:c(e);return function(e,t){for(var a=-1,o=null==e?0:e.length;++a<o&&!1!==t(e[a],a,e););}(m||e,(function(o,s){m&&(o=e[s=o]),y(i,s,R(o,t,a,s,e,n))})),i}function x(e,t){for(var a=0,o=(t=M(t,e)).length;null!=e&&a<o;)e=e[ie(t[a++])];return a&&a==o?e:Be}function k(e,t,a){return t=t(e),ha(e)?t:n(t,a(e))}function T(e){if(null==e)e=e===Be?"[object Undefined]":"[object Null]";else if(Ot&&Ot in Object(e)){var t=_t.call(e,Ot),a=e[Ot];try{e[Ot]=Be;var o=!0}catch(e){}var s=jt.call(e);o&&(t?e[Ot]=a:delete e[Ot]),e=s}else e=jt.call(e);return e}function E(e,t){return null!=e&&_t.call(e,t)}function I(e,t){return null!=e&&t in Object(e)}function A(e){return _e(e)&&"[object Arguments]"==T(e)}function D(e,t,a,o,s){if(e===t)t=!0;else if(null==e||null==t||!_e(e)&&!_e(t))t=e!=e&&t!=t;else e:{var n,i,r=ha(e),c=ha(t),d="[object Object]"==(n="[object Arguments]"==(n=r?"[object Array]":ia(e))?"[object Object]":n);if(c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":ia(t))?"[object Object]":i),(i=n==i)&&_a(e)){if(!_a(t)){t=!1;break e}d=!(r=!0)}if(i&&!d)s=s||new _,t=r||ya(e)?K(e,t,a,o,D,s):function(e,t,a,o,s,n,i){switch(a){case"[object DataView]":
if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!n(new xt(e),new xt(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var r=l;case"[object Set]":if(r=r||m,e.size!=t.size&&!(1&o))break;return(a=i.get(e))?a==t:(o|=2,i.set(e,t),t=K(r(e),r(t),o,s,n,i),i.delete(e),t);case"[object Symbol]":if(Qt)return Qt.call(e)==Qt.call(t)}return!1}(e,t,n,a,o,D,s);else{if(!(1&a)&&(r=d&&_t.call(e,"__wrapped__"),n=c&&_t.call(t,"__wrapped__"),r||n)){t=D(e=r?e.value():e,t=n?t.value():t,a,o,s=s||new _);break e}if(i)t:if(s=s||new _,r=1&a,n=W(e),c=n.length,i=W(t).length,c==i||r){for(d=c;d--;){var u=n[d];if(!(r?u in t:_t.call(t,u))){t=!1;break t}}if((i=s.get(e))&&s.get(t))t=i==t;else{i=!0,s.set(e,t),s.set(t,e);for(var b=r;++d<c;){var g=e[u=n[d]],f=t[u];if(o)var p=r?o(f,g,u,t,e,s):o(g,f,u,e,t,s);if(p===Be?g!==f&&!D(g,f,a,o,s):!p){i=!1;break}b=b||"constructor"==u}i&&!b&&(a=e.constructor)!=(o=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof a&&a instanceof a&&"function"==typeof o&&o instanceof o)&&(i=!1),s.delete(e),s.delete(t),t=i}}else t=!1;else t=!1}}return t}function O(e){return"function"==typeof e?e:null==e?Ve:"object"==g(e)?ha(e)?function(e,t){return ae(e)&&t==t&&!he(t)?se(ie(e),t):function(a){var o=Te(a,e);return o===Be&&o===t?Ee(a,e):D(t,o,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ie(e),a=t.length;a--;){var o=t[a],s=e[o];t[a]=[o,s,s==s&&!he(s)]}return t}(e);return 1==t.length&&t[0][2]?se(t[0][0],t[0][1]):function(a){return a===e||function(e,t){var a=t.length,o=a;if(null==e)return!o;for(e=Object(e);a--;)if((s=t[a])[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1;for(;++a<o;){var s,n=(s=t[a])[0],i=e[n],r=s[1];if(s[2]){if(i===Be&&!(n in e))return!1}else if(s=new _,void 0!==Be||!D(r,i,3,void 0,s))return!1}return!0}(a,t)}}(e):Le(e)}function V(e){if(!oe(e))return Nt(e);var t,a=[];for(t in Object(e))_t.call(e,t)&&"constructor"!=t&&a.push(t);return a}function S(e,t,a,o,s){e!==t&&aa(t,(function(n,i){if(he(n)){var r=s=s||new _,c="__proto__"==i?Be:e[i],d="__proto__"==i?Be:t[i];if(g=r.get(d))j(e,i,g);else{var l=(g=o?o(c,d,i+"",e,t,r):Be)===Be;if(l){var u=ha(d),m=!u&&_a(d),b=!u&&!m&&ya(d),g=d;u||m||b?g=ha(c)?c:fe(c)?U(c):m?F(d,!(l=!1)):b?q(d,!(l=!1)):[]:Pe(d)||va(d)?va(g=c)?g=xe(c):(!he(c)||a&&pe(c))&&(g=X(d)):l=!1}l&&(r.set(d,g),S(g,d,a,o,r),r.delete(d)),j(e,i,g)}}else(r=o?o("__proto__"==i?Be:e[i],n,i+"",e,t,s):Be)===Be&&(r=n),j(e,i,r)}),Ae)}function L(e){if("string"==typeof e)return e;if(ha(e))return s(e,L)+"";if(ye(e))return Xt?Xt.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function N(e,t){var a;if((t=M(t,e)).length<2)a=e;else{var o=0,s=-1,n=-1,i=(a=t).length;for(o<0&&(o=i<-o?0:i+o),(s=i<s?i:s)<0&&(s+=i),i=s<o?0:s-o>>>0,o>>>=0,s=Array(i);++n<i;)s[n]=a[n+o];a=x(e,s)}null==(e=a)||delete e[ie(le(t))]}function M(e,t){return ha(e)?e:ae(e,t)?[e]:ga(ke(e))}function F(e,t){if(t)return e.slice();var a=e.length;return a=kt?kt(a):new e.constructor(a),e.copy(a),a}function B(e){var t=new e.constructor(e.byteLength);return new xt(t).set(new xt(e)),t}function q(e,t){return new e.constructor(t?B(e.buffer):e.buffer,e.byteOffset,e.length)}function U(e,t){var a=-1,o=e.length;for(t=t||Array(o);++a<o;)t[a]=e[a];return t}function G(e,t,a){var o=!a;a=a||{};for(var s=-1,n=t.length;++s<n;){var i=t[s],r=Be;r===Be&&(r=e[i]),o?w(a,i,r):y(a,i,r)}return a}function H(e){return function(e){return ba(ne(e,void 0,Ve),e+"")}((function(t,a){var o,s=-1,n=a.length,i=1<n?a[n-1]:Be,r=2<n?a[2]:Be;if(i=3<e.length&&"function"==typeof i?(n--,i):Be,o=r){o=a[0];var c=a[1];if(he(r)){var d=g(c);o=!!("number"==d?ge(r)&&te(c,r.length):"string"==d&&c in r)&&be(r[c],o)}else o=!1}for(o&&(i=n<3?Be:i,n=1),t=Object(t);++s<n;)(r=a[s])&&e(t,r,s,i);return t}))}function z(e){return Pe(e)?Be:e}function K(e,t,a,o,s,n){var r=1&a,c=e.length;if(c!=(d=t.length)&&!(r&&c<d))return!1;if((d=n.get(e))&&n.get(t))return d==t;var d=-1,l=!0,u=2&a?new h:Be;for(n.set(e,t),n.set(t,e);++d<c;){var m=e[d],b=t[d];if(o)var g=r?o(b,m,d,t,e,n):o(m,b,d,e,t,n);if(g!==Be){if(g)continue;l=!1;break}if(u){if(!i(t,(function(e,t){if(!u.has(t)&&(m===e||s(m,e,a,o,n)))return u.push(t)}))){l=!1;break}}else if(m!==b&&!s(m,b,a,o,n)){l=!1;break}}return n.delete(e),n.delete(t),l}function W(e){return k(e,Ie,sa)}function J(e){return k(e,Ae,na)}function Y(e,t){var a=(a=b.iteratee||Se)===Se?O:a;return arguments.length?a(e,t):a}function Z(e,t){var a=e.__data__,o=g(t);return("string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==t:null===t)?a["string"==typeof t?"string":"hash"]:a.map}function $(e,t){var a=null==e?Be:e[t];return!he(a)||Pt&&Pt in a||!(pe(a)?Ct:$e).test(re(a))?Be:a}function Q(e,t,a){for(var o=-1,s=(t=M(t,e)).length,n=!1;++o<s;){var i=ie(t[o]);if(!(n=null!=e&&a(e,i)))break;e=e[i]}return n||++o!=s?n:!!(s=null==e?0:e.length)&&ve(s)&&te(i,s)&&(ha(e)||va(e))}function X(e){return"function"!=typeof e.constructor||oe(e)?{}:ea(Tt(e))}function ee(e){return ha(e)||va(e)||!!(Dt&&e&&e[Dt])}function te(e,t){var a=g(e);return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&Xe.test(e))&&-1<e&&0==e%1&&e<t}function ae(e,t){if(ha(e))return!1;var a=g(e);return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!ye(e))||He.test(e)||!Ge.test(e)||null!=t&&e in Object(t)}function oe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pt)}function se(e,t){return function(a){return null!=a&&a[e]===t&&(t!==Be||e in Object(a))}}function ne(e,t,a){return t=Mt(t===Be?e.length-1:t,0),function(){for(var o=arguments,s=-1,n=Mt(o.length-t,0),i=Array(n);++s<n;)i[s]=o[t+s];for(s=-1,n=Array(t+1);++s<t;)n[s]=o[s];return n[t]=a(i),function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}(e,this,n)}}function ie(e){if("string"==typeof e||ye(e))return e;var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function re(e){if(null==e)return"";try{return ht.call(e)}catch(e){}return e+""}function ce(e,t,a){var o=null==e?0:e.length;return o?((a=null==a?0:we(a))<0&&(a=Mt(o+a,0)),r(e,Y(t,3),a)):-1}function de(e){return null!=e&&e.length?function e(t,a,o,s,i){var r=-1,c=t.length;for(o=o||ee,i=i||[];++r<c;){var d=t[r];0<a&&o(d)?1<a?e(d,a-1,o,s,i):n(i,d):s||(i[i.length]=d)}return i}(e,1):[]}function le(e){var t=null==e?0:e.length;return t?e[t-1]:Be}function ue(e,t){function a(){var o=arguments,s=t?t.apply(this,o):o[0],n=a.cache;return n.has(s)?n.get(s):(o=e.apply(this,o),a.cache=n.set(s,o)||n,o)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return a.cache=new(ue.Cache||v),a}function me(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function be(e,t){return e===t||e!=e&&t!=t}function ge(e){return null!=e&&ve(e.length)&&!pe(e)}function fe(e){return _e(e)&&ge(e)}function pe(e){return!!he(e)&&("[object Function]"==(e=T(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ve(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function he(e){var t=g(e);return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==g(e)}function Pe(e){return!(!_e(e)||"[object Object]"!=T(e))&&(null===(e=Tt(e))||"function"==typeof(e=_t.call(e,"constructor")&&e.constructor)&&e instanceof e&&ht.call(e)==yt)}function je(e){return"string"==typeof e||!ha(e)&&_e(e)&&"[object String]"==T(e)}function ye(e){return"symbol"==g(e)||_e(e)&&"[object Symbol]"==T(e)}function Ce(e){return e?(e=Re(e))===qe||e===-qe?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function we(e){var t=(e=Ce(e))%1;return e==e?t?e-t:e:0}function Re(e){if("number"==typeof e)return e;if(ye(e))return Ue;if(he(e)&&(e=he(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(Ke,"");var t=Ze.test(e);return t||Qe.test(e)?ot(e.slice(2),t?2:8):Ye.test(e)?Ue:+e}function xe(e){return G(e,Ae(e))}function ke(e){return null==e?"":L(e)}function Te(e,t,a){return(e=null==e?Be:x(e,t))===Be?a:e}function Ee(e,t){return null!=e&&Q(e,t,I)}function Ie(e){return ge(e)?P(e):V(e)}function Ae(e){if(ge(e))e=P(e,!0);else if(he(e)){var t,a=oe(e),o=[];for(t in e)("constructor"!=t||!a&&_t.call(e,t))&&o.push(t);e=o}else{if(t=[],null!=e)for(a in Object(e))t.push(a);e=t}return e}function De(e){return null==e?[]:function(e,t){return s(t,(function(t){return e[t]}))}(e,Ie(e))}function Oe(e){return function(){return e}}function Ve(e){return e}function Se(e){return O("function"==typeof e?e:R(e,1))}function Le(e){return ae(e)?function(e){return function(t){return null==t?Be:t[e]}}(ie(e)):function(e){return function(t){return x(t,e)}}(e)}function Ne(){return[]}function Me(){return!1}function Fe(){}var Be,qe=1/0,Ue=NaN,Ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/^\s+|\s+$/g,We=/\\(\\)?/g,Je=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,Ze=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var at,ot=parseInt,st="object"==g(e)&&e&&e.Object===Object&&e,nt="object"==("undefined"==typeof self?"undefined":g(self))&&self&&self.Object===Object&&self,it=st||nt||Function("return this")(),rt="object"==g(a)&&a&&!a.nodeType&&a,ct=rt&&"object"==g(t)&&t&&!t.nodeType&&t,dt=ct&&ct.exports===rt,lt=dt&&st.process;e:{try{at=lt&&lt.binding&&lt.binding("util");break e}catch(d){}at=void 0}var ut,mt=at&&at.isMap,bt=at&&at.isSet,gt=at&&at.isTypedArray,ft=Array.prototype,pt=Object.prototype,vt=it["__core-js_shared__"],ht=Function.prototype.toString,_t=pt.hasOwnProperty,Pt=(ut=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",jt=pt.toString,yt=ht.call(Object),Ct=RegExp("^"+ht.call(_t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=dt?it.Buffer:Be,Rt=it.Symbol,xt=it.Uint8Array,kt=wt?wt.a:Be,Tt=u(Object.getPrototypeOf),Et=Object.create,It=pt.propertyIsEnumerable,At=ft.splice,Dt=Rt?Rt.isConcatSpreadable:Be,Ot=Rt?Rt.toStringTag:Be,Vt=function(){try{var e=$(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),St=Object.getOwnPropertySymbols,Lt=wt?wt.isBuffer:Be,Nt=u(Object.keys),Mt=Math.max,Ft=Date.now,Bt=$(it,"DataView"),qt=$(it,"Map"),Ut=$(it,"Promise"),Gt=$(it,"Set"),Ht=$(it,"WeakMap"),zt=$(Object,"create"),Kt=re(Bt),Wt=re(qt),Jt=re(Ut),Yt=re(Gt),Zt=re(Ht),$t=Rt?Rt.prototype:Be,Qt=$t?$t.valueOf:Be,Xt=$t?$t.toString:Be,ea=function(e){return he(e)?Et?Et(e):(Fe.prototype=e,e=new Fe,Fe.prototype=Be,e):{}};f.prototype.clear=function(){this.__data__=zt?zt(null):{},this.size=0},f.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},f.prototype.get=function(e){var t=this.__data__;return zt?"__lodash_hash_undefined__"===(e=t[e])?Be:e:_t.call(t,e)?t[e]:Be},f.prototype.has=function(e){var t=this.__data__;return zt?t[e]!==Be:_t.call(t,e)},f.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=zt&&t===Be?"__lodash_hash_undefined__":t,this},p.prototype.clear=function(){this.__data__=[],this.size=0},p.prototype.delete=function(e){var t=this.__data__;return!((e=C(t,e))<0||(e==t.length-1?t.pop():At.call(t,e,1),--this.size,0))},p.prototype.get=function(e){var t=this.__data__;return(e=C(t,e))<0?Be:t[e][1]},p.prototype.has=function(e){return-1<C(this.__data__,e)},p.prototype.set=function(e,t){var a=this.__data__,o=C(a,e);return o<0?(++this.size,a.push([e,t])):a[o][1]=t,this},v.prototype.clear=function(){this.size=0,this.__data__={hash:new f,map:new(qt||p),string:new f}},v.prototype.delete=function(e){return e=Z(this,e).delete(e),this.size-=e?1:0,e},v.prototype.get=function(e){return Z(this,e).get(e)},v.prototype.has=function(e){return Z(this,e).has(e)},v.prototype.set=function(e,t){var a=Z(this,e),o=a.size;return a.set(e,t),this.size+=a.size==o?0:1,this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},h.prototype.has=function(e){return this.__data__.has(e)},_.prototype.clear=function(){this.__data__=new p,this.size=0},_.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},_.prototype.get=function(e){return this.__data__.get(e)},_.prototype.has=function(e){return this.__data__.has(e)},_.prototype.set=function(e,t){var a=this.__data__;if(a instanceof p){var o=a.__data__;if(!qt||o.length<199)return o.push([e,t]),this.size=++a.size,this;a=this.__data__=new v(o)}return a.set(e,t),this.size=a.size,this};var ta=function(e,t){if(null==e)return e;if(!ge(e))return function(e,t){return e&&aa(e,t,Ie)}(e,t);for(var a=e.length,o=-1,s=Object(e);++o<a&&!1!==t(s[o],o,s););return e},aa=function(e,t,a){for(var o=-1,s=Object(e),n=(a=a(e)).length;n--;){var i=a[++o];if(!1===t(s[i],i,s))break}return e},oa=Vt?function(e,t){return Vt(e,"toString",{configurable:!0,enumerable:!1,value:Oe(t),writable:!0})}:Ve,sa=St?function(e){return null==e?[]:(e=Object(e),o(St(e),(function(t){return It.call(e,t)})))}:Ne,na=St?function(e){for(var t=[];e;)n(t,sa(e)),e=Tt(e);return t}:Ne,ia=T;(Bt&&"[object DataView]"!=ia(new Bt(new ArrayBuffer(1)))||qt&&"[object Map]"!=ia(new qt)||Ut&&"[object Promise]"!=ia(Ut.resolve())||Gt&&"[object Set]"!=ia(new Gt)||Ht&&"[object WeakMap]"!=ia(new Ht))&&(ia=function(e){var t=T(e);if(e=(e="[object Object]"==t?e.constructor:Be)?re(e):"")switch(e){case Kt:return"[object DataView]";case Wt:return"[object Map]";case Jt:return"[object Promise]";case Yt:return"[object Set]";case Zt:return"[object WeakMap]"}return t});var ra,ca,da,la,ua,ma,ba=(la=oa,ma=ua=0,function(){var e=Ft(),t=16-(e-ma);if(ma=e,0<t){if(800<=++ua)return arguments[0]}else ua=0;return la.apply(Be,arguments)}),ga=(da=(ca=ue(ca=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ze,(function(e,a,o,s){t.push(o?s.replace(We,"$1"):a||e)})),t},(function(e){return 500===da.size&&da.clear(),e}))).cache,ca),fa=(ra=ce,function(e,t,a){var o=Object(e);if(!ge(e)){var s=Y(t,3);e=Ie(e),t=function(e){return s(o[e],e,o)}}return-1<(t=ra(e,t,a))?o[s?e[t]:t]:Be});ue.Cache=v;var pa,va=A(function(){return arguments}())?A:function(e){return _e(e)&&_t.call(e,"callee")&&!It.call(e,"callee")},ha=Array.isArray,_a=Lt||Me,Pa=mt?d(mt):function(e){return _e(e)&&"[object Map]"==ia(e)},ja=bt?d(bt):function(e){return _e(e)&&"[object Set]"==ia(e)},ya=gt?d(gt):function(e){return _e(e)&&ve(e.length)&&!!et[T(e)]},Ca=H((function(e,t,a){S(e,t,a)})),wa=H((function(e,t,a,o){S(e,t,a,o)})),Ra=ba(ne(pa=function(e,t){var a={};if(null==e)return a;var o=!1;t=s(t,(function(t){return t=M(t,e),o=o||1<t.length,t})),G(e,J(e),a),o&&(a=R(a,7,z));for(var n=t.length;n--;)N(a,t[n]);return a},Be,de),pa+"");b.constant=Oe,b.flatten=de,b.iteratee=Se,b.keys=Ie,b.keysIn=Ae,b.memoize=ue,b.merge=Ca,b.mergeWith=wa,b.negate=me,b.omit=Ra,b.property=Le,b.reject=function(e,t){return(ha(e)?o:function(e,t){var a=[];return ta(e,(function(e,o,s){t(e,o,s)&&a.push(e)})),a})(e,me(Y(t,3)))},b.toPlainObject=xe,b.values=De,b.cloneDeep=function(e){return R(e,5)},b.cloneDeepWith=function(e,t){return R(e,5,t="function"==typeof t?t:Be)},b.eq=be,b.find=fa,b.findIndex=ce,b.get=Te,b.has=function(e,t){return null!=e&&Q(e,t,E)},b.hasIn=Ee,b.identity=Ve,b.includes=function(e,t,a,o){if(e=ge(e)?e:De(e),a=a&&!o?we(a):0,o=e.length,a<0&&(a=Mt(o+a,0)),je(e))e=a<=o&&-1<e.indexOf(t,a);else{if(o=!!o){if(t==t)e:{for(a-=1,o=e.length;++a<o;)if(e[a]===t){e=a;break e}e=-1}else e=r(e,c,a);o=-1<e}e=o}return e},b.isArguments=va,b.isArray=ha,b.isArrayLike=ge,b.isArrayLikeObject=fe,b.isBuffer=_a,b.isEmpty=function(e){if(null==e)return!0;if(ge(e)&&(ha(e)||"string"==typeof e||"function"==typeof e.splice||_a(e)||ya(e)||va(e)))return!e.length;var t=ia(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(oe(e))return!V(e).length;for(var a in e)if(_t.call(e,a))return!1;return!0},b.isEqual=function(e,t){return D(e,t)},b.isFunction=pe,b.isLength=ve,b.isMap=Pa,b.isNull=function(e){return null===e},b.isObject=he,b.isObjectLike=_e,b.isPlainObject=Pe,b.isSet=ja,b.isString=je,b.isSymbol=ye,b.isTypedArray=ya,b.last=le,b.stubArray=Ne,b.stubFalse=Me,b.toFinite=Ce,b.toInteger=we,b.toNumber=Re,b.toString=ke,b.VERSION="4.17.5",ct&&((ct.exports=b)._=b,rt._=b)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var a=e("../custom-lodash"),o=e("../version.json").version,s=a.cloneDeep,n=a.get,i=e("./item"),r=e("./listener"),c=e("./listenerManager"),d=e("./constants"),l=e("./utils/customMerge");t.exports=function(e){function t(e){v=l(v,e.data)}function a(e){function a(e){return 0===f.length||e.index>f.length-1?[]:f.slice(0,e.index).map((function(e){return i(e)}))}e.valid?{data:function(e){t(e),b.triggerListeners(e)},fctn:function(e){e.config.call(f,f)},event:function(e){e.data&&t(e),b.triggerListeners(e)},listenerOn:function(e){var t=r(e);switch(t.scope){case d.listenerScope.PAST:var o,s=u(a(e));try{for(s.s();!(o=s.n()).done;){var n=o.value;b.triggerListener(t,n)}}catch(e){s.e(e)}finally{s.f()}break;case d.listenerScope.FUTURE:b.register(t);break;case d.listenerScope.ALL:if(b.register(t)){var i,c=u(a(e));try{for(c.s();!(i=c.n()).done;){var l=i.value;b.triggerListener(t,l)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){b.unregister(r(e))}}[e.type](e):m(e)}function m(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var b,g=e||{},f=[],p=[],v={},h={getState:function(){return v},getDataLayer:function(){return f}};return Array.isArray(g.dataLayer)||(g.dataLayer=[]),p=g.dataLayer.splice(0,g.dataLayer.length),(f=g.dataLayer).version=o,v={},b=c(h),f.push=function(e){var t=arguments,o=arguments;if(Object.keys(t).forEach((function(e){var s=i(t[e]);switch(s.valid||(m(s),delete o[e]),s.type){case d.itemType.DATA:case d.itemType.EVENT:a(s);break;case d.itemType.FCTN:delete o[e],a(s);break;case d.itemType.LISTENER_ON:case d.itemType.LISTENER_OFF:delete o[e]}})),o[0])return Array.prototype.push.apply(this,o)},f.getState=function(e){return e?n(s(v),e):s(v)},f.addEventListener=function(e,t,o){a(i({on:e,handler:t,scope:o&&o.scope,path:o&&o.path}))},f.removeEventListener=function(e,t){a(i({off:e,handler:t}))},function(){for(var e=0;e<p.length;e++)f.push(p[e])}(),h}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var a={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):a.Manager({dataLayer:window.adobeDataLayer}),t.exports=a},{"./dataLayerManager":3}],5:[function(e,t){var a=e("../custom-lodash"),o=a.isPlainObject,s=a.isEmpty,n=a.omit,i=a.find,r=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),d=e("./constants");t.exports=function(e,t){var a=e,l=t,u=i(Object.keys(c),(function(e){return r(a,c[e])}))||"function"==typeof a&&d.itemType.FCTN||o(a)&&d.itemType.DATA,m=function(){var e=n(a,Object.keys(c.event));if(!s(e))return e}();return{config:a,type:u,data:m,valid:!!u,index:l}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var a=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&a.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var a=e("../custom-lodash").cloneDeep,o=e("./constants"),s=e("./utils/listenerMatch"),n=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(s(e,t)){var o=[a(t.config)];e.handler.apply(r.getDataLayer(),o)}}var i={},r=e,c=n.bind(null,i);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(i,t)?-1===c(e)&&(i[e.event].push(e),!0):(i[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(i,t))if(e.handler||e.scope||e.path){var a=c(e);-1<a&&i[t].splice(a,1)}else i[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case o.itemType.DATA:t.push(o.dataLayerEvent.CHANGE);break;case o.itemType.EVENT:t.push(o.dataLayerEvent.EVENT),e.data&&t.push(o.dataLayerEvent.CHANGE),e.config.event!==o.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(a){if(Object.prototype.hasOwnProperty.call(i,a)){var o,s=u(i[a]);try{for(s.s();!(o=s.n()).done;)t(o.value,e)}catch(a){s.e(a)}finally{s.f()}}}))},triggerListener:function(e,a){t(e,a)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var a=e("../../custom-lodash"),o=a.has,s=a.get;t.exports=function(e,t){for(var a=t.substring(0,t.lastIndexOf("."));a;){if(o(e,a)&&null==s(e,a))return!0;a=a.substring(0,a.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var a=e("../../custom-lodash"),o=a.cloneDeepWith,s=a.isObject,n=a.isArray,i=a.reject,r=a.mergeWith,c=a.isNull;t.exports=function(e,t){return r(e,t,(function(e,t){if(null==t)return null})),function(e,t){return o(e,(a=1<arguments.length&&void 0!==t?t:function(e){return!e},function e(t){if(s(t)){if(n(t))return i(t,a).map((function(t){return o(t,e)}));for(var r={},c=0,d=Object.keys(t);c<d.length;c++){var l=d[c];a(t[l])||(r[l]=o(t[l],e))}return r}}));var a}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var a=e("../../custom-lodash"),o=a.find,s=a.includes;t.exports=function(e,t){return void 0===o(Object.keys(t),(function(a){var o=t[a].type,n=a&&t[a].values,i=!t[a].optional,r=e[a],c=g(r),d=o&&c!==o,l=n&&!s(n,r);return i?!r||d||l:r&&(d||l)}))}},{"../../custom-lodash":1}],12:[function(e,t){var a=e("../../custom-lodash").isEqual;t.exports=function(e,t){var o=t.event;if(Object.prototype.hasOwnProperty.call(e,o)){var s,n=u(e[o].entries());try{for(n.s();!(s=n.n()).done;){var i=r(s.value,2),c=i[0],d=i[1];if(a(d.handler,t.handler))return c}}catch(e){n.e(e)}finally{n.f()}}return-1}},{"../../custom-lodash":1}],13:[function(e,t){function a(e,t){return!t.data||!e.path||o(t.data,e.path)||n(t.data,e.path)}var o=e("../../custom-lodash").has,s=e("../constants"),n=e("./ancestorRemoved");t.exports=function(e,t){var o=e.event,n=t.config,i=!1;return t.type===s.itemType.DATA?o===s.dataLayerEvent.CHANGE&&(i=a(e,t)):t.type===s.itemType.EVENT&&(o!==s.dataLayerEvent.EVENT&&o!==n.event||(i=a(e,t)),t.data&&o===s.dataLayerEvent.CHANGE&&(i=a(e,t))),i}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,a,o){"use strict";e.exports=function(){var e=o.getExtensionSettings();return window[e.dataLayerName]}}}}}},company:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",dynamicCdnEnabled:!1},property:{name:".Next BMW NSC",settings:{domains:["bmw.co.za","bmw.de"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR66f9ca7b31754d7795108262c6004998"},rules:[{id:"RL2c6939392d314e018a9e0e8ab109cdee",name:"TPT - BE - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2e7c307084194487933cff8d3db95d8e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL027025dd02e64a0bb676a7b7ab9f8937",name:"TPT - UK - AEM - Facebook - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC90017ab7fa18489d8100836b84519ed0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC408d764eeb5d4c3a80cc03b4ef1f863c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL62013531cf244f6dadd02e6354b48a83",name:"TPT - IT - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2b36651695f445eeb6c34f19e14a9757-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcdf53eada7c5483397c831b268b42eb2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe73b6266c29f40ea8f1cfd97c2cc2acc",name:"TPT - AT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8b4c96aeec85402498ab73e09a442f32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL88f311623c1d4c98817afdd32610b532",name:"PLR - ZA - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("consentMap");return"true"==("true"==_satellite.getVar("splitConsentEnabled")?consentcontroller.api.isUsageAllowed(t.campaignCookieTracking).toString():_satellite.getVar("isRegulationAccepted_Tags"))}catch(t){_satellite.logger.error("PLR - All - AEM - Custom Code - Campaign String to Cookie"+e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8400df3cb4ab4a48a24aba4128547170-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf057e10cbe3f4b0399d8d4ffe050ebd3",name:"TPT - CH - AEM - Doubelclick - SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC647499f751924b7d9de3187e0fae1f32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9f03bd0d09a94358a718ae0491ea73af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL18832d71e4bd43de822719bcd6624555",name:"TPT - ID - AEM - Facebook - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe7bd6573fd294fd1bbf86f07b097b3f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75ffd8125e3b476c98828ee873785909",name:"TPT - PL - AEM - AdWords - Broucher - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",elementProperties:[{name:"title",value:"RFI"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC64a88b3c00b441dc92a51002ab93e90b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc0ab8dc8173c4e67b0ce846767bb167c",name:"TPT - SK - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",
settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf898b626ecce4439b4c086f189426a30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6ed1043d0ff147c5abde919af91d1f8b",name:"TPT - SG - AEM - Adform - PML Online Shop - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.tw-flex.tw-relative.tab-bar-content > div > div:nth-child(2) > div > div > div:nth-child(5) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4f9d5c5759f74164b8df893713f5c3c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3fb43ae84fd4d33bd28f38ed621cbdc",name:"TPT - DE - AEM - Criteo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC41405646069e4607a74d6020751779fb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41316ad282d94bc590b3c208dabedb30",name:"DCR - All - AA - Custom Code - TRON Error Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON:electric range calculator",(function(t){_satellite.logger.log(t,"error register on Electric range calculator"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:all models list",(function(t){_satellite.logger.log(t,"error register on All Models List"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:dynamic disclaimer",(function(t){_satellite.logger.log(t,"error register on Dynamic disclaimer"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:visualizer",(function(t){_satellite.logger.log(t,"error register on Tron visualizer"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())}))}catch(e){_satellite.logger.error("TRON Error Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setTronDefaultVariableGeneric",e)(t),_satellite.setVar("errObj",""),t.events=t.apl(t.events,",event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events),t.linkTrackVars=t.apl(t.linkTrackVars,"events")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLa0a2f56deafe48a380ff3a012fd15ef1",name:"TPT - BE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2a2616b64cf943ba892701fc5263e5d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd26dbff2dcb84703b06aa53b826f6113",name:"TPT - UK - AEM - Facebook - iFrame Form ROI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5c55b10926df436581aaae11144d0f66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8c45f65683f4aa7995256c1e50f82b3",name:"TPT - JP - AEM - TradeDesk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8a8e14531ec94c54bdeef67a67175c9b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f6c10f2b70943069aa8953bd02f9a85",name:"TPT - IT - AEM - GTag DC/AW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1bd9298192c4421d81ea7c11999490f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL749a8b7b206d415998a38cf776ecbd34",name:"TPT - NL - AEM - GTag_DC - iFrame_NSF_Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9b8ed550abf34abf96203ba0c1191c75-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLec40579f295a4ff2bdcd28365ffe5e75",name:"TPT - PT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b36266f4a8448d9b2b4f4065c133782-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLad00e33cf6ab403ab2c141146eb1abe1",name:"TPT - BG - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe7d1628584f74ba88d47337d885c8514-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c1fb45e6a5847f69cc821c6303b1714",name:"TPT - GR - AEM - SizmekAds - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC603e0f928cb94ef698a4997c5cd6df87-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL549a1795601247849bcb699db2bd3994",name:"TPT - AT - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfc436e8a18024961a3e12bb43b56c029-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbf370c2956204a249765d33d17bb2507",name:"TPT - SE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2c3a96d1e0764d3ba7473300c39bc8ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9e22d6e4be8a46dc8324c7b8572c6457",name:"TPT - FR - AEM - Facebook - Mini DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC968c5749aa414ba7a57a976cf546a062-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfea5d721b371478bb241521bcf6d807a",name:"DCR - ALL - NSC - AA - Need Analyzer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_step"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier),$$$;var a,o,s,n,r,c=_satellite.getVar("snapshotDL"),d=c.get("event.-1.eventInfo.eventName"),l=(c.get("event.-1.eventInfo.effect"),c.get("event.-1.eventInfo.eventAction")),u=(c.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),""),m="nsc > ";t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setProductString")(t);var b=c.get("event.-1.attributes.relatedComponentID");if(c.get("event").length>1)for(i=0;i<c.get("component").length;i++){var g=i.toString();(c.get("component."+g+".componentInfo.componentID")==b||"datalayer field missing"==b&&"need_analyzer"==c.get("component."+g+".componentInfo.componentName"))&&(o=c.get("component."+g+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),a=c.get("component."+g+".componentInfo.componentID",c.get("component."+g+".componentInfo.componentId")),s=c.get("component."+g+".category.subCategory01"),c.get("component."+g+".category.componentType",c.get("component."+g+".componentInfo.componentType")),n=c.get("component."+g+".category.primaryCategory"),r=c.get("component."+g+".componentInfo.componentHeadline"))}else{var f=c.get("page.attributes.relatedComponentID");for(i=0;i<c.get("component").length;i++)g=i.toString(),(c.get("component."+g+".componentInfo.componentID")==f||"datalayer field missing"==f&&"need_analyzer"==c.get("component."+g+".componentInfo.componentName"))&&(o=c.get("component."+g+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),a=c.get("component."+g+".componentInfo.componentID",c.get("component."+g+".componentInfo.componentId")),s=c.get("component."+g+".category.subCategory01"),c.get("component."+g+".category.componentType",c.get("component."+g+".componentInfo.componentType")),n=c.get("component."+g+".category.primaryCategory"),r=c.get("component."+g+".componentInfo.componentHeadline"))}t.eVar34=d&&"object"!=typeof d?d:"datalayer field missing",t.eVar34.indexOf(m)<0&&(t.eVar34=m+t.eVar34),"error"==l.toLowerCase()?(t.prop56="error",t.prop53=d,t.eVar34=c.get("event.-1.category.primaryCategory"),t.prop52=c.get("event.-1.eventInfo.cause")):"datalayer field missing"!=l.toLowerCase()&&"datalayer field empty"!=l.toLowerCase()&&(t.prop56="interaction",t.prop53="ux",t.eVar34=t.eVar34+" clicked",t.prop52="default"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()?(t.prop55=r||"datalayer field empty",t.prop51=c.get("event.-1.eventInfo.cause")):("error"!=d.toLowerCase()&&(t.prop55=d),["share","error"].indexOf(l.toLowerCase())>-1&&"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(t.prop51=c.get("event.-1.eventInfo.effect"))),["call to action","more information"].indexOf(l.toLowerCase())>-1?t.prop57="internal click":t.prop57=l,t.eVar71=c.get("event.-1.eventInfo.target"),t.eVar151=c.get("page.attributes.pageHeadline"),t.eVar152=c.get("page.attributes.currentQuestion"),t.eVar153=c.get("page.attributes.previousQuestion"),t.eVar154=c.get("page.attributes.previousAnswer"),t.eVar155=c.get("page.attributes.previousWildcards"),t.eVar156=c.get("page.attributes.entryType"),t.eVar157=c.get("page.attributes.matchType"),t.prop19=t.prop3=t.prop54=o||"datalayer field empty",t.prop42="nsc website","internal click"==l.toLowerCase()?t.prop43=n||"datalayer field empty":"need_analyzer_step"==e.identifier?t.prop43=s||"datalayer field empty":t.prop43="teaser",t.prop13="bmw",t.prop1=c.get("page.pageInfo.pageName"),t.prop1.indexOf(m)<0&&(t.prop1=m+t.prop1),t.prop4=c.get("page.category.subCategory01",c.get("event.-1.attributes.relatedPageCategory.primaryCategory")),t.prop44=a||"datalayer field empty",t.eVar134="web",t.prop27=c.get("page.pageInfo.pageID"),t.prop5=c.get("page.category.subCategory02",c.get("event.-1.attributes.relatedPageCategory.primaryPurpose")),t.prop2=c.get("page.category.pageType",c.get("event.-1.attributes.relatedPageCategory.pageType")),t.prop28=c.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=c.get("page.pageInfo.devEnv"),c.get("event.-1.eventInfo.eventPoints")&&parseInt(c.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(c.get("event.-1.eventInfo.eventPoints")))?(parseInt(c.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(c.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+c.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=c.get("event.-1.eventInfo.eventPoints"),t.prop12=c.get("event.-1.eventInfo.timeStamp",c.get("event.-1.eventInfo.timestamp")),t.prop50=c.get("event.-1.eventInfo.element"),t.eVar65=c.get("product.-1.attributes.modelName"),t.eVar17=c.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 need analyzer",t.linkTrackVars+="prop56,prop53,prop52,prop55,prop51,prop57,eVar71,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136",u="event917,event918";var p=c.get("page.pageInfo.pageName"),v=c.get("page.pageInfo.pageTitle");"Need Analyzer: Start Page"==p||v+": "+p=="Need Analyzer: Start Page"?(u+=",event321,event322",t.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"):"Need Analyzer: My Perfect Match"!=p&&v+": "+p!="Need Analyzer: My Perfect Match"||(u+=",event323",t.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"),"start again"==d.toLowerCase()&&"start again"==l.toLowerCase()&&(u+=",event321,event322"),"share"==l.toLowerCase()&&(u+=",event905,event906"),"error"==l.toLowerCase()&&(u="event931,event932"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.linkTrackVars+=",eVar34"),t.events=t.apl(t.events,u),t.linkTrackEvents=t.apl(t.linkTrackEvents,u),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1)}catch(a){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(a)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLd87d029bd7cd4284996f6bc9822b4a68",name:"TPT - SK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd39d042385184671afba93fdffbc80d1-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC55ae5f80d9b14055a851e3f5dd580674-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL4e4fbd4662a14b92ace876384b5bb4b7",name:"TPT - AT - AEM - Adform - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4dfbeee870f941ae8dc8e45806bd34ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c5fb590fffa451b982fb0962732cd14",name:"TPT - RO - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5c67fb5f43b04aa2befd7ef0d56d408e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL083a361b9bf84624a5ca7dccf6debf57",name:"TPT - SK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9f60578154af4299b7568bf2a094d1c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL513b18e1f9944575b13dfc8c63f02169",name:"TPT - DK - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbfe08f33b3104555ac23bd9b1f57e76b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf14526fef3e8430a925ffe03b8921346",name:"TPT - DK - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd3c23b1f5c424101a3561343814735b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL39808b22e39346ccabf9245eaba0e85f",name:"TPT - SG - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC09069de16d7a4da7abb7997c14199270-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc94f915385934afe8f211cb7759540e8",name:"TPT - TH - AEM - GtagAW - Multiple - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2968daa0a56d4fb8b73376182e85e116-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL02342b99007845faa58cd061cfade63d",name:"DCR - DE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4833931efd8f4c9198f08ebcd1a3add6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8d96db28f6d740208183269514dd285e",name:"TPT - DK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC32082dab51a441b291dc2957d4705156-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb3e3cb5fb3124185b6eb343351eb48ac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9236d3ee640c4a30b09b58e2b6a92896-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb504b33eb6f44ff787c416ce6637e93c",name:"TPT - AT - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6e00d9d7319246a8b824d3c3a4c3d567-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL97e52361569a4c5c988fd260ae6142d4",name:"TPT - LU - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb435bcb98c64176990afc3e1fcc31b5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0486af0fce9d4700b68d6e841b3ef62e",name:"TPT - SI - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb92eb8f12f8e40d0a40c85fd423f8f99-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLefa77d965d084b27bd3f20297e7f2ea6",name:"TPT - SI - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCecbcc22370464fb694effe22427a18af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf490746da841403e8d154030b50f3088",name:"TPT - UK - AEM - Adform - iFrame Motability Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2662_rfc.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC29e18d87d2784016a47c6136606ead84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7c36e7eecacd494b93430cf5ec7dd7cb",name:"TPT - ZA - AEM - VeInteractive - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2015/start.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2d9527782b594634adc334e3359eaa5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc5843c8949fb4ce29b0a5b9dee081ab2",name:"TPT - FI - AEM - Adwords - Retailers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".buttonLarge.ds2-tracking-js--event",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t|Retailers",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2bac3b03e0344a1eaee76f95315a7cde-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe54915b32fe94fa1889c713d7588f7ff",name:"TPT - GR - AEM - IgnitionOne - iFrame Forms RFC - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbe743a049c3241bdbcecb4edf30aad84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf577af96f3164068a038d028936e1476",name:"TPT - FI - AEM - Adform - Brochure Download - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2f8d1f2ed2f54d2e81602bcc8a95226f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe087115079624db58b2bd69ae431ea11",name:"TPT - NL - AEM - Adwords - Form Navigation Submit Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{
window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){console.log("Reading Message - Executed");var a=JSON.parse(t.data),o=a.args[1];console.log("Reading Message - DataArg"+a),console.log("Reading Message - DataArg"+o),"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5d5878b3a05d4f1db5ddd1ed4d80e006-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL31b33dde3ef34095a80c1e31c47f53b5",name:"TPT - PL - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCef750d205fed4140bbd6e700d7145af5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd175bb2d30834ce7bae4ba6437767884",name:"TPT - DK - AEM - Adform - Kampagne Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Priser",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Specialmodeller",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Find forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1ffe73874ba64f509a19e98cc0f94e10-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee751263cdd5423e91f47a0ab3c3f099",name:"TPT - HU - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa05dab3dd5f243c388af729b4889eac1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb354a88a1794428b4824e7dba606647",name:"TPT - DE FR IT ES NL AT PL CH - AEM - Usabilla - Adhoc Survey - DCS Customer Survey MINI",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"URL"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t=(_satellite.getVar("snapshotDL"),_satellite.getVar("URL"));return t.indexOf("/shop/dcs/")>-1&&t.indexOf("/confirmation/")>-1&&("mini.de"==e||"mini.fr"==e||"mini.it"==e||"mini.es"==e||"mini.nl"==e||"mini.at"==e||"mini.com.pl"==e||"mini.ch"==e)}catch(e){var a={from:"TPT",type:"Condition",name:"TPT - DE FR IT ES NL AT PL CH - AEM - Usabilla - Adhoc Survey - DCS Customer Survey MINI"};_satellite.logger.error(e,a)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2d2c8994184b495c94e121925023b011-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLea3fdc7e7484496ebc51783db7dfc465",name:"TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC015af5d99910486aa3ade69933d923c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63ba7963274d4df1b78007bf92fbce5f",name:"TPT - HU - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf408b411865e4529b790f27513009d39-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa70a4238cf1c446fbf15432792ada986",name:"TPT - NL - AEM - Gtag - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC880d29ea992c49818627e98508d043c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb842ec39b0bc4fff85a4dcacaa316c50-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL403c3dc7972b40dba72e42eafe748889",name:"TPT - ZA - AEM - Adform - Buy Now Btn - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/topics/fascination-bmw/buy-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC55839157e8344941b21740f7d244650b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa066e21550824c3fa22ebc86b3698d9c",name:"TPT - SI - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC01ddfacd6727447497d8e95edb319553-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL77ae271d30274eb789d7b1c109f2ceb4",name:"TPT - UK - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb95297a9ed7143cbb5d8ed8956086d65-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1eafd97a860a432ebf1390695648dc89",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5a2e4cef99d84ba88dcda577b3e4b1bc-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3f639fc80d4a4d039ebf312f6fdb5ed1",name:"TPT - SE - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.se/sv/ssl/sok-aterforsaljare-serviceverkstad.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-hoest-vinter-tillbehoer.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC282240427e68420a9ea6025e0e5b4cfc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL917db3acd76446a48978eb47d53de3d9",name:"TPT - MX - AEM - Applink - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcdf9ad8909e64a57819f2df6b0ffb660-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c95d6c87ab5449bbb9f0dea7485b398",name:"TPT - ZA - AEM - Adform - PriceList and Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdea282ec9fc5479fb37e42f69affb78c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2793367c12964ebaa66bffbf75867216",name:"TPT - HU - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfab9f2c616d041b4a290dacec121b76e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc0e3c766ce374afd9c6b6fb8a81815b8",name:"TPT - ES - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb69fe947da0e444cbaebfaf756750978-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9eac2cb89e6d48efa2aa4be6b450249f",name:"TPT - UK - AEM - GTagDC - iframe_forms_auc - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_auc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5b8a01ba7b4e41738750d834f12ca72c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b959981d57d4a2d98d68e7275c1d510",name:"HT - All - NSC - All - Custom Code - RegisterOnConsentChange",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var currentRuleName = event.$rule.name;\n    var privacyManager = _satellite.getVar('KIT-helpers').privacyManager;\n    var cache = _satellite.getVar('KIT-helpers').cache;\n    var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n    var ENUM_USER_CONSENT = {\n        \"GIVEN\": \"GIVEN\",\n        \"REVOKED\": \"REVOKED\",\n        \"UNKNOWN\": \"UNKNOWN\"\n    };\n\n    var handleSplitConsentMarkets = function() {\n        var consentMap = _satellite.getVar('consentMap');\n\n        //Register for Adobe Analytics consent change\n        privacyManager.registerOnConsentChange(consentMap.AdobeAnalytics, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AdobeAnalytics);\n                adobe.optIn.approve(adobe.OptInCategories.ECID);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS);\n                smartPreviousValueManager.saveDeferredObject();\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AdobeAnalytics);\n                cache.set('analyticsConsentRejected', 'true');\n                //moved to AA custome code plugin in registerPostTrackCallback function                \n                //adobe.optIn.deny(adobe.OptInCategories.ECID);\n                //adobe.optIn.deny(adobe.OptInCategories.ANALYTICS);\n            }\n        });\n        //Register for Adobe Target consent change\n        privacyManager.registerOnConsentChange(consentMap.Target, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.Target);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.Target);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET);\n            }\n        });\n        //Register for AAM consent change\n        privacyManager.registerOnConsentChange(consentMap.AAM, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AAM);\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AAM);\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n            }\n        });\n        //nothing needs to be done for TPTs on split consent markets as re-triggerring is handled by p15r\n    }\n\n    var handleNonSplitConsentMarkets = function() {\n        var CATEGORY_ENUM = {\n            'ANALYTICS': 'advertising'\n        };\n        privacyManager.registerOnConsentChange(function(consent, category) {\n            if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- ECID, AA and AT');\n                adobe.optIn.approve(adobe.OptInCategories.ECID, true);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET, true);\n                _satellite.logger.log('Approving the consent for- AAM');\n                adobe.optIn.approve(adobe.OptInCategories.AAM, true)\n                adobe.optIn.complete();\n                smartPreviousValueManager.saveDeferredObject();\n                _satellite.getVar('Trigger-AnalyticsConsentChangeEvent')();\n                _satellite.getVar('Trigger-pageLoadTPT')(currentRuleName);\n            } else if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- ECID, AA and AT');\n                adobe.optIn.deny(adobe.OptInCategories.ECID, true);\n                adobe.optIn.deny(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET, true);\n                _satellite.logger.log('Revoking the consent for- AAM');\n                adobe.optIn.deny(adobe.OptInCategories.AAM, true)\n                adobe.optIn.complete();\n                _satellite.getVar('clearCookies')();\n            }\n        });\n    }\n\n    if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_SPLIT)\n        handleSplitConsentMarkets();\n    else if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_NON_SPLIT)\n        handleNonSplitConsentMarkets();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: currentRuleName\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLaae00807f55c4be39a2978e65684c974",name:"TPT - UK - AEM - GTagDC - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC03f4bc6b6dd14b2ca130d1b1a58c9a91-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb55f0b07bb441d68de27b56f376be30",name:"TPT - DK - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".yp-grid-element-container.col-xs-6.col-sm-4.col-md-4.col-lg-4",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC08409cf0be724cff9f9820ab3e8be6cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbaed8a12a9fc4fae9b9dc795bcca49b7",name:"TPT - CA - AEM - RAPID RTC Online Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1245d51a29484ad28d3301dd06f977d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC83963e39b3ae4e248f782dd534f9cddd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL04a5cd21ec914233994b73779e20b0ae",name:"TPT - AT - AEM - Pinterest - iFrame TDA Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8e56fb3cd03e418c96fe1921212604c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL533a16e3c2964c9b8d55a549104c69c2",name:"TPT - DE - AEM - Adwords - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a10c4d1c134464d8f88681c7cfa0a01-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96d7ae7ee51d402caa06796a9ea6f98a",name:"TPT - RU - AEM - DoubleClick - Need Analyzer Extended - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d3a3b197a884965aab92bcea94d6703-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8a2aa92bcd34cd6a93cc169f4643a73",name:"TPT - SK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC80bcddd4c20846dab46e65c06c1e7e23-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f806634f89148a483096db05598a689",name:"TPT - IE - AEM - Adform - Download Brochure - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Brochure Download']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfee4ad3bb7f34c98b26b2a0f79811503-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5ccc5bec0a7a414091bd108056828a2a",name:"TPT - UK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb55205c22c744d1db9d444903a800fd2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe90c775c3cd24787a3085a1cf4814b9b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL056d19040b864d0c88217f80ce656901",name:"TPT - IT - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd47911d23e274c0bbbd91df69411b016-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2df3fc092b434ff0a691a21d3531dee4",name:"TPT - HU - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC73994eaf16e940fbb28da2182664c379-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL379d5aa742c044e69646804b1d40ec64",name:"TPT - UK - AEM - Facebook - iFrame RFC Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6be71ae75c39452e9b4059c4eafab056-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b6cf3e99601419bb33f185adaf57aca",name:"TPT - CH - AEM - GTagDC - Dealer Selector - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa614598c9ffc4e7f9c4f8dd1e31231c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b3510a8b11e4259893d368cd07bf185",name:"TPT - IE - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb29fb8e7e3d44bfa071b7d53c0e024d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4889b59f403d43b89e9826b8f504870d",name:"TPT - SE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9a6d63a2f6a34bf6bbaa62095c668b75-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0219da911b204f50afda1e587a431e8e",name:"TPT - IE - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc3cb359fdcae4b059249ce9c3fa74ab5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaca646e27488463da8202cb760258d89",name:"TPT - MY - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC974b9b12653a43f5936cb17be155b6f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81b9bd0f2cf442a99f47edad22140992",name:"TPT - AT - AEM - Facebook - BMW Prime - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://meinprime.bmw.at"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-prime/prime.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe5ecdeef82c94a238dd9164291d5ebbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80b36cb8c92e44d7b43578038d61b38a",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli BMW Bus Demo - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_bmw_bus_demo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1656d0e86e7543c7a3efd026d71d97e3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL459815baa4924caca031405cd7c6805d",name:"TPT - BR - AEM - DoubleClick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3a08e2143d0e4e9fa75780c7ad4a9efa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf91c1571194e461cab04ffcbb4556260",name:"TPT - UK - AEM - Adwords - Form Submit - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9139ff62441a447cb8525267e44e8204-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7feea09357894309824708181d993d90",name:"TPT - PL - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe3c4c1c699af4b428d0530750276f022-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b2c83d7891f4e9a83a37ce10ba536f2",name:"TPT - KR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1fc03a4d1210484b9b602eae9258a31c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4d1632bcb8e4cd4bb52117741184e06",name:"TPT - NL - AEM - GTagDC - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b36bef513584576b4ead43010e37ecd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa89c2480e5274bf0b4fc06a7cfa51956",name:"TPT - DE - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neuwagensuche.html",valueIsRegex:!0},{value:"/de/publicPools/search-results/search-results.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d958fb0b810420487ad3f380fcf70f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2c65d86f97d64db599c8d436849904b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f70432d4c3849ffaba091a774d7d491",name:"TPT - AU - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5ab778510b944b86b8126318a9522185-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLefc8b889d86e4251a10fda7a8f3067f2",name:"TPT - PL - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pl/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2efd5a65417c4548b3c2c1ea27887527-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5d45f656ea1f4057949d50b4e703e484",name:"TPT - FR - AEM - Facebook - Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe86cba69e6f24f4e971dc3b687b8ee5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL66f8680634e84fa18e1c0307e9cb6964",name:"TPT - RO - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC04cdaf75b426430788cb01678f48a2ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbea769322e724c52a0a5df25e89e33b0",name:"DCR - All - AEM - AA - Stock Locator Page",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var o=_satellite.getVar("snapshotDL");t.prop27=o.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",o.get("page.pageInfo.pageID")),t.eVar135=o.get("page.pageInfo.sysEnv"),t.prop50="page title",t.prop17=t.prop44=t.eVar71=t.prop54=t.prop11=t.prop7=t.prop8=t.prop6=t.prop55=t.prop51=t.prop24=t.prop52=t.eVar34=t.prop57=t.prop56=t.prop58=t.prop12=t.prop53=t.eVar23=t.eVar24="","undefined"==t.products&&(t.products=""),t.prop1=o.get("page.pageInfo.pageName"),t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "),t.pageName=t.prop1,a.update("pageName",t.prop1,!0),t.prop42="stock locator",t.prop43=-1!=o.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator")?"used car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat;var s=o.get("component.0.componentInfo.componentName");t.prop19="digital > new car stock locator"===s?"central new\xa0car stock locator":"central used\xa0car stock locator",a.update("componentSubcategory1",t.prop43,!0),a.update("url",t.eVar4,!0),a.update("pageSubCategory01",t.prop4,!0),t.eVar14=a.get("url"),t.prop31=a.get("pagePrimaryCategory"),t.prop32=a.get("pageSubCategory01"),t.prop33=a.get("pageName"),t.eVar28=a.get("componentSubcategory1")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL84f44ddf46744e18932e7503098f211a",name:"TPT - HU - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeb247a2e910c41a99568baa5d1b9d7c5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc8408e4ccd64b06bf08daa45f9ac01d",name:"TPT - CH - AEM - Adwords - SaveConfig - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[data-bm-safe-click="saveVehicleToGarage()"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6328abba2d4a49dcbeeb65e2d4795d79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL685f6d5b6a244cf7a73fc4172d082a61",name:"TPT - RU - AEM - Clever Data - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0},{value:"m122.bmw-int6.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC275824d954b640739008b52c8bade516-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e2aae44261249d9ab8fa733598163ce",name:"TPT - IE - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6079ba45853b444ab10f04f719767e9a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b8cf71d3fba4727ae28253bd497af24",name:"TPT - CZ - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC42751556277146d4b574de18db04004f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ec42184e67a4ae38eb21c765f8bfa37",name:"TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb094377415c844cea0add0f9b962d7d7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb45d68fe73b4c9682bdc30214262d2b",name:"TPT - GR - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2ab9afd1db2c4d7aa767a4c200dfb8d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL15c4f6a06c0549f1b754049eb9e469a8",name:"TPT - BR - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCad2a55d346f94f5dac0b650d21b36142-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fd2052b73c4422b929aacf15f071b90",name:"TPT - SE - Multiple - Usabilla",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SE"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdf013905cca94d7caf29234780bcd152-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL312751f1d30643aabdb69c17e765bfb0",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Collect - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_collect"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3300d3a3ecf84d75b3b746d64485f3d5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59a9815c52174da194ba4924eba07804",name:"TPT - SE - AEM - WebChat - All Pages- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6e1d5c74e8284367b72d271ecfd056e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLadd7978d949243e2bc1e2a022a92f9ef",name:"TPT - MX - AEM - GoogleSearch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbfd89003ec2d413a8ba3a136ddf77c14-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLec18bb6a19ab4f4c9bab065fec13acb3",name:"TPT - DE - AEM - Facebook - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3f8e1003e2e94cfb8396a928778a9eea-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d41e9be106f4f78849c1f4c74653951",name:"PLR - All - NSC - All - Custom Code - Cookie Transfer",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-cookie-transfer",(function(){e()}))}catch(e){_satellite.logger.error("PLR: Cookie consent transfer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.in"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1||"true"!=_satellite.getVar("splitConsentEnabled")}catch(e){var a={from:"AA",type:"Data Element",name:"AA-conWithoutConsentController"};_satellite.logger.error(e,a)}}},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd404c9e7e24b4a649e098e68815a3f05-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL77a0f34e924640f2bf7ae3a7cfb2725f",name:"TPT - IT - AEM - Xcally Chat - Multiple- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2c67b13801b94e12ac2ac41aeb0bf5cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL727db9db0c8e4b79bee1a1443a05ff7b",name:"TPT - RO - AEM - Adwords - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfb96aa4e4f3d428eb1e2a8815c2a8793-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7b3582594226400ba661d31737b2697c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8acb5fce57364fbd8714baeea967f219",name:"TPT - DE - AEM - Adobe Campaign Pixel - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd86ae2c6f1d345bf9af68ee93abba43a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24fbbaee19264fb2ab3012a9272cff65",name:"TPT - BG - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdeedc32a67084ec19ef89d7e1898d8be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28b70fbd72ce48d58332420758283180",name:"PLR - All - AEM - AA - Trigger Central Forms",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC28c4634888f04a8981acbcc1f7d3dedc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3c376f38a994008ba08fbd47585a1db",name:"TPT - RU - AEM - DoubleClick - Started TDA - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7103544f108d45178781639a2193af32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f94904804b04704a86ce43f57e9c21b",name:"TPT - PL - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40827caee8294418a106b90bec5768d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0908b4791b824e8aba320a144dd4ff68",name:"TPT - NO - AEM - Adform - Salesbar Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0},{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCae5529c7212448a89b843f1e4a6f58cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb303e5da2db441caa51e90b4f0c0173c",name:"TPT - CZ - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab873883231a46c397d840373562d011-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL543f524b3414489c842c61569a701fd6",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6cf5f3b1950f4db1b70d117b06c0dacc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3d96cfcee3b8403aac6a157812b384a3",name:"TPT - SG - AEM - Adform - Price list Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".is-sticky.ds2-sticky-sales-bar--uxn.is-visible > ul > li:nth-child(3) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa989d07f41d84e1c91d53d432b6d6e43-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL55de74479bff4c3baace7f5bc4c4356f",name:"TPT - ID - AEM - Adwords - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7eca41a9825546b58cca8fabf8d4ab4e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd84a847d9b444c23b8630c98dddbaba6",name:"EBR - CA - iFrame - AA - ACS Click Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var a=JSON.parse(t.data);a.detail&&a.detail.custom&&Object.keys(a.detail.custom)&&Object.keys(a.detail.custom).length&&(_satellite.setVar("acs_event_data",a),e())}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}else _satellite.logger.log("no data in event object",t)}))}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("acs_event_data").detail,o=a.event.length?a.event[a.event.length-1].eventInfo.eventAction:"datalayer field empty",s=a.event.length?a.event[a.event.length-1].eventInfo.eventName:"datalayer field empty",n=a.event.length?a.event[a.event.length-1].eventInfo.type:"datalayer field empty",i=a.event.length?a.event[a.event.length-1].eventInfo.timeStamp:"datalayer field empty",r=a.event.length?a.event[a.event.length-1].eventInfo.cause:"datalayer field empty",c=a.event.length?a.event[a.event.length-1].eventInfo.effect:"datalayer field empty",d=a.event.length?a.event[a.event.length-1].eventInfo.eventPoints:"datalayer field empty",l=a.component.length?a.component[a.component.length-1].componentInfo.componentID:"datalayer field empty",u=a.component.length?a.component[a.component.length-1].componentInfo.componentName:"datalayer field empty",m=a.component.length?a.component[a.component.length-1].category.componentType:"datalayer field empty",b=a.component.length?a.component[a.component.length-1].category.primaryCategory:"datalayer field empty",g=a.component.length?a.component[a.component.length-1].category.subCategory1:"datalayer field empty",f=(a.component.length&&a.component[a.component.length-1].category.subCategory2,_satellite.getVar("productBuilder")),p=_satellite.getVar("productBuilder");if(a.custom&&a.custom.event&&a.custom.event.length&&null!=a.custom.event[a.custom.event.length-1].attributes&&null!=a.custom.event[a.custom.event.length-1].attributes.search){var v=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].label:"datalayer field empty",h=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].term:"datalayer field empty",_=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].state:"datalayer field empty",P=a.custom.event.length?a.custom.event[a.custom.event.length-1].attributes.search[0].unit:"datalayer field empty";f.category="vehicle",f.id="datalayer field missing",f.merchEvars={eVar31:_,eVar30:P,eVar32:v,eVar33:h?h.toString():h}}if(a.custom&&a.custom.product&&a.custom.product.length)for(var j=0;j<a.custom.product.length;j++){if(a.custom.product[j].category&&"service"===a.custom.product[j].category.productType){var y=a.custom.product[j].category.productType||"datalayer field empty",C=(a.custom.product[j].category.primaryCategory,a.custom.product[j].category.subCategory1,a.custom.product[j].productInfo.productName,a.custom.product[j].productInfo.productID||"datalayer field empty"),w=a.custom.product[j].attributes.fin.downPayment||"datalayer field empty",R=a.custom.product[j].attributes.fin.monthlyPayment||"datalayer field empty",x=a.custom.product[j].attributes.fin.term||"datalayer field empty",k=a.custom.product[j].attributes.fin.annualMileage||"datalayer field empty";f.category=y,f.id=C,f.merchEvars={eVar84:w?w.toString():w,eVar85:k?k.toString():k,eVar86:R?R.toString():R,eVar87:x?x.toString():x}}if(a.custom.product[j].category&&"vehicle"===a.custom.product[j].category.productType){var T=a.custom.product[j].category.productType||"datalayer field empty",E=a.custom.product[j].category.primaryCategory||"datalayer field empty",I=a.custom.product[j].category.subCategory1||"datalayer field empty",A=a.custom.product[j].productInfo.productName||"datalayer field empty",D=a.custom.product[j].productInfo.productID||"datalayer field empty",O=a.custom.product[j].productInfo.manufacturer||"datalayer field empty",V=a.custom.product[j].attributes.modelCode||"datalayer field empty",S=a.custom.product[j].attributes.hybridVersion||"datalayer field empty",L=a.custom.product[j].attributes.series.replace(/,/g," ")||"datalayer field empty",N=a.custom.product[j].attributes.motorization||"datalayer field empty";if(N){var M=/[0-9]{3}[a-z]{1}/i,F=/xdrive[0-9]{2}[a-z]{1}/i,B=/sdrive[0-9]{2}[a-z]{1}/i,q=N.match(M)||N.match(F)||N.match(B);N.indexOf("i3 (120 ah)")>-1||N.indexOf("i3 (120ah)")>-1||N.indexOf("i3 120ah")>-1?N="i3 (120 ah)":N.indexOf("i3s (120 ah)")>-1||N.indexOf("i3s (120ah)")>-1||N.indexOf("i3s 120ah")>-1?N="i3s (120 ah)":q&&q.length&&(N=q[0].toUpperCase())}p.category=T,p.id=D,p.merchEvars={eVar10:"datalayer field missing",eVar53:E,eVar54:I,eVar52:A,eVar60:O,eVar48:V,
eVar57:S,eVar50:L,eVar58:N}}}t.prop44=l,t.prop19=u,t.prop41=m,t.prop42=b,t.prop43=g,t.prop56=s,t.prop57=o,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(parseInt(d)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(d)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+d,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=d,t.prop53=n,t.prop12=i,t.prop52=r,t.eVar34=c,f.append(p),t.products=f.toString(),t.linkTrackVars+="prop44,prop19,prop41,prop42,prop43,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL0bc58e2e2bcc4e5db9af73e2a5020e72",name:"TPT - IE - AEM - Adwords - Enquire Now Submit Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary",elementProperties:[{name:"id",value:"bmw_send_form"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ssl/discover-enquire-now.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3d73f3f20418496391df18aa2271dfeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b900421fae3498cbf32e0b7ff633c74",name:"TPT - IE - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8cc7e358b37347f296599d9b5259ba7d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ade2c5bade442ccbd2cbda35502bcae",name:"TPT - IT - AEM - ContentSquare - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC34bd4b9102d3461ab1c2253a68e77330-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0596d0855558464b89b1f8afca00e1e3",name:"TPT - SK - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6d7a3dcd86344361aaf66ef465876f85-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02447ec1621f4e7c870d2b7a98ab155a",name:"TPT - DK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6585874a689545be92d497a6162f452e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL03bbc10fc9e84b7b8831689d86e94d66",name:"TPT - AT - AEM - Facebook - Used Car Btn - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-boerse.at/"].ds2-quickactions-link-js.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC59c77a6bf63340a1ba64126aad9ffd63-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3e2b31a840241e1b7359d26c954daad",name:"TPT - GR - AEM - Doubleclick - History change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0340e3ac490a4175bca7c2cd1b7531c7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3cf4cf33dea4496a997a69d2bc2c4ead",name:"TPT - ID - AEM - Yellow Messenger Chat - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7f62fa08946447d39d339130c242bde8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff522ad38f7644b8bf012c460fb76e6b",name:"TPT - AT - AEM - Adform - Visualizer - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1e1e67d3af5d46788b9d6a92731a824e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL097f451c4cb640abb738d3942089ac12",name:"TPT - CZ - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC38cdb9b8a2684063996e4fc290ab862d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe7e86f3cc7514415bb931ff7cf2fca1e",name:"TPT - UK - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7d67fd6a6ace45d897d0b3e3d7c712c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3c4cf7d62df14a53bba2fa6348f47278-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8310cc6c17e548db8bf00c1a0ba36f15",name:"TPT - PL - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf101a4eccaf74b289fd292fb06acd4a1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7f8ef69d5dfe4c5a87475440c85c218b",name:"PLR - FR - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd78d4e41df3a43eb8b3d37f58d42e193-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc5cc6f6f7c7644ea9a21bd65f2ecdb80",name:"TPT - SG - AEM - Verizon - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72259c960e6c447bb5bb986f43a1aef3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc40eff7343bf4c79abc857e3d8efb441",name:"TPT - AT - AEM - Facebook - BMW Card CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.bmwcard.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/bmw-card.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1a592730f5ef448a8439d12b251607d8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb69cf497ee7f4a659164eca4c1c1c4c1",name:"TPT - NO - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC580668acf6804e529690e2acdd61fbe0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3114301a7294449494597d5f84818179",name:"TPT - IT - AEM - Facebook - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe8b930da0f4d45afa0acf41e4fd8c9fe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL546a4ccce8e3463f9da8b7cf9216f17a",name:"TPT - NL - AEM - IgnitionOne - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf8b420b7b2224eb0a223e7e69f2d92ca-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7809e3bec01642b0ba1495a515536ee8",name:"DCR - All - AEM - AA - DCS Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL");a.get("event.-1.eventInfo.effect"),a.get("event.-1.eventInfo.eventName"),t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,t.prop4=a.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.eVar34=a.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sales >")<0&&(t.eVar34="sales > "+t.eVar34);try{null==_satellite.getVar("campaign")&&window.location.href.indexOf("?")>-1&&(t.campaign=t.Util.getQueryParam("tl"))}catch(t){_satellite.logger.log(e.$rule.name+t)}t.eVar61=t.eVar62=t.campaign,t.linkTrackVars+="eVar61,eVar62",t.eVar151=a.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=a.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=a.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=a.get("component.-1.attributes.referringComponent"),t.eVar155=a.get("cart.attributes.offerID"),t.eVar156=a.get("page.attributes.checkoutID"),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop19="digital checkout solution",t.events.indexOf("purchase")>-1&&(t.prop11="orders (new vehicle)"),t.linkTrackVars+="prop11,prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,prop33,eVar28,prop31,eVar14,purchaseID"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL891b2320d408408fab3f0b9b7b01d3e0",name:"TPT - AT - AEM - Submit button - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC96956ea5dd104c60a9ba78d8bd6b9560-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c9dfc5122634382ad1dac924c8daeb4",name:"TPT - UK - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf5efd20dedf84103b842cd81be4a49f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19fb6f003277438f8b6fa9c1d5298bb3",name:"TPT - GR - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC482881f05a35400d99ac916c806972db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL07669ea7b129437cb60edee365a933ff",name:"TPT - IT - AEM - gTagDC - Form Tracking - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd73dcc394eae4c60be67427a75616b4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40386bee968e49d9a2d13c3a22935fba",name:"TPT - PT - AEM - DoubleClick - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC24360837566241aba74c13453d24d8bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3cd300d89704f0196cb595e557b9223",name:"TPT - ES - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Brochure Download']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCefdbc4e4662c41328e12b48c094dd9cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40104915c10b430f9830ad4ff0549c32",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC945c621814104e19934739b5eb00eb5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL642f1515513a40cf8df804749bd3f243",name:"TPT - UK - AEM - Xandr - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC20ff4f48b5be4092a7abe42e287c18b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL61d3ef3a14e84daa84ae176d4a897191",name:"TPT - BG - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2f25cd3ac9fe4261a9ae9adb7b3cd41a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d96b92bea794146a617f82e240b8ce5",name:"TPT - BR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaad41d877faf4dd78243a6069320f906-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44c98eb3a2ae41bd8932b413c4397d2e",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb8eb8d21a5b547f7b70f185969dc0d22-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL036276ef28a94c819ad101f860ea5acf",name:"TPT - FR - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbfd057c85f714c6c841d5c4c5c33e70a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7148e6bc833b4e8284d0608e643ac0d3",name:"TPT - GR - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6a5bb9c6300641bfa32ef62325ae40c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f3303bf0a564c3d91b5bfdeeb819824",name:"TPT - All - AEM - Usabilla NPS 3.0 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NPS"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),a=t[t.length-1].toUpperCase();if("UK"==a&&(a="GB"),"COM"==a&&window.location.href.indexOf("bmw.com/en-au/")>-1&&(a="AU"),-1==["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA"].indexOf(a))return _satellite.logger.log("Returning false as it is not a NPS 3.0 market"),!1;var o={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:20,CES:0,Psyma:60,Other:20}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:0,Psyma:56,Other:24}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:0,Psyma:46,Other:44}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:0,Psyma:52,Other:22}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:0,Psyma:0,Other:85}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:0,Psyma:0,Other:80}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:75,CES:0,Psyma:0,Other:25}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:0,Psyma:0,Other:15}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:0,Psyma:35,Other:15}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:50,CES:0,Psyma:0,Other:50}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}};return"NPS"==_satellite.getVar("usabilla_randomizer")&&(null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e])?(npsValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,noNPS)}catch(e){_satellite.logger.error(e)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%topLevelDomain%",rightOperand:"bmw"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCad3cc51b04a843e3aad2ae0f1bfac25c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe27d6e4d3c034724861dbaa87baadfd3",name:"TPT - PT - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3312ac6ee58a4f7ea0c3655a3d2d202b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb7f07b1512fc442394040b6bf618f0cb",name:"TPT - IT - AEM - GTagDC - Make_Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC493ec84e92ee49e9973af4bbfbfb5889-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf43928b264914d25af100af5c9330c25",name:"PLR - ALL - NSC - AA - ActivityMap for link and region",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC21e5d68f55704b51bf017f7b373f2c05-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{function a(e){var t=["vin","token"];for(var a in t)e.indexOf(t[a])>-1&&(e=e.split(t[a])[0]);return e}_satellite.logger.log("ActivityMap: Initialized"),t.ActivityMap.superLink=t.ActivityMap.superLink||t.ActivityMap.link,t.ActivityMap.link=function(e,t){if("false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1;if("object"!=typeof e)return!1;if(t)return _satellite.logger.log("ActivityMap: linkID from linkName:"+t),t;var o="";e||(e="");try{e&&(o=e.getAttribute("data-tracking-linkid")||e.getAttribute("data-name")||(e.getAttribute("href")&&e.innerText?e.innerText.replace(/[:>\s\/\n]+/g," ").trim()+":"+e.getAttribute("href"):null))||(o=this.superLink(e,t)),o&&(o=o.toLowerCase().replace(/[\s\/\n]/g," "),_satellite.logger.log("ActivityMap: Custom linkID: "+o)),o&&(o=a(o))}catch(e){_satellite.logger.error(e),o=""}return o},t.ActivityMap.superRegion=t.ActivityMap.superRegion||t.ActivityMap.region,t.ActivityMap.region=function(e){if("object"!=typeof e)return!1;var t;try{_satellite.logger.log("ActivityMap: getting RegionID");for(var o=e;o&&(o=o.parentNode);){console.log("hhh first ae",o.getAttribute("data-tracking-regionid"))
;var s=o.getAttribute("data-tracking-regionid")&&o.getAttribute("data-tracking-regionid")||o.nodeName.match(/HEADER|MAIN|FOOTER|/i).join();if(":"!=s&&""!=s||(_satellite.logger.log("hhh first a ->",s),s=""),s&&":"!==s&&(t=s+(t?">"+t:"")),"BODY"==o.nodeName){null!=t&&t.match(/^(HEADER|MAIN|FOOTER)/i)||(t="main"+(t?">"+t:"")),_satellite.logger.log("hhh first e ->",t);break}}}catch(e){(console.error||console.log).call(console,e.stack||e)}t&&(t=a(t));var n=(t=t?(t||"").toLowerCase().replace(/[\s\/\n]/g," "):this.superRegion(e)).split(">").length,i=t.split(">")[n-1];return t=i,console.log("final value",t),t}}catch(t){var o={from:"PLR",type:"ActivityMap",name:e.$rule.name};_satellite.logger.error(t,o)}}},trackerProperties:{}},timeout:8e3,delayNext:!0}]},{id:"RL92b6a81921e048279a0eee11a991f21e",name:"TPT - GR - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC408ed6997a8543f2b05a235dfbea9cbc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fb9f6f9d6594ecdba405048c2f4f2ef",name:"TPT - MX - AEM - Adwords - Multiple - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcfc4b2b2cba149919f9f4cdbd0a8fb51-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd65102b0882542879eed333788671c32-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLeeefeb9d83564fefaff0c9034b8698fa",name:"TPT - IN - AEM - Facebook - Form_Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC26161aaea46e44ba9158c4f651733b5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLf5444cc62d9a4abe98c0c0a927abb11c",name:"TPT - GR - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa7119714fad74ce99464d41ff387ce86-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL528c8828d55848ec8c51e9892c39400c",name:"TPT - PT - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC907201bb487343f39e45b30b8bec4f61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5bcf4b5ff582449a934281231b8e0bb5",name:"TPT - RU - AEM - Chatbot - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("re-trigger : TPT - RU - Multiple - Chatbot",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ru/test/bot-test-1.html",valueIsRegex:!0},{value:"/ru/test/bot-test-2.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfacaff992c66426c840b16444fe91532-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81644127c5b1499ea6ec0e2fa16a3eae",name:"TPT - PL - AEM - LiveChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1332f620b4724a4ab8e8a19858ba1737-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL14113643140f41c6bb7752cda7fb86e5",name:"TPT - MY - AEM - Korex - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC16992602b47a412cb9d9f3c671fca8cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL90bcf47d418041ecb4ee39fa8fb66ef8",name:"TPT - NL - AEM - Bing - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf3128fec8ea449169ee1876bcb6d6bc6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc1fc60d26f9e4e9a83d39952e0a89ca7",name:"TPT - BE - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe0777ff089ec40e2899d54e552c38cb0-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL369e4821b67b4aba84bde546affba071",name:"TPT - NL - AEM - GtagAW - SL_RFO Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb071c61d929c4ff4a56681d539ed1518-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLcf56cb3635584d2d9b45194cd4f7c99e",name:"TPT - HU - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC05337883a8e341fa8c45c5674abb63b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd87114a8364a4c0da31889b94bca1859",name:"TPT - AU - AEM - GTagDC - MINI Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.mini.com.au/corporatebenefits/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0c5acd2ba6784ffca739d578f17bf1d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaa76cd009b9b440fa1bbaa56ae31243d",name:" TPT - IE - AEM - Gtag_DC - PHEV Build now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://configure.bmw.ie/en_IE/configure/G20/3SBO",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa73ca277ff4445308450bb148cae0ab5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL147c49fae8f648c2b7e505df38dc1fb8",name:"TPT - FI - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc1bba3042e4d478491562e74d1cce171-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2df4e150dc604ab99ad301cba1f8783a",name:"TPT - IT - AEM - GTagDC - Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8e6b81cd6bd9428f94c59658a619c84c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9048d08405004519bc69e9bf5982764c",name:"TPT - DE - AEM - Adwords - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8ffd13ebed7743e5b0dd4d6417894303-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL45f3bd8fe0ff4ad681936cf4b598a943",name:"DCR - All - AA - Custom Code - JS error tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_js_error"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.ch"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1}catch(e){var a={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,a)}}},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var a=e.detail;t.prop56="error",t.prop53="component",t.prop57="call",t.eVar34=a.message,t.prop52=a.filename,t.prop54="js error",t.prop58=a.lineno,t.eVar71=a.filename,t.linkTrackVars=t.apl(t.linkTrackVars,"prop12,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,eVar34,eVar71"),t.events=t.apl(t.events,"event933"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLeb0a608013f049ffbbdc3ef2e0be60e5",name:"TPT - ES - AEM - AdWords - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe39080fcfe1549328d303070f3af9ea4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc9d934c0272549178283d9d1526e61ea",name:"TPT - IE - AEM - Gtag_DC - PHEV Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa908b4ca6c6a4340bef4e039110e2b18-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL90ca2017cd604792a22f366967603af2",name:"TPT - ZA - AEM - GTagDC - google_site_tag_ZA_TestDriveSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"google_site_tag_ZA_TestDriveSubmit"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2a4a5ea4a7c84fb09f19b71bffbea563-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf73f208704de4ca29fa561e81d0e5ef9",name:"TPT - DE- AEM - Adform - Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC679a6e25d2e1475fb09dd12b09b9c3bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcbd40eb63c246eba84b94de920bb140",name:"TPT - SI - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC04c0defae3c14600968497dbff61f1c0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL791224ee78e44894a9098ee1aa31e435",name:"TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5c26202d8b064b29a26bf575239c53ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6a3d68dac26742159bcc7e2b9230094d",name:"TPT - ES - AEM - Xander - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab6d7f4b84cc4cf09387a3f6c9ccdda7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL06a024170065444cb0f5ee3a07d366f6",name:"PLR - PL - AEM - AT - Determine TargetExperience Name",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    var topLevelDomain = _satellite.getVar('topLevelDomain');\n    if (topLevelDomain == \"bmw.pl\") {\n        (function () {\n            document.addEventListener(\"at-request-succeeded\", function (e) {\n                if (typeof (e) !== 'undefined' && typeof (e.detail) !== 'undefined' && typeof (e.detail.responseTokens) !== 'undefined' && e.detail.responseTokens.length > 0) {\n                    for (var i = 0; i < e.detail.responseTokens.length; i++) {\n                        if (typeof (e.detail.responseTokens[i]) !== 'undefined' && typeof (e.detail.responseTokens[i]['activity.name']) !== 'undefined' && typeof (e.detail.responseTokens[i]['experience.name']) !== 'undefined') {\n                            var k = e.detail.responseTokens[i]['activity.name'];\n                            var v = e.detail.responseTokens[i]['experience.name'];\n                            sendTestToCS(decodeURI(k), decodeURI(v));\n                        }\n                    }\n                }\n            });\n\n            function sendTestToCS(cskey, csValue) {\n                _satellite.logger.log(\"Target Activities Names captured: \", cskey);\n                //if (cskey.indexOf('BMW_DE_X5_Onepager_Short_Prod_200810') > -1) {\n                    setTimeout(function () {\n                        //_satellite.cookie.set('target_experience', csValue, {\n                            //'domain': _satellite.getVar('topLevelDomain'),\n                        //})\n                        var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n                        smartPreviousValueManager.update(\"targetExperience\", csValue);   \n                    }, 10000);\n                //}\n            };\n        })();\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: \"PLR\",\n        type: \"AT\",\n        name: \"PLR - PL - AEM - AT - Determine TargetExperience Name\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL7f1f18b1728e43369b8786466aa80d4c",name:"TPT - JP- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfaabd266b2e84de1a2afa599f2e0a2fd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe11d516a298d4e64a59cd64a43d7d58b",name:"TPT - LU - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC752c03f20cd2453fbe5d37f4cdbd8b30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6051245da34d451a81907e640ab08544",name:"TPT - SI - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC083de418d1e1467996c709bfefa1fbf7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd3ff25454994884ab653c9b32c63b1c",name:"TPT - DK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4b336416f2df48d29d8a67cf8e8bd1ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28f37d40f6734ec0a9fa866e41109d1a",name:"TPT - SE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC075300174fd84dfc976a8561ab23d191-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb67bc8311bc24d9da06f580da23cc494",name:"TPT - UK - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbc5f02bb74524b759e3821dadb3dbbfa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ff30842066c43e1bd716be634a72ed4",name:"TPT - AT - AEM - Facebook - Contant Number Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-contact-item--phone.ds2-tracking-js--event",elementProperties:[{name:"href",value:"tel.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/footer/metanavigation/contact.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5694a71cfbea4263ac1371efda8a1760-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff8be68b67bc4fdc954ce15f0f64a6fc",name:"TPT - GR - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc5df60f07b6c4b36b05605e4ec865e4e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLce389b27a3ed49e0b3720ac15306a61e",name:"TPT - IT - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2770d1fea8a44c41afe197e611402cb8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb127b3e43de043ae821a27026db9e879",name:"TPT - DK - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9b1e2c488cb043b49058c615747f25fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b9f7153578f4a21976acc671af69e3b",name:"TPT - RU - AEM - Facebook - Agile Need Analyzer - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"INPUT",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC01177b10ff904eafbc304e77a268377e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLedd0ede718bd4c0fb7fe8d646b2fdd9b",name:"TPT - FI - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/tarjoukset/kampanjat.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC86bb297d5f2848038de49e8034e0a46d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcbd56b2bbb3a46a4b394642084064794",name:"TPT - PL - AEM - Facebook - View Content - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4df8b58f942e46318d768734157e7610-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3da81b8d79a40a5bbbfb54f237f5659",name:"TPT - SG - AEM - Adform - E- Offers and services - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-detail--interactive.large-6 > div > ul > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Finance Offer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/ace2.0.html",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5464264305ce405aaf09d6f9909ea50e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLafa56d4f01ff4d4489df683da264dc83",
name:"TPT - NO - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb7f07c27b7449cf80f15eb8e7621c13-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4ab0281d456404996d4f5aee7700f6a",name:"TPT - IE - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/rfo-success-page.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4fd125eb862c472eac4addb4e5097e43-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8578e502338f4d91b1d3fb100b3471b2",name:"TPT - FR - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC213ef3799ee7491197e6a69626ca3c9c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf421152a8dad4ea98a7af560d6efa594",name:"TPT - ZA - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd248a933dccf45f0b3bab1a8296df1f2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4a70f011dc64b88b15c370c143874f2",name:"TPT - IT - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC48f6e7944db442e19ec697649871b5e7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a2e8d0db11544ad8f30175b840be2e6",name:"DCR - All - IFrame - AA - Local Forms 3CT",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.effect"),n=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.eventInfo.eventPoints"),a.get("event.-1.eventInfo.type")),i=a.get("event.-1.category.subCategory1"),r=a.get("event.-1.category.subCategory2"),c=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=s,t.eVar9=a.get("iframeURL",a.get("event.-1.attributes.iframeURL"));var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]},u=l[n.toLowerCase()],m=l[i.toLowerCase()],b=l[r.toLowerCase()];"nsc > form started"==s||"local > form started"==s?(d=t.apl(d,"event3,event4"),null!=b&&(d=t.apl(d,b[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"roi"!=n&&"rfi"!=n||null!=m&&(d=t.apl(d,m[0]))):"nsc > form finished"==s||"local > form finished"==s?(d=t.apl(d,"event15,event16"),null!=b&&(d=t.apl(d,b[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"rfi"!=n&&"roi"!=n||null!=m&&(d=t.apl(d,m[1]))):"nsc > form finish intention"==s||"form finish intension"==s||"local > form finish intention"==s?d=t.apl(d,"event917,event918,event13,event14"):"first form interaction"==s||"local > first form interaction"==s?d=t.apl(d,"event917,event918,event5,event6"):"form interaction"==s||"local > form interaction"==s?d=t.apl(d,"event917,event918,event9,event10"):s.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"form impression"==s?d=t.apl(d,"event925,event926"):"error"==o&&(d=t.apl(d,"event931,event932"));var g=a.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+g),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.eVar137=a.get("component.-1.category.application","aem6"),t.prop55=a.get("event.-1.category.subCategory1",a.get("event.-1.attributes.errorCode")),t.eVar23=a.get("page.attributes.marketingConsent"),t.prop6=t.prop53=t.prop54="local form",t.prop7=a.get("event.-1.category.subCategory1"),t.prop8=s,t.prop8.indexOf("local > ")>-1&&(t.prop8=t.prop8.replace("local > ","")),t.prop9=a.get("page.category.subCategory1"),t.prop10=a.get("page.category.subCategory2"),t.prop11=n,t.prop16=a.get("page.pageInfo.pageName"),t.prop17=a.get("event.-1.attributes.form.rfxID"),t.prop18=a.get("event.-1.category.subCategory2",a.get("event.-1.category.subCategory02")),t.eVar35=a.get("dealer.-1.dealerInfo.dealerOutletBuno"),t.eVar41=a.get("dealer.-1.dealerInfo.dealerGroupName"),t.eVar42=a.get("dealer.-1.dealerInfo.dealerGroupID"),t.eVar39=a.get("dealer.-1.dealerInfo.dealerOutletName"),t.eVar40=a.get("dealer.-1.dealerInfo.dealerOutletID"),t.prop42="locally developed",t.prop43="forms",t.prop56="form","form"==t.prop56&&(t.prop53=t.prop11),"form"==o&&(t.prop9=a.get("event.-1.attributes.form.stepAmounts",a.get("page.category.subCategory1")),t.prop10=a.get("event.-1.attributes.form.formVariant",a.get("page.category.subCategory2")),t.prop16=a.get("event.-1.attributes.form.stepName",a.get("page.pageInfo.pageName"))),("form"!=a.get("component.-1.category.subCategory01")&&"form"!=a.get("component.-1.category.subCategory1")||"aem6"!=a.get("component.-1.category.application"))&&"nsc > form finish intention"!=a.get("event.-1.eventInfo.effect")||"interaction"==o&&(t.prop6=t.prop53="adobe form"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop53=a.get("event.-1.eventInfo.type"),t.prop11=n,t.prop7="generic"),"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop53=a.get("event.-1.eventInfo.type"),t.prop11=n,t.prop55="generic"),"error"==o&&(t.prop56="error",t.prop6="",t.prop8="",t.prop11="",t.prop55=a.get("event.-1.category.subCategory1"),t.prop53=a.get("event.-1.eventInfo.type"),t.eVar34=a.get("event.-1.eventInfo.effect"),t.prop52=a.get("event.-1.eventInfo.cause")),t.prop19="local form",t.eVar136=a.get("version"),t.linkTrackVars=t.apl(t.linkTrackVars,"products,eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56,eVar35")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-eventType%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLf70a85a92c7347259b8adb00d7e44cdd",name:"TPT - IT - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC960e561228b4413f927ffbb946f6f606-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc060040780d74d769ff54798890c0672",name:"TPT - PL - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa06dd88cb9af460e812b94a5f2bf58f2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41e39d3243434d38ae87fb4a4e7af9ba",name:"TPT - AT - AEM - Salesbar - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0},{value:"p152.bmw.com",valueIsRegex:!0},{value:"m152.bmw-int3.com",valueIsRegex:!0},{value:"m152.bmw-int1.com",valueIsRegex:!0},{value:"m152.bmw-int9.com",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfe6669cac49b4138bd28b8399388d5e9-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfac9fad3907c4c36ac64d98daaba74df",name:"TPT - IT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7530d3746698478ebcfef397a2da9aee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC07630211d51c4e979c3a1421654df17e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6de042a1b00e4c52b0150700c434bbeb",name:"TPT - NO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7473189224ac4d98b9b7813c8076e542-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1e0983402eed4940af686fc37028b1e1",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd85884b6252443519d11767d09fdce6e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59a1d29d43134dfe8793e63ed01d9cf1",name:"TPT - UK - AEM - Xandr - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd6edf4ed38204fe9b21ba856384dfa31-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f23c81e0ebf4e57b45beb76c8772ac1",name:"TPT - FI - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fI",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC194845c3d05d4235a4adfdbe14823eee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL422696ff198941f296aa5ef34c2ef77e",name:"TPT - AT - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5393f5f0d2b9447aaefeda4dd32d3bc2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf65e4f77a34f425e83fae18fb8a83f4a",name:"TPT - SE - AEM - Hotjar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7f8d660f04dd476399ed1b4c37e29861-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9350298d3b6f4c709e52d0e7219daf05",name:"TPT - RU - AEM - Calltouch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa97c9780aa464035b0515c651c961ee7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd542dd93c7124549bf0d24bdefa05a5d",name:"TPT - CZ - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa0b6b5b3b9104ed7a1084636e9926e0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a4b509a9ef942b88ef9b05220d25934",name:"TPT - IE - AEM - QuantCast - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7880f2f786bc4093b103ffbb23cf926e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3092c27c705c4e80948a2bd9594f5b8d",name:"DCR - All - NSC - AA - Adobe Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TDA"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RFO"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.effect"),n=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.eventInfo.eventPoints"),a.get("event.-1.eventInfo.type")),i=a.get("event.-1.category.subCategory1"),r=a.get("event.-1.category.subCategory2"),c=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=-1==s.indexOf("nsc >")?"nsc > "+s:s;var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]},u=l[n.toLowerCase()],m=l[i.toLowerCase()],b=l[r.toLowerCase()];"nsc > form started"==s?(d=t.apl(d,"event3,event4"),null!=b&&(d=t.apl(d,b[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n||null!=m&&(d=t.apl(d,m[0]))):"nsc > form finished"==s?(d=t.apl(d,"event15,event16"),null!=b&&(d=t.apl(d,b[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n||null!=m&&(d=t.apl(d,m[1]))):"nsc > form finish intention"==s||"form finish intension"==s?d=t.apl(d,"event917,event918,event13,event14"):"nsc > first form interaction"==s||"first form interaction"==s?d=t.apl(d,"event917,event918,event5,event6"):"nsc > form interaction"==s||"form interaction"==s?d=t.apl(d,"event917,event918,event9,event10"):s.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"nsc > form impression"==s||"form impression"==s?d=t.apl(d,"event925,event926"):o.indexOf("error")>-1&&(d=t.apl(d,"event931,event932"));var g=a.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+g),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.eVar137=a.get("component.-1.category.application","aem6"),t.prop55=a.get("event.-1.category.subCategory1",a.get("event.-1.attributes.errorCode")),t.eVar23=a.get("page.attributes.marketingConsent"),t.prop6="adobe form",t.prop7=a.get("event.-1.category.subCategory1"),t.prop8=-1==s.indexOf("nsc >")?s:s.substring(6),t.prop9=a.get("page.category.subCategory1"),t.prop10=a.get("page.category.subCategory2"),t.prop16=a.get("page.pageInfo.pageName"),t.prop17=a.get("event.-1.attributes.form.rfxID"),t.prop18=a.get("event.-1.category.subCategory2"),t.eVar41=a.get("dealer.-1.dealerInfo.dealerGroupName",a.get("dealer.-1.dealerInfo.dealerGroup")),t.eVar42=a.get("dealer.-1.dealerInfo.dealerID",a.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=a.get("dealer.-1.dealerInfo.dealerOutletName",a.get("dealer.-1.dealerInfo.dealerName")),t.eVar40=a.get("dealer.-1.dealerInfo.outletID",a.get("dealer.-1.dealerInfo.dealerOutletID"));var f=!1,p=a.get("pages.0.page.category.subCategory2",a.get("pages.0.page.category.subCategory02"));if(_satellite.logger.info(a.snapshot),_satellite.logger.info("debug subCategory2: "+p),-1==t.events.indexOf("event3,event4")&&"success-pool"==p){_satellite.logger.info("debug: Workaround events");var v=a.get("pages.0.event.0.category.primaryCategory",a.get("pages.0.event.0.category.primaryCatergory")),h=a.get("pages.0.event.0.eventInfo.effect");if(_satellite.logger.info("debug: event0 ",a.get("pages.0.event.0")),"adobe form"==v&&"nsc > form finished"==h){t.events=t.apl(t.events,"event15,event16");var _=a.get("pages.0.event.0.category.subCategory1"),P=a.get("pages.0.event.0.category.subCategory2"),j=l[v.toLowerCase()],y=l[_.toLowerCase()],C=l[P.toLowerCase()];null!=C&&(t.events=t.apl(t.events,C[1])),null!=j&&(t.events=t.apl(t.events,j[1])),"RFI"!=v&&"ROI"!=v&&"FS RFO"!=v||null!=y&&(t.events=t.apl(t.events,y[1])),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events),f=!0}}f&&(_satellite.logger.info("debug: Workaround"),t.prop7=a.get("pages.0.event.0.category.subCategory1"),t.prop8=-1==a.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >")?a.get("pages.0.event.0.eventInfo.effect"):a.get("pages.0.event.0.eventInfo.effect").substring(6),t.prop11=a.get("pages.0.event.0.category.primaryCategory",a.get("pages.0.event.0.category.primaryCatergory")),t.prop17=a.get("pages.0.event.0.attributes.form.rfxID"),t.eVar34=-1==a.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >")?"nsc > "+h:h,t.eVar41=a.get("pages.0.dealer.-1.dealerInfo.dealerGroupName",a.get("pages.0.dealer.-1.dealerInfo.dealerGroup")),t.eVar42=a.get("pages.0.dealer.-1.dealerInfo.dealerID",a.get("pages.0.dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=a.get("pages.0.dealer.-1.dealerInfo.dealerOutletName",a.get("pages.0.dealer.-1.dealerInfo.dealerName")),t.eVar40=a.get("pages.0.dealer.-1.dealerInfo.outletID",a.get("pages.0.dealer.-1.dealerInfo.dealerOutletID"))),t.prop42="nsc website",t.prop43="forms",("form"==a.get("component.-1.category.subCategory01")||"form"==a.get("component.-1.category.subCategory1"))&&"aem6"==a.get("component.-1.category.application")||a.get("event.-1.eventInfo.effect"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop53=a.get("event.-1.eventInfo.type"),t.prop7="generic"),"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop53=a.get("event.-1.eventInfo.type"),t.prop11=n,t.prop55="generic"),t.prop10=a.get("event.-1.attributes.form.formVariant"),t.prop16=a.get("event.-1.attributes.form.stepName"),t.prop9=a.get("event.-1.attributes.form.stepAmount"),o=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.eventInfo.type"),"form"==o?(t.prop6="adobe form",t.prop8=-1==a.get("event.-1.eventInfo.effect").indexOf("nsc >")?a.get("event.-1.eventInfo.effect"):a.get("event.-1.eventInfo.effect").substring(6),t.prop11=n,t.prop56=o):"error"==o?(t.prop6="",t.prop8="",t.prop11="",t.prop52=a.get("event.-1.eventInfo.cause"),t.prop53=a.get("event.-1.eventInfo.type"),t.prop55=a.get("event.-1.category.subCategory1"),t.prop56=o,t.eVar34=a.get("event.-1.eventInfo.effect")):(t.prop6="",t.prop8="",t.prop11="",t.prop53=a.get("event.-1.eventInfo.type"),t.prop56=o),t.prop19="adobe form";var w=a.get("page.pageInfo.pageName");if(-1!=w.indexOf("PREDOC-G26-BEVE-E")||-1!=w.indexOf("predoc-g26-beve-e")){t.prop11="rfo",t.prop7=w;var R=a.get("product-1.attributes.motorization",a.get("product.-1.attributes.engine"));if(R){var x=/[0-9]{3}[a-z]{1}/i,k=/xdrive[0-9]{2}[a-z]{1}/i,T=/sdrive[0-9]{2}[a-z]{1}/i,E=R.match(x)||R.match(k)||R.match(T);R.indexOf("i3 (120 ah)")>-1||R.indexOf("i3 (120ah)")>-1||R.indexOf("i3 120ah")>-1?R="i3 (120 ah)":R.indexOf("i3s (120 ah)")>-1||R.indexOf("i3s (120ah)")>-1||R.indexOf("i3s 120ah")>-1?R="i3s (120 ah)":E&&E.length&&(R=E[0].toUpperCase())}var I=_satellite.getVar("setDefaultProductVariables");I.id="g26",I.category="vehicle",I.merchEvars.eVar10="G26",I.merchEvars.eVar56="e",I.merchEvars.eVar57="beve",I.merchEvars.eVar44=a.get("product.-1.attributes.productionYear"),I.merchEvars.eVar45=a.get("product.-1.attributes.yearOfRegistration"),I.merchEvars.eVar46=a.get("product.-1.attributes.vehicleStatus",a.get("product.-1.attributes.vehicleSelection")),I.merchEvars.eVar47=a.get("product.-1.productInfo.color",a.get("product.-1.attributes.color")),I.merchEvars.eVar48=a.get("product.-1.attributes.modelCode"),I.merchEvars.eVar49=a.get("product.-1.attributes.gearing"),I.merchEvars.eVar50=a.get("product.-1.attributes.series"),I.merchEvars.eVar52=a.get("product.-1.productInfo.productName",a.get("product.-1.attributes.modelName")),I.merchEvars.eVar53="model_navigation_hp"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||a.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1?"new car":a.get("product.-1.category.primaryCategory"),I.merchEvars.eVar54=a.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1||"need analyzer"==a.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":a.get("product.-1.category.subCategory1"),I.merchEvars.eVar55=a.get("product.-1.category.subCategory2"),I.merchEvars.eVar58=R,I.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),t.products=I.toString(),"form started"==t.prop8?(d=t.apl(d,"event61,event62"),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d)):"form finished"==t.prop8&&(d=t.apl(d,"event63,event64"),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d))}t.linkTrackVars=t.apl(t.linkTrackVars,"products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(t){var A={from:"AA",type:"Rule",name:e.$rule.name};_satellite.logger.error(t,A)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Adobe Forms",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL08d1ad4c3d644d11b751b8dae8180738",name:"TPT - SK - AEM - Adfrom - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];console.log(a),console.log(o),"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC91f4d28cf8914c7fbeb434d04a75016c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL473c9e0c973549e3a2af271c2e3b810e",name:"TPT - NO - AEM - Adform - DLO State Standalone - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC61ca412748a54580a27ddf70ea36788e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL198a70fdde64436785742674ea38cd2c",name:"TPT - UK - AEM - GTagDC - RFI Form View - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0fa2cb532e9e49d8b3925078c765b638-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fe46d9afc484d90aa21934c4928e171",name:"TPT - NO - AEM - Adform - Dealership Selected - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC074ffb4c45c24073a54ff971779d86a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{
id:"RL2e4d6621047340e59808ec7c5b7499bf",name:"TPT - AT - AEM - Pinterest - iFrameRFO Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7ac09ff129f6402a99e9b471c7364c55-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c2cef25c67a4d6f9485a8b8e33c1d04",name:"TPT - IE - AEM - Gtag_DC - 5 Series Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/brochure-download.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC34c448aef05f45ef9b3da5e4ae4707d5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC712ac94ad82c4d6f834b2e08540fbaa2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80e154c9318345c9a32dec44278991c5",name:"TPT - IT - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC33596592a4404afd8fa67fe5b947af9f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6fd7f65cdf4b48d89c6b1484e0398ac3",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{var t=_satellite.getVar("KIT-helpers").privacyManager,a=(_satellite.getVar("consentMap"),{GIVEN:"GIVEN",REVOKED:"REVOKED",UNKNOWN:"UNKNOWN"}),o=function(){var o=_satellite.getVar("consentMap");t.registerOnConsentChange(o.AdobeAnalytics,(function(t){t===a.GIVEN&&e()}))},s=function(){var o={ANALYTICS:"analytics",ADVERTISING:"advertising"};t.registerOnConsentChange((function(t,s){s===o.ANALYTICS&&t===a.GIVEN&&e()}))};t.type===t.ENUM_TYPE.EPAAS_SPLIT?o():t.type===t.ENUM_TYPE.EPAAS_NON_SPLIT&&s()}catch(e){}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAAAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"shop.bmw.co.kr",valueIsRegex:!1}]},negate:!0,timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")),s=a.get("event.-1.eventInfo.eventName"),n=_satellite.getVar("smartPreviousValueManager"),i=(window.location.href,t.Util.cookieRead("gcdmToken"));t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t);try{"datalayer field missing"==o&&(o=dataLayer.pages[0].page.pageInfo.pageName||"datalayer field missing")}catch(t){var r={from:"AA",type:"PLR",name:e.$rule.name};_satellite.logger.error(t,r)}if(t.prop1=t.pageName=-1==o.indexOf("nsc >")?"nsc > "+o:o,window.location.href.indexOf("/dcs/")>-1||"nsc > stocklocator"==t.prop1)return void(t.abort=!0);if(t.eVar34=-1==s.indexOf("nsc >")?"nsc > "+s:s,t.prop42="nsc website",t.prop5=a.get("page.category.subCategory02"),a.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL,t.pageType="errorPage",t.prop1=t.pageName),"nsc > stocklocator"==t.pageName&&(t.prop19="central new car stock locator"),0!=a.get("product").length){for(var c in a.get("product"))if(!isNaN(+c)){var d=a.get("product."+c+".attributes.mmdr",a.get("product."+c+".attributes.internalCode")),l=a.get("product."+c+".attributes.mmdrVG",a.get("product."+c+".attributes.internalCode")),u=a.get("product."+c+".attributes.modelCode");_="G26E"==d||"G26E"==l||"71AW"==u||"31AW"==u?"G26E":"G70E"==d||"G70E"==l?"G70E":a.get("product."+c+".attributes.mmdr",a.get("product."+c+".attributes.internalCode"))}var m=_satellite.getVar("setDefaultProductVariables");m.id=_,m.category="new vehicle",m.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),m.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),m.merchEvars.eVar10=_,m.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),t.products=m.toString()}if(void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var b=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(b),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}if(t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timeStamp"),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop54=a.get("event.-1.category.primaryCategory"),t.prop55=a.get("event.-1.category.subCategory01"),t.prop50=a.get("event.-1.eventInfo.element"),t.eVar71=a.get("event.-1.eventInfo.target"),"user_centric_navigation"==t.prop19&&(t.events=t.apl(t.events,"event919,event920",",",1)),"delayed"==a.get("event.-1.category.eventType"))if(t.prop56="interaction",t.prop54=a.get("event.-1.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),"Navigation"==a.get("event.-1.category.primaryCategory")&&"user_centric_navigation"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){var g=a.get("event.-1.attributes.relatedComponent.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),f=(s=a.get("event.-1.eventInfo.eventName")).split("L").length;t.events=2==f&&"Navigation"==g?t.apl(t.events,"event917,event918,event919,event920",",",1):t.apl(t.events,"event917,event918",",",1),t.prop42="nsc website",t.prop2=a.get("page.category.pageType"),t.prop3=a.get("page.category.primaryCategory"),t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop4=a.get("page.category.subCategory01"),t.prop5=a.get("page.category.subCategory02"),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.prop28=a.get("page.attributes.virtualPage"),t.prop29=a.get("page.pageInfo.version"),t.prop14=(new Date).toISOString().substr(11,8),t.prop15=(new Date).toString().substr(16,8);try{i&&(t.prop40="logged-in"),""==i&&(t.prop40="not logged-in")}catch(e){}t.eVar136="2020 - 06- 15 user_centric_navigation",t.eVar137="AEM6",t.prop53="delayed"==a.get("event.-1.category.eventType")?"success":"ux",t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.linkTrackVars+="prop42,prop43,prop44,prop19,prop2,prop3,prop4,prop5,prop1,prop28,prop29,prop14,prop15,prop40,eVar136,eVar137,prop56,prop53,eVar34,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"}else if("Outbound click"!=a.get("event.-1.eventInfo.eventAction")&&"Internal click"!=a.get("event.-1.eventInfo.eventAction")||"salesbar"!=a.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("Open navigation"!=a.get("event.-1.eventInfo.eventAction")&&"Internal click"!=a.get("event.-1.eventInfo.eventAction")||"model_navigation_hp"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("accessory click"!=a.get("event.-1.eventInfo.eventAction")&&"cta click"!=a.get("event.-1.eventInfo.eventAction")||"ZSO_accessories"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))t.prop53="success",t.prop3=a.get("page.category.primaryCategory"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.events=t.apl(t.events,"event917,event918",",",1),t.linkTrackVars+="prop43,prop56,prop53,eVar34,prop57,prop58,prop12,eVar71,prop50,prop54,prop52,eVar10,prop3,prop1,prop44,prop42,prop54";else{var p=a.get("event.-1.eventInfo.effect"),v=a.get("event.-1.eventInfo.eventAction");t.prop56="interaction",t.prop53="ZSO CTA click"==s?"success":"ux",t.eVar34=-1==p.indexOf("nsc >")?"nsc > "+p+" clicked":p+" clicked",t.prop3=t.prop54=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop55=a.get("event.-1.eventInfo.cause"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop51=s,t.prop52="default",t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 ZSO_accessories",t.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),t.eVar55=a.get("product.-1.category.subCategory01"),t.eVar65=a.get("event.-1.attributes.productName"),t.prop42="nsc website",t.prop43="accessories",t.prop28=a.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page");var h=_satellite.getVar("setDefaultProductVariables");if(0!=a.get("product").length){var _="";for(var c in a.get("product"))isNaN(+c)||(d=a.get("product."+c+".attributes.mmdr",a.get("product."+c+".attributes.internalCode")),l=a.get("product."+c+".attributes.mmdrVG",a.get("product."+c+".attributes.internalCode")),u=a.get("product."+c+".attributes.modelCode"),_="G26E"==d||"G26E"==l||"71AW"==u||"31AW"==u?"G26E":"G70E"==d||"G70E"==l?"G70E":a.get("event.-1.category.mmdr",a.get("product.-1.attributes.mmdr")));h.id=_,h.category="new vehicle",h.merchEvars.eVar10=_,h.merchEvars.eVar53="new car",h.merchEvars.eVar54="build to order"}if("ZSO recommended accessory click"==s||"ZSO CTA click"==s){var P=_satellite.getVar("setDefaultProductVariables");P.id=a.get("event.-1.attributes.wishlist.-1").split("~")[2],P.category="after sales",P.merchEvars.eVar53="accessory configurator",P.merchEvars.eVar52=a.get("event.-1.eventInfo.cause"),P.merchEvars.eVar54=a.get("event.-1.attributes.wishlist.-1").split("~")[0],h.append(P)}switch(t.products=h.toString(),t.linkTrackVars+=",prop56,prop53,eVar34,prop54,prop55,prop51,prop52,products,eVar136,eVar17,prop28,prop52,prop55,eVar60,eVar55,eVar65,prop19,prop3,prop44",s){case"ZSO Specific accessory click":case"ZSO recommended accessory click":"accessory click"==v&&(t.events=t.apl(t.events,"event917,event918,event253,event254",",",1));break;case"ZSO CTA click":"cta click"==v&&(t.events=t.apl(t.events,"event917,event918,event253,event254,event255,event256",",",1),"Request Offer now"!=p&&"Order Information"!=p&&"Request for Test drive"!=p||(t.events=t.apl(t.events,"event1,event2",",",1)))}}else t.prop56="interaction",t.prop53="ux",t.prop43="navigation",t.eVar34="nsc > "+s+" clicked",t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop42="nsc website",t.prop53="navigation",t.prop13="bmw",t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.eVar134="web",t.prop27=a.get("page.pageInfo.pageID"),t.prop3=a.get("component.-1.componentInfo.componentName"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=a.get("page.pageInfo.devEnv"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),t.eVar136="2020 - 06- 15 model_navigation_hp";else t.events=t.apl(t.events,"event917,event918,event921,event922"),t.prop43="navigation",t.eVar34="nsc > "+s+" clicked",t.prop52="default",t.prop53="ux",t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop13="bmw",t.eVar134="web",t.prop27=a.get("page.pageInfo.pageID"),t.prop28=a.get("page.attributes.virtualPage"),t.prop3=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),t.prop2=a.get("page.category.pageType"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=a.get("page.pageInfo.devEnv"),"new car"==a.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),"Outbound click"==a.get("event.-1.eventInfo.eventAction")&&s.indexOf("test")>-1&&s.indexOf("drive")>-1&&(t.prop11="tda",t.prop8="form start intention",t.linkTrackVars+=",prop11,prop8"),t.eVar136="2020 - 06- 15 salesbar",t.linkTrackVars+=",prop51,prop3,prop2,prop52,prop44,prop19,prop28,eVar34,prop53,prop13,prop43,eVar134,prop27,eVar135,eVar54,eVar17,prop56,prop52,prop53,prop51,prop19,prop44,prop13,eVar134,prop27,prop3,prop28,eVar135,eVar136";if(n.update("pageName",t.prop1),n.update("componentSubcategory1",t.prop43),_satellite.getVar("KIT-helpers").privacyManager.isCookieDrawerShown()){var j=a.get("event.-1.attributes.relatedComponentID");for(k=0;k<a.get("component").length;k++){var y=k.toString();a.get("component."+y+".componentInfo.componentID")!=j&&a.get("component."+y+".componentInfo.componentId")!=j||(_satellite.logger.log("related component - "+a.get("component."+y)),a.get("component."+y+".componentInfo.componentName",a.get("event.-1.attributes.relatedComponentName",a.get("product.-1.attributes.relatedComponentName"))),a.get("component."+y+".componentInfo.componentID",a.get("component."+y+".componentInfo.componentId")),a.get("component."+y+".category.primaryCategory"))}s=_satellite.getVar("eventName"),p=_satellite.getVar("eventEffect"),_satellite.getVar("eventCause"),_satellite.getVar("eventPrimaryCategory"),_satellite.getVar("eventSubCategory01"),t.events=t.apl(t.events,"event925,event926"),t.eVar34="nsc > "+a.get("event.-1.eventInfo.effect","cookie drawer is shown"),t.prop51=a.get("event.-1.eventInfo.eventName","Cookie drawer impression"),t.prop52=a.get("event.-1.eventInfo.cause","default"),t.prop55=a.get("event.-1.category.subCategory01","impression")}try{var C=_satellite.getVar("topLevelDomain");if("true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&("bmw.de"==C||"bmw.fr"==C||"bmw.co.uk"==C||"bmw.it"==C||"bmw.nl"==C)){function w(){function e(){a||(a=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics")))}var a=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",e]);var o="_cs_mk",s=("; "+document.cookie).split("; "+o+"=");if(_satellite.logger.log("contentsquare installation1",s.length),1==s.length){var n=Math.random()+"_"+Date.now();t.eVar142=n,_satellite.logger.log("contentsquare installation",t.eVar131);var i=function(){for(var e=0,t=document.domain,a=t.split("."),o="_gd"+(new Date).getTime();e<a.length-1&&-1==document.cookie.indexOf(o+"="+o);)t=a.slice(-1-++e).join("."),document.cookie=o+"="+o+";domain="+t+";";return document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}();document.cookie=o+"="+n+"; expires=session ;path=/;domain="+i,_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:n}])}}w()}}catch(e){r={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(e,r)}try{var R=_satellite.getVar("AA-componentDefaultValues");R&&"configurator all models"==R.componentName&&(t.prop1="nsc > all-models-con-entry",t.pageName="all-models-con-entry",t.prop2=a.get("page.category.pageType","page"),t.prop4=a.get("page.category.subCategory01","con entry"),t.prop3="models",t.prop28=a.get("page.attributes.virtualPage"))}catch(e){r={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(e,r)}for(var x=a.get("component"),k=0;k<x.length;k++)if(x[k].attributes&&x[k].attributes.onsiteSearch&&"General"===x[k].attributes.onsiteSearch){var T="true";break}if("true"==T){a.get("component.1.componentInfo.componentName"),a.get("component.-1.attributes.onsiteSearchResults"),t.prop56="search",t.prop53="content",t.eVar34="nsc > onsite search result clicked",t.prop51=x[k].componentInfo.componentName,t.prop55=t.prop24=x[k].attributes.onsiteSearchResults,t.prop57=a.get("event.-1.eventInfo.eventAction"),t.prop54="onsite search",t.prop44=x[k].componentInfo.componentID,t.prop19="onsite search",t.prop42="nsc website",t.prop43="search",t.eVar136="2021 - 02- 19 onsite search",t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.prop13="bmw";var E=x[k].attributes.onsiteSearchTerm;t.events=t.apl(t.events,"event917,event918,event333,event334,event331,event332");var I=_satellite.getVar("searchDefaultProduct");(h=_satellite.getVar("setDefaultProductVariables")).merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),h.merchEvars.eVar53="new car",t.products=h.toString(),t.products+=",search;search;;;;"+I+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+a.get("event.-1.attributes.onsiteSearch")+"|eVar33="+E}t.prop56="page view",t.prop53="success",t.prop55=a.get("page.category.subCategory01"),t.prop51=a.get("page.category.subCategory02"),t.prop57="page load",t.eVar34="nsc > page: "+a.get("page.pageInfo.pageName")+" shown",t.prop54=a.get("component.-1.componentInfo.componentName")}catch(a){t.sa("bmwgroup.group.global.test"),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(a)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC00531f3064cd46b3afcc58360a38eacd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLdbe2aba1471f4c24be9275cbcd71cbf3",name:"TPT - RU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC550dcba4609e41069fd0f68aad48c662-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0351f51e9c024720ab363a66a144a24d",name:"TPT - DE - AEM - Facebook - Mini",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc52a4b69e606487c9a2db0f08ae0d29a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2374524919ae403d822f222bf475230a",name:"TPT - PL - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC93557d6f416b4daea496c819ed097a66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44a9c5174d22432cb67e82f978b7c923",name:"TPT - RU - AEM - RuTarget - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe8d350aeb5824f12ad7fb0da66546314-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL14d27eb79a8e4b5dbda70a2804c2c309",name:"TPT - UK - AEM - DoubleClick - Multiple - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#action-bar div:nth-child(1) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#custom-dealer-container a.location__detail-website",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"title",value:"Book a service"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("URLNoParam");"www.bmw.co.uk/en/all-models"==e?_satellite.setVar("ruleType","floodlight_price_list_item"):"www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html"==e?_satellite.setVar("ruleType","floodlight_dealer_confirmation"):"www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html"==e&&_satellite.setVar("ruleType","floodlight_find_your_bmw")}catch(e){_satellite.logger.error("TPT FloodLight UK",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC296b3a08369540fdb25dce47d7609ffd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLecf5e4de970d4525ba4f2c4d9cbd63aa",name:"TPT - BE - AEM - Facebook - RFI - Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1c317bf9dfa7449ba7c4fa62dba28770-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb201d9e5c1184fba84e2c92f7ea72c23",name:"TPT - DE - AEM - ContentSquare - MINI DCS - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/shop/dcs/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcae5729822f345bc81544d679fb294ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0aca3a5734e841b2b21932a8f981e0d7",name:"PLR - LU - All Pages - Custom Script - Visitor Reco Script ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'try {\n     ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n            return rawScore = 1e3 / (1 + Math.exp(-i)), \n\t\t\tfinalScore = Math.round(100 / (1 + Math.exp(-i))), \n\t\t\t_satellite.setVar("raw_score", rawScore + ""), \n\t\t\t_satellite.setVar("final_newscore", finalScore + "")\n        }\n\n        function setCookie(e, i, o, r) {\n            var t = ""\n            if (o) {\n                var n = new Date\n                if (r) {\n                    switch (r) {\n                        case "m":\n                            n.setTime(n.getTime() + 60 * o * 1e3)\n                            break\n                        case "h":\n                            n.setTime(n.getTime() + 60 * o * 60 * 1e3)\n                            break\n                        case "d":\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                            break\n                        default:\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                    }\n                    t = "; expires=" + n.toGMTString()\n                }\n            }\n        \n            "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n        }\n\n        function getCookie(e) {\n            for (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n                for (var t = i[r];\n                    " " === t.charAt(0);) t = t.substring(1, t.length)\n                if (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n            }\n            return null\n        }\n\n        function getParsedCookie(e) {\n         var i=window.epaas.api.getPersistence(e);\n          //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\t\t\n//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\n        function check_deviceType() {\n          var e = getParsedCookie("v_reco_data"),\n                 i = JSON.parse(JSON.stringify(e.deviceType || {})) \n          navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile": navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop": e.deviceType = "misc"),updateBucket(score_obj, "deviceType", e.deviceType),window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n\t\t \n        }\n\t\t\n\t\t\n\n//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\t\n\t\t\t  function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.sessionDuration || 0\n            4 >= i ? updateBucket(score_obj, "sessionDuration", "leq4") : 18 >= i ? updateBucket(score_obj, "sessionDuration", "g4_leq18") : 24 >= i ? updateBucket(score_obj, "sessionDuration", "g18_leq24") : 58 >= i ? updateBucket(score_obj, "sessionDuration", "g24_leq58") : 111 >= i ? updateBucket(score_obj, "sessionDuration", "g58_leq111") : 188 >= i ? updateBucket(score_obj, "sessionDuration", "gteq111_188") : 308 >= i ? updateBucket(score_obj, "sessionDuration", "gteq188_308") : 514 >= i ? updateBucket(score_obj, "sessionDuration", "gteq308_514") :  997 >= i ? updateBucket(score_obj, "sessionDuration", "gteq514_997") : i >= 998 && updateBucket(score_obj, "sessionDuration", "gteq998")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.sessionDuration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "sessionDuration", "leq4") : 5 == r ? updateBucket(score_obj, "sessionDuration", "g4_leq18") : 19 == r ? updateBucket(score_obj, "sessionDuration", "g18_leq24") : 25 == r ? updateBucket(score_obj, "sessionDuration", "g24_leq58") : 58 == r ? updateBucket(score_obj, "sessionDuration", "g58_leq111") : 112 == r ? updateBucket(score_obj, "sessionDuration", "gteq111_188") : 189 == r ? updateBucket(score_obj, "sessionDuration", "gteq188_308") : 309 == r ? updateBucket(score_obj, "sessionDuration", "gteq308_514") : 515 == r ? updateBucket(score_obj, "sessionDuration", "gteq514_997") :  r >= 998 && (updateBucket(score_obj, "sessionDuration", "gteq998"), clearInterval(o)), i.sessionDuration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            \n            }, 1e3)\n\t\t\t\n\t\t\t\n        }\n\t\t\n\t\t\n////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\t\t\n\t\t\n\t\tfunction check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_configurator_session_duration || 0\n            if (i && (19 >= i ? updateBucket(score_obj, "sessionDuration_config", "leq19"):93 >= i ? updateBucket(score_obj, "sessionDuration_config", "g19_leq93"):244 >= i ? updateBucket(score_obj, "sessionDuration_config", "g93_leq244"):574 >= i ? updateBucket(score_obj, "sessionDuration_config", "g244_leq574"): 575 >= i  && updateBucket(score_obj, "sessionDuration_config", "gteq575")), (URL.indexOf("configure.bmw") > -1|| URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_configurator_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "sessionDuration_config", "leq19") : 20 == r ? updateBucket(score_obj, "sessionDuration_config", "g19_leq93") : 94 == r ? updateBucket(score_obj, "sessionDuration_config", "g93_leq244") : 245 == r ? updateBucket(score_obj, "sessionDuration_config", "g244_leq574") : r >= 575 && (updateBucket(score_obj, "sessionDuration_config", "gteq575"), clearInterval(o)), i.new_configurator_session_duration = r + "",/* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n             \n            }, 1e3)\n        }\n\t\t\n\t\t\n\n\n\t\t\n\t\t\n//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\n        function check_channel() {\n         \n            var e = getParsedCookie("v_reco_data")\n            \n            if (e.lastChannel && "other" != e.lastChannel) updateBucket(score_obj, "lastChannel", e.lastChannel)\n            else {\n                e.lastChannel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.lastChannel = "paid_search"\n                        break\n                    } if ("other" == e.lastChannel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n                }\n                updateBucket(score_obj, "lastChannel", e.lastChannel)\n            }\n\t\t\twindow.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n\n\n//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\n    function check_pageview_metrics() {\n     \n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.uniquePVs || {})),\n                t = 0,\n                n = !0,\n                a = !0\n     var hostname=window.location.host\n      if(hostname.indexOf("www.")>-1)\n        hostname=hostname.replace("www.","")\n    var pathURL = hostname+window.location.pathname\n           i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++ \n          1 >= t ? updateBucket(score_obj, "uniquePV", "eq1") : 2 == t ? updateBucket(score_obj, "uniquePV", "eq2") : 3 >= t  ? updateBucket(score_obj, "uniquePV", "eq3") : 4 >= t  ? updateBucket(score_obj, "uniquePV", "eq4") : 6 >= t  ? updateBucket(score_obj, "uniquePV", "g5_leq6"): t > 7  && (updateBucket(score_obj, "uniquePV", "gteq7"), t > 8 && (a = !1)), a && (e.uniquePVs= i, window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n)\n        }\n\t\t\n//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\t\t\t\t\n\t\t function check_configPV() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.configPV && "yes" == e.configPV) updateBucket(score_obj, "configPV", e.configPV)\n             else if ( URL.indexOf("configure.bmw.be") >-1|| URL.indexOf("/konfigurator.html")>-1) {\n               e.configPV="yes"\n               updateBucket(score_obj, "configPV", e.configPV)\n             }\n         else{\n           e.configPV="no"\n          updateBucket(score_obj, "configPV", e.configPV)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)) \n       }\n\t\t\t\n//////////////////////////////////////////////campaignPV////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t\n\t\t   function check_campaignPV() {\n\t\t\t   var e = getParsedCookie("v_reco_data") \n\t\t\t   setTimeout(function(){\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\t var o = setInterval(function() {\n\t\t\t\t\t\t\t e.campaignPV=\'true\'\n\t\t\t\t\t\t\t updateBucket(score_obj, "campaignPV", e.campaignPV)\n\t\t\t\t\t\t\t clearInterval(o)\n\t\t\t\t\t\t },1000);\n\t\t\t\t\t}else{\n\t\t\t\t\t\te.campaignPV="false"\n\t\t\t\t\t\tupdateBucket(score_obj, "campaignPV", e.campaignPV)\n\t\t\t\t\t}\n\t\t\t\t   \n\t\t\t\t }, 2500); \n\t\t\t   \n\t\t   }\n\t\t   \n//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\t\t\t\n\t\t\t\t\n\t\t\tfunction check_sessionDuration_SL() {\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\tvar e = getParsedCookie("v_reco_data") \n\t\t\t   if (s.prop43 == \'stocklocator-prod\'|| s.prop43 == \'stocklocator_pat-prod\' || s.prop43 == \'new car stock locator\') {\n\t\t\t\t   e.sessionDuration_SL=\'true\'\n\t\t\t\t   updateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t\t }\n\t\t\t else{\n\t\t\t   e.sessionDuration_SL="false"\n\t\t\t   updateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t }\n\t\t\t window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)) \n\t\t\t }, 2500);\n\t\t   }\n\t\t\n\n//////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n  \n\t\t\tfunction check_model_viewed() {\n              var e = getParsedCookie("v_reco_data"),\n              curentURL = window.location.href\n              if (curentURL.indexOf("/all-models/") >-1){\n\t\t\t\t var t = getParsedCookie("v_reco_data")[\'modelVisit\']\n                \n\t\t\t\t if (t > 1){\n\t\t\t\t\t e.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\n\t\t\t\t\t  1 > t ? updateBucket(score_obj, "modelVisited", "eq0") : 1 == t ? updateBucket(score_obj, "modelVisited", "eq1") : 4 >= t  ? updateBucket(score_obj, "modelVisited", "g1_leq4"): t > 5  && (updateBucket(score_obj, "modelVisited", "gtew5"), t > 8 ), (e.modelVisited++, window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)))\n                                                                                                                        \n              }\n\t\t\t\t else{ \n\t\t\t\t\t e.modelVisit = 1\n\t\t\t\t\t updateBucket(score_obj, "modelVisit", e.modelVisit)\n\t\t\t\t\t    1 > t ? updateBucket(score_obj, "modelVisited", "eq0") : 1 == t ? updateBucket(score_obj, "modelVisited", "eq1") : 4 >= t  ? updateBucket(score_obj, "modelVisited", "g1_leq4"): t > 5  && (updateBucket(score_obj, "modelVisited", "gtew5"), t > 8 ), (e.modelVisited, window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)))\n\t\t\t\t }\n\t\t\t  \n             }\n         \n        }\n\n//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t function check_user_visit_number() {\n\t\t\t\t\t var e = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\t t = _satellite.getVar(\'AT-numSessions\')  \n\t\t\t\t\t1 == t ? updateBucket(score_obj, "UV_number", "eq1") : 2 == t ? updateBucket(score_obj, "UV_number", "eq2") : 4 >= t  ? updateBucket(score_obj, "UV_number", "g3_leq4") : 8 >= t ? updateBucket(score_obj, "UV_number", "g5_leq8") : 21 >= t ? updateBucket(score_obj, "UV_number", "g9_leq21"): t > 22  && (updateBucket(score_obj, "UV_number", "gteq22"), t > 22 ), e.UV_number = t,window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n\t\t\t\t\t\t\t \n\t\t\t\t}\n\t\t\t\t\t\t\t \n\t\t\t\n\n//////////////////////////////////////////////distinctPage_CV////////////////////////////////////////////////////////////////////////// \n\n\t\t\t\n        function check_distinctPage_CV() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data"),\n                    i = JSON.parse(JSON.stringify(e.distinctPage_CV || {})),\n                    t = 0,\n                    n = !0,\n                    a = !0\n                var category = s.prop43\n\n                if (category != \'\') {\n                    i[category] ? i[category] += 1 : i[category] = 1\n\n                    for (var h in i) t++\n                    1 >= t ? updateBucket(score_obj, "distinctPage_CV", "leq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV", "eq2") : 3 >= t ? updateBucket(score_obj, "distinctPage_CV", "eq3") : 4 >= t ? updateBucket(score_obj, "distinctPage_CV", "eq4") : 5 >= t ? updateBucket(score_obj, "distinctPage_CV", "gteq5") : t > 6 && (updateBucket(score_obj, "distinctPage_CV", "gteq5"), t > 6 && (a = !1)), a && (e.distinctPage_CV = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n                }\n\n            }, 2000);\n                updateBucket(score_obj, "finalScore", _satellite.getVar(\'final_newscore\'))\t\n        }\n\t\t\n\t\n\t\t\t   \n\t\t \t   \n\t\tfunction scorefinal() {\n\t\t\t\t\t setTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data") \n\t\t\t  \n\t\t\t\t   e.scorefinal = _satellite.getVar(\'final_newscore\');\n\t\t\t\t   updateBucket(score_obj, "scorefinal", e.scorefinal)\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)) \n\t\t\t }, 2500);\n\t\t   }\n\t\t\t  \n\t\n\t\t\n\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                n = {},\n                a = {},\n\t\t\t\tb = {},\n\t\t\t\tc = {},\n\t\t\t\td = {},\n\t\t\t\tf = {},\n\t\t\t\th = {},\n\t\t\t\tj = {},\n\t\t\t\tk = {},\n\t\t\t\t\n                s = {}\n            if (addDimension(s, "always_on", weight_value(-8.45108, 1)),\n\t\t\t\n\t\t\taddDimension(i, "eq1", weight_value(0)), \n\t\t\taddDimension(i, "eq2", weight_value(1.03115)),\n\t\t\taddDimension(i, "eq3", weight_value(0.31654)),\n\t\t\taddDimension(i, "eq4", weight_value(-0.17997)),\n\t\t\taddDimension(i, "g4_leq6", weight_value(-0.47789)),\n            addDimension(i, "gteq7", weight_value(-0.52477)),\n\t\t\t\n\t\t\taddDimension(o, "leq4", weight_value(0)), \n\t\t\taddDimension(o, "g4_leq18", weight_value(2.44364)),\n\t\t\taddDimension(o, "g18_leq24", weight_value(1.64676)), \n\t\t\taddDimension(o, "g24_leq58", weight_value(2.72436)), \n\t\t\taddDimension(o, "g58_leq111", weight_value(3.17357)),\n\t\t\taddDimension(o, "gteq111_188", weight_value(3.47714)), \n\t\t\taddDimension(o, "gteq188_308", weight_value(3.56107)), \n\t\t\taddDimension(o, "gteq308_514", weight_value(3.56107)), \n\t\t\taddDimension(o, "gteq514_997", weight_value(4.01808)), \n\t\t\taddDimension(o, "gteq998", weight_value(4.04733)),\n\t\t\t\n\t\t\taddDimension(r, "leq19", weight_value(0)), \n\t\t\taddDimension(r, "g19_leq93", weight_value(-0.41774)), \n\t\t\taddDimension(r, "g93_leq244", weight_value(-0.25163)),\n\t\t\taddDimension(r, "g244_leq574", weight_value(0.2874)),\n\t\t\taddDimension(r, "gteq575", weight_value(0.44108)),\n\t\t\t\n\t\t\t\n\t\t\taddDimension(n, "mobile", weight_value(0.14626)), \n\t\t\taddDimension(n, "misc", weight_value(0)), \n\t\t\taddDimension(n, "tablet", weight_value(0)), \n\t\t\taddDimension(n, "desktop", weight_value(0.65607)), \n\n\t\t\t\n\t\t\taddDimension(a, "paid_search", weight_value(1.01435)), \n\t\t\taddDimension(a, "display", weight_value(0)), \n\t\t\taddDimension(a, "other", weight_value(1.1207)), \n\t\t\t\n\t\t\taddDimension(b, "eq0", weight_value(0.329901)),\n            addDimension(b, "eq1", weight_value(-0.95748)),\n\t\t\taddDimension(b, "g1_leq4", weight_value(-1.23463)),\n\t\t\taddDimension(b, "gtew5", weight_value(-1.33632)),\n\t\t\t\n\t\t\t\n\t\t\taddDimension(c, "yes", weight_value(-2.42262)),\n\t\t\taddDimension(c, "no", weight_value(0)),\n\t\t\t\n\t\t\taddDimension(d, "true", weight_value(-0.83404)),\n\t\t\taddDimension(d, "false", weight_value(0)),\n\t\t\t\t\n\t\t\taddDimension(f, "true", weight_value(-1.04733)),\n\t\t\taddDimension(f, "false", weight_value(0)),\n\t\t\t\n\t\t\taddDimension(h, "leq1", weight_value(0)),\n            addDimension(h, "eq2", weight_value(1.75798)),\n\t\t\taddDimension(h, "g3_leq4", weight_value(1.85683)),\n\t\t\taddDimension(h, "g5_leq8", weight_value(2.02324)),\n\t\t\taddDimension(h, "g9_leq21", weight_value(1.62735)),\n\t\t\taddDimension(h, "gteq22", weight_value(1.85545)),\n\t\t\t\n\t\t\taddDimension(j, "eq1", weight_value(0)),\n\t\t\taddDimension(j, "eq2", weight_value(2.07225)),\n\t\t\taddDimension(j, "eq3", weight_value(3.23174)),\n\t\t\taddDimension(j, "eq4", weight_value(4.63607)),\n\t\t\taddDimension(j, "gteq5", weight_value(7.0647)),\n\t\t\t\n\t\t\taddDimension(k, "scorefinal", weight_value(0)),\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\taddDimension(score_obj, "uniquePV", i), \n\t\t\taddDimension(score_obj, "sessionDuration", o), \n\t\t\taddDimension(score_obj, "sessionDuration_config", r), \n\t\t\taddDimension(score_obj, "deviceType", n),\n\t\t\taddDimension(score_obj, "lastChannel", a),\n\t\t\taddDimension(score_obj, "modelVisit", b),\n\t\t\taddDimension(score_obj, "configPV", c),\t\t\t\t\n\t\t\taddDimension(score_obj, "campaignPV", d),\t\t\t\t\n\t\t\taddDimension(score_obj, "sessionDuration_SL", f),\n\t\t\taddDimension(score_obj, "UV_number", h),\n\t\t\taddDimension(score_obj, "distinctPage_CV", j),\n\t\t\taddDimension(score_obj, "scorefinal", k),\t\t\t\t\n\t\t\taddDimension(score_obj, "intercept", s), \n\t\t\t\n\t\t\tcheck_deviceType(), \n\t\t\tcheck_pageview_metrics() ,\n\t\t\tcheck_channel(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(), \n\t\t\tcheck_model_viewed (),\n\t\t\tcheck_configPV(),\n\t\t\tcheck_campaignPV(),\n\t\t\tcheck_sessionDuration_SL(),\n\t\t\tcheck_user_visit_number(),\n\t\t\tcheck_distinctPage_CV(),\n\t\t\t scorefinal(),\n\n\t//\t\tgetCookie("bmwdtm_hq_sid")\n               window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\t\tshouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n            window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n\n    }()\n\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL605c37c4ca01460798d39ba2fc141a97",name:"TPT - CH - AEM - DoubleClick - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC87bd0c4e4ca346f39628b1658d340376-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcb323d52b85e42f8bfb2afef2349c4ba",name:"TPT - HU - AEM - Facebook - forms_simulated_page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd3cd3b42a49a424dbf514058451f7f3c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9b48f9f5d5e4026be42fe212d9955cd",name:"TPT - RO - AEM - DoubleClick - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbdeda987823f44d58d514cdcb01b385e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29d61aed08ed4ad0bf32e0a555f19e7d",name:" TPT - IE - AEM - Gtag_DC - PHEV Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.ie/en/configurator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC378db241bbef4b5ea4ad5cafcc976259-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc670f425f514233b94375f2363127a9",name:"TPT - DE - AEM - Adform - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/success-pool/success-page-rfi.business-forms.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb6e1c358fbe49dabaa1d22fabe56187-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85340ac3399f42ad9b224935502da563",name:"TPT - AT - AEM - Facebook - iFrame RFO Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc379af0419164dd89184e54ac88408a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5527d1c8c6234077861ed8002b3faf4a",name:"TPT - IE - AEM - Gtag_DC - 1 Series Book a Video Consultation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2019/bmw-1-series-inspire.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaaf5757339a3426992fc437918a523df-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b7c670882ab454a8b37b7361c09cbb2",name:"TPT - DK - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbda662b74c664a8a8f796e912f7d7df8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL860fe4ff9b664526831fea6c3a233ab7",name:"TPT - IT - AEM - Adword - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-track-download",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40c7d134a2b840c28927179246aeb659-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL654a32ffd9e54258ada7370906cfc81b",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7d6517d6112d4d3a9bff17dd44966129-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d301d200ec549318355ff8f5481a2a8",name:"TPT - PL - AEM - Facebook - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe19621df52dc4676992f7bd8c80dcbb9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb369e2d9eda24e22928459d60231767b",name:"TPT - SI - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC387708eed64040a2959cbf58ef507f7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe31ac1c23bfd4ef4a3ab47e1e845603b",name:"TPT - NO - AEM - Adwords - Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/no/topics/offers-and-services/bmw-tilbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5f23b62a746e40719822521a9ab5227f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29acee29926749569a6d9cc1c18decf0",name:"TPT - GR - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd2e5a410131e4198b810af8ed67fc51a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75e1032d1f4842e28d9b3593b6a44c72",name:"TPT - NL - AEM - Facebook - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",
settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd6d73e960f0544139e004774aeb6bb5c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL01553601ab124181b34de18153e44948",name:"TPT - UK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC26cd543b20584119ae126e3621febf7c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbaed16e1d1b94d15a0db465604572e37-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7278c40477974fb58e834e299a12106e",name:"TPT - IT- AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC52a9e0b953c540efaa1b3abeaa98046e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ee2f93f2eb44906bcbd24dc486670cd",name:"TPT - IN - AEM - Marketo - Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var pathname = window.location.pathname;\n\n    if (pathname == '/en/test-link.html' || pathname == '/en/all-models/x-series/x7-test/2018/test-link.html' ) {\n    (window.p15r = window.p15r || []).push({\n        processingId: 'AdobeMarketo',\n        action: 'register',\n        callback: function(pid, paramObj, cfg) {\n         (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n c[a].a=i;c[a].e=e;var g=h.createElement(\"script\");g.async=true;g.type=\"text/javascript\";\n g.src=f+'?aid='+i;var b=h.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(g,b);\n })(window,document,\"rtp\",\"//snrtp-cdn.marketo.com/rtp-api/v1/rtp.js\",\"bmwindiasandbox2\");\n \nrtp('send','view');\nrtp('get', 'campaign',true);\n        },\n        config: {\n            defCat: \"advertising\"\n        }\n    }, {\n        processingId: 'AdobeMarketo',\n        action: \"execute\"\n    })\n}\n} catch (err) {\n    _satellite.logger.error(\"TPT - IN - AEM - Adobe Marketo - All Pages - PLR - p15r[l]\", err);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL0ce488b8f78e4614aa0b494d409f2c9c",name:"TPT - GR - AEM - IgnitionOne - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc35028a1f49a4528ac8cad50d20f23f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24d46f9ad477447e9d31941e03b49c44",name:"TPT - FR - AEM - Adform - DCS Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe8d687b86e7344a99f62743596891f6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf744c359344473880a1e6e6964c1a5e",name:"TPT - SE - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC36535a32e7a448a892ea476a7e9489c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd6f0558b6409419e8dc9f5ecb5a28975",name:"TPT - IE - AEM - Gtag_DC - Get A Quote Click - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/discover-get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/forms/rfo/get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC743151fd90c64e61bd4da220287d6b70-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL13c283c2052b4b73b16fcbe79d8f9193",name:"TPT - IE - AEM - Adwords - View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href^="https://discover.bmw.ie/bmwoffers/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC417fc1788c2444b7969ef8f6cb021f38-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL65f42a04449d443fa5bc8032ea071ce9",name:"TPT - UK - AEM - GTagDC -iFrame Forms Oli FS Payment - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_payment"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC126aa450fd7f4980a0a1d20e80f666c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9923cf44ff54739b174e2059d911e3e",name:"TPT - DE - AEM - GTagDC - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6cab7b9facb5478ea40dd1b0ec7c70a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLde4829a6a0ea48eab87918c66c12b34b",name:"TPT - AT - AEM - Facebook - Zum ConnectedDrive Store - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.ds2-accessibility > a[href="https://www.bmw-connecteddrive.at/app/index.html#/portal/store"].button.standard.expand.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9fab554dbb0b47b38595467d6a0009d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL245488f5d9644817a47397f7586bcd25",name:"TPT - JP - AEM - WebChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6cdb1fedd2a54fe0a2dc9868ff1f4ea1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf2c899d090cc4cc5bfe27736862befda-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d603460e64e4fa6ac614dbe47954999",name:"TPT - LU - AEM - GTagDC - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC31d49edfd1a9471ca435060af6352d9e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4c4171e002114692afb25679b46dbf89-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL404afeb8bd0645c9b610bafa0b3b790a",name:"TPT - PL - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdb2f912a9bca431dbcddd4e535acc132-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f5d1450985045f0a86fd5be22b94da2",name:"TPT - CZ - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC67cfaff11037435582b3a61d57a5ad31-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd06ece9d613b4ff0a0947dd82ea929c3",name:"TPT - SG - AEM - Tradedesk - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC81ad08149bfa413dab9f14d84c051cb6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL42f7974628bf4f089b8b03c00e9bf8c4",name:"TPT - NO - AEM - Adform - Firmabil Offer Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Salgskampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfa8c1934026042d1b29132cef43888ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL783a19fc8e6c4e98b9e9515e8df9d31f",name:"TPT - IE - AEM - GTagDC - 2 Series Get Quote Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(1) > div > a[href="/en/redirect/discover-get-a-quote.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b4c2e56e7fd482eb2b0607a013f1aed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa955ecfbef14493bb6505d43bbd09a20",name:"TPT - BG - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd58fe1d6c39d4872a92d9509e0b7025b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3fb02349c7241a78e661cc534d6c8a8",name:"TPT - SK - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdbc245662b3e43cc8ba1fb7af4544125-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL651ae701c43745368727713c17104f04",name:"TPT - AR - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9679057e40bd4b15a3838be382906856-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC69d726fb94634b9ab9867086d7904dbb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb0345be4eec54f91a3fa49f6ef9d7221",name:"TPT - CZ - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6649de2c6eea4bbeba010bae0557dc0f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLad3948d4188e40ecbf58be338f167326",name:"TPT - RU - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1dfc2afcef344cf39cc78f86b0df5f36-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL896ff4ea18ac4557bcc9c0d8a35347e5",name:"TPT - ES - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,a){var o=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){o=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){o||a()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7e9d8060d83845e680da17660bb99d09-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbe9444dd56c2476fa9ebc070834315b7",name:"TPT - GR - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC631388595bd24db5936b40729c05ffff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL452179c4ddcb401e9a061557d170b0f5",name:"TPT - UK - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa9b0d98446094cd6807dc2c2dbc241db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6a790ce58b8f44498fdaf0a7d070d29f",name:"TPT - SK - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8a202fdd553d40e4a7e9c4b5302a533c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa39da03fafa94c6c897d5891576e2566",name:"TPT - HU - AEM - Adwords - TDA Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC560b835406ba406baca3baf4891b6e47-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLe5d725d804fa441ea03bf878f90a81af",name:"TPT - RO - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC926faac70aed44dbb4eac5dc48f6deff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f30371aaa6a4350b26ae4b19980a318",name:"TPT - LU - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/rfi/catalog.de.html#/"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7b06a214a762413c8235de90a3a321a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4bfb839f42f44eb9b5326cf728172907",name:"TPT - SI - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC99f82ed2f38b4b8cb2c3802d95500ef0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaf1d0d42ecdf46649af2dbb5fdee7204",name:"TPT - CZ - AEM - AdWords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC149878cf4b9e47788c25c968aa4aa4b5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe4015253bed441cfacbf977826d16e85",name:"TPT - GR - AEM - Trade Desk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC65e55ea591354f07bef90f976ef66841-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb11cfd28399c4ff997075c46e0827d5d",name:"TPT - ZA - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC598f314e3b424832a596409b93f12f52-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6683a30b005a4b80b78dd87c258fd785",name:"TPT - NZ - AEM - Facebook - CON Test Drive - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".h5vco-model-serie-range.h5vco-animate-range.ng-scope.normal",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"input",elementProperties:[{name:"name",value:"c-submit",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC77e768d124e54a31899862d76f14c0ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7e8f8d7c3999482896b4dd006c2b87eb",name:"TPT - NL - AEM - Adwords - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf83e4a9606984a93882b3c8dcc967982-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d7f19edf2f340f3948812465f1b00e3",name:"TPT - BE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf28df16fbb2441b895da59c929ef3c3f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdd199a1b8e6547a6bce9af757c42a73f",name:"DCR - ZA - AEM - AA - Mood Configuration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mood_pre_configuration_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.effect"),n=a.get("event.-1.attributes.relatedPageName",a.get("page.pageInfo.pageName")),i=(a.get("event.-1.category.subCategory01"),a.get("product.-1.attributes.fuelType")),r=_satellite.getVar("smartPreviousValueManager"),c=["vehicle","service","search","accessory"];-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,t.prop41=a.get("component.-1.category.componentType"),t.prop45=a.get("component.-1.category.componentVersion"),t.prop56=o,t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop53=a.get("event.-1.eventInfo.type"),t.prop12=a.get("event.-1.eventInfo.timeStamp"),t.eVar34=-1==s.indexOf("nsc >")?"nsc > "+s:s,t.prop52=a.get("event.-1.eventInfo.cause"),t.prop54=a.get("event.-1.category.primaryCategory"),t.prop55=a.get("event.-1.category.subCategory01",a.get("event.-1.category.subCategory1")),t.eVar71=a.get("event.-1.attributes.requestedURL"),t.prop44=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),t.prop27=a.get("event.-1.attributes.linkedPage.pageInfo.pageID"),t.prop13="bmw";var d=a.get("product.-1.attributes.internalCode"),l=a.get("product.-1.attributes.engine");if(l){var u=/[0-9]{3}[a-z]{1}/i,m=/xdrive[0-9]{2}[a-z]{1}/i,b=/sdrive[0-9]{2}[a-z]{1}/i,g=l.match(u)||l.match(m)||l.match(b);l.indexOf("i3 (120 ah)")>-1||l.indexOf("i3 (120ah)")>-1||l.indexOf("i3 120ah")>-1?l="i3 (120 ah)":l.indexOf("i3s (120 ah)")>-1||l.indexOf("i3s (120ah)")>-1||l.indexOf("i3s 120ah")>-1?l="i3s (120 ah)":g&&g.length&&(l=g[0].toUpperCase())}var f=_satellite.getVar("setDefaultProductVariables");f.id=a.get("event.-1.attributes.linkedProduct.productInfo.productID",a.get("product.-1.productInfo.productID"));var p=a.get("product.-1.category.subCategory1");c.indexOf(p)>-1?f.category=p:f.category="datalayer field missing",f.merchEvars.eVar58=l,f.merchEvars.eVar10=d,f.merchEvars.eVar56=i,t.products=f.toString(),t.prop59=a.get("product.-1.attributes.configID"),t.eVar59=a.get("product.-1.attributes.configLink"),"interaction"==o?(t.events=t.apl(t.events,"event917,event918"),
t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")):"error"==o&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",r.update("pageName",t.prop1)}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Pre configuration",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLfec196d595ff4e578261a05c0399f11b",name:"TPT - PT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5fadb75c83aa4593ab4702ef97bae3e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL801b99c79cdf4ec3afe9dd27906206bd",name:"TPT - BG - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf0bf3ff8fe6e411db1de651fd3e7b9cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf79d19f891e6472d80bc70dcc44bce66",name:"TPT - HU - AEM - Doubleclick - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6814d5c828f94d7fbf2387269a796c50-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL546a24a704bd4a3b81d547a9004f12e5",name:"TPT - IT - AEM - Adwords - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdaa525f3071b4ebd99ca9b54eec444b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL595ec6f4f42c45c88215ea2e4cf334d8",name:"TPT - UK - AEM - Adform - iFrame TDA/RFI Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC229d2b670f304a3a8478e726e83787a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL5a6eefbfe77c4cf1b2e9b903cbc9938f",name:"TPT - HU - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC62eb2eef19994f1b82e96be503e0a3a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa633d9b372464616bf7fddd4c8b3b932",name:"TPT - FR - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC765fca5cbd7848d3ae8a955511a628da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa5dc7e797d824f028a1d25e89c1f5362",name:"TPT - CH - AEM - GtagDC - RFO Stock Locator FormSubmit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCca4a6d32905244afb4646242df6782d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL17119fc8bb7a47009b122cc17eeaa09e",name:"TPT - HU - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdde14ad250494310b9ec55f5f793ab70-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e9f307f5b4f493c97b9ef06da564898",name:"TPT - ES - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb4a2916f06e42aaaeead219ddcd3068-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabfba9c4d0ef4278842deeaa3549c533",name:"TPT - HU - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC32dfaaf49ca740c0ac055ebe3296af33-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b2489c663ea4cdcac7b890c2c485991",name:"TPT - IT - AEM - Adform - SignIn - SingUp - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC456b6e0b695d4686b2394985e82d0ed8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb5537abe908343f983fc4237316f6c19",name:"TPT - CZ - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72488b7c408b4cca9bd4946c7e66232a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC926616bbc19a42518c9675595bd86c58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL38015ca0992646b48638974cbd6bb0ee",name:"TPT - NL - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC12c5a1ebe1a24e1384e4772fb36368eb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff6f57cdfd3a4218a7b82505daf8e0d6",name:"TPT - BE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC199f97d785c04c2aa4cbee55bb510dcc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8cb0fe3f0c44c73b053d46a4d19a86e",name:"TPT - IT - AEM - Sophus3 - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1131d1a37fcf4c3d83d8eff8e57d93be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL445d042a096e45358b2657f044f17409",name:"TPT - JP - AEM - SmartNews - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe0ca35559c144d63ac43cbce37db668c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc84379778b2f4f03a1aace8b664542ce",name:"TPT - IE - AEM - Adwords - RFO - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0ed6431bea754db4bd76400f59b3fd76-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41826bfc59d547c29b57a6b2221c136c",name:"TPT - NL - AEM - Facebook - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC25b635ce7489442db768bf83f978069d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc45cb79615584e8792968c0a3729c08f",name:"TPT - BG - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2535db70042d4188a7a029043930a3cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba0b83a414f24057b09eb54481b22182",name:"TPT - NZ - AEM - Facebook - 2 Series Register Interest - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Register your interest']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeeb6254f9867425da49c5fcc99dda5fb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe667705c69324e38a96c89eb84820105",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8fc7a0f937ca4f2abd95e5b4b6163e0b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe58295f310164e1e954b347b9c224071",name:"TPT - LU - AEM - DoubleClick - History Change Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - LU - Programmatic - History Change"+e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5361a8d274da4fd2aa0202c314d2e3ea-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c0169419463440da334d153d877400e",name:"TPT - GR - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC85b93bcc223f43bfab98868971ab2f1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8443d8d93804b2986b0e921fa652613",name:"TPT - DE - AEM - Outbrain - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc0cf4c295dab46cf9881453b39d0e626-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa1b37afbeb59489cb26bfd586ddb2ff0",name:"TPT - DK- AEM - Adform - SignIn - SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdf320b4e37ae437bb70b07dae3b017d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd29282aeda7f415ba2aac62b01f3758e",name:"TPT - BR - AEM - Facebook - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC420278f347ef437d85ea11356707117a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe0ddb75118634564918241d4568afedf",name:"TPT - AT - AEM - AdWords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf1dcb2b829ba4035b1ebd6afbf74032b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee89ee0aa7674dd39b51cd31f1a178d9",name:"TPT - RO - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3095021a6b0147858343f2b734cacee6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa9747ee6a2c548cea25f443508bbd269",name:"TPT - PL - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc93790afccf74265b6bb11c40a80d8fa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a3a266b03cc4d5fac28e05ce87dbafe",name:"TPT - SK - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8a94aefb4ce6407d8cb36cb1d043f75a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL46206c308aa64698a327102d249fcd26",name:"W - All - AEM - AA - BMW Registration Start",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#loginform > div > div > ul > li.small-12.medium-6.columns.s-order-2 > a > span, a.ds2-login-js--to-register > font, a.login-box__button-secondary > span > font > font,a.login-box__button-secondary,a.ds2-login-js--to-register,#loginform > div > div.login-box__container.login-box__bullet-container.column > ul.ds2-buttonlist.row > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop11="Registration",t.prop8="form started",t.eVar34="nsc > form started",t.prop19="registration",t.prop6=t.prop53="central form",t.prop7=t.prop55="My BMW Registration",t.prop17=a.get("transaction.-1.transactionID"),t.prop54="registration",t.prop56="form",t.prop10="dedicated forms",0!=a.get("product").length){var s=a.get("event.-1.category.mmdr"),n=_satellite.getVar("setDefaultProductVariables");if(n.id=a.get("event.-1.category.mmdr"),n.category="vehicle",n.merchEvars.eVar10=s,t.products=n.toString(),"undefined"!=t.products){var i="",r=0,c="",d="";r=(i=t.products).indexOf("eVar"),c=i.substring(r,i.length),d=i.substring(0,r),r>0&&c.length>0&&(t.products=d+c.replaceAll(/[,]/g," "))}}t.events=t.apl(t.events,"event93,event94,event3,event4"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event93,event94,event3,event4"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar34,prop11,prop8,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"regi_Start",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLabe2e8be280e4ad8859c0c536e4604dd",name:"TPT - IE - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/forms/tda/test-drive-appointment.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7128f754c1154248be0371f233970047-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed11f6f04c8a4ceb891feb7a96832858",name:"TPT - DK - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc789d62a51bf4c69a1d59f8da1d46e6d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0490b83a784e45cba8083c7dda5f4ec6",name:"TPT - ES - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbdb41aae1084420d9494ca93e46144fd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL050902efc33e484986944c09add2bd71",name:"TPT - SI - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa02eb91025c74210a98057027a6e0148-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe5644fac23664037968fdc8e1035fb88",name:" TPT - IE - AEM - Gtag_DC - iX3 Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.buttonLarge.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/iX3/2021/bmw-ix3-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC69d2f297f95f4b25bf8665ebc0009918-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d0b619281004ea58eab5ed87823038d",name:"TPT - AT - AEM - Facebook - Make an appointment online - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fastlane/dealer-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd4cc60e255aa4bb1b3d9ea5c57d1760a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1642043650624eed990678d9246862c1",name:"TPT - IN - AEM - Lotame - Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC43fe9ab30544462b878a3f1731dae628-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c62bf8985d54f83a571d3cff53432e7",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc0371ff9426d423d82a76a5012d6a2b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3ab710f9d25d45cc8145640eecd462a5",name:"TPT - IE - AEM - DoubleClick - Brochure download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC63db9110f3a4432b9a17f8da52b952fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf294a6cffb4e41e28f586cbf92aefbf7",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa95f4eb8e10e4ef68ea6a0c6b59c687a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc7461a68e0fa4bd5bc3a717c044a667a",name:"TPT - BE - AEM - Facebook - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC311191bf413f4b579dcca5d8366ad7a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc74622c3e37e422aa2a1dc1c938ffe97",name:"TPT - AT - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe34864889ee241c5821edcadb1e57454-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4146979f65c4fa8a33ef1d7c31d51d0",name:" TPT - IE - AEM - Gtag_DC - PHEV Dealer Locator Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC418df07036344437a355f3224770c51d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3fc9641c8b44120b03263374298a472",name:"TPT - IT - AEM  - Bing - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("bmw.it")>=0)return!0}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72c3927a7b1c41c5be19bf8fe3782e04-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28ca377a357f4883a40f7376cbc45d70",name:"TPT - FR - AEM - iAdvize - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC81212fb0e1b94c32a869835686bf3787-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL261b8cc56dfc41bcbe5b7d96afbc3518",name:"TPT - NL - AEM - Inbenta Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/nl/shop/voorraad-nieuw/checkout/",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb14a4e8a1b744d7b94413ef3806c968e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75ced9b629674dbaaba4d2c5dfc8c5d5",name:"TPT - NL - AEM - Gtag DC/AW - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaadde3e5643f4834a34b22b18c4d66e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3e3e4b998b5449cb96b60e67392034b",name:"TPT - ES - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1705a777713147ef9d9d67393c0141b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbfa75dd68a2f47e0bc96f984f9142e6b",name:"TPT - ZA - AEM - DoubleClick - Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form[id='bmw-form formstrap']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/G05/2018/testdrive",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5a5d1ca9bb0b4c478b1002f3884fdae9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4408ae56d669444d9f5166d557dea29a",name:"TPT - PT - AEM - Facebook - FormTracking - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC206bc1955e9043a797aef4086559b5ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc39c9a419554454ca9d37abaff7368d1",name:"TPT - IE - AEM - GTagDC - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6c2dba26af324b208064bccf64abde7b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe07b7d85532d4bb6ab61c184692bed1d",name:"TPT - IE - AEM - Gtag_DC - Configurator_Section_Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb6e84cc567d848da88a3bd16a2c7e092-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63200795ee1248cd913256077632a6fe",name:"TPT - CZ - AEM - Facebook - View Content - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCedb99aef26d042acaa4a42a24cdbdf52-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59af062b8d2e42d481c3179353f6f7e6",name:"TPT - UK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC08d7a0c49b4248869659aaa3e0db4a6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3be0001ecec14ecdbe0279bd8a243838",name:"TPT - ZA - AEM - Adform - All Models Buy Now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC43c671a6edc34ee28749aacbdf9ebce4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63ce784cc3254ddebecc43b4f4f564fe",name:"TPT - RO - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCedcad46d5d6345a5a253ffdf77892954-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b427301db434842be0003119748192a",name:"TPT - HU - AEM - Adwords - RFC RFI Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb7186047cd2f43cc849712c18bdfea4c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL704bc62d3c51429eabeb6abfd3f7d220",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC99327e3bc80d409d8107871638dc37d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc7b0d11598084dfabc6fc3cec5c6acfa",name:"TPT - BE - AEM - AdWords - Broucher - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC14dc70f45b014a82b320f7005a5931e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff74ae00fe83416791e0df26dce127df",name:"TPT - AT - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC093f58d06402453ea160866d4772c638-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80a0fb04c05c4d088d63d214804156f2",name:"TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC065bab98529b4238a6af908f9b0d023c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22eae47507da43d78a99621612722786",name:"TPT - IE - AEM - Gtag_DC - PHEV Get a Quote Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe123b183e9c24e4c950d5be13b37b8a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28bece4b28b949aeaf0a2036d0729dbb",name:"TPT - ZA - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC13b92935073a490687f322a2c2764f40-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcee2ebcb0566452aaefc263d1b131536",name:"TPT - PT - AEM - Adform - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0444782c63f5496685e7b9038f176d31-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL43b743b817294c92b70bf6894b02eb26",name:"TPT - HU - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6de600b5c91f4f26ae000fdd07d5a540-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe59a3335f6b0472591ab22bb9ec37f0f",name:"TPT - HU - AEM - GTagDC - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCea4ee941fe134e20b5792b8993fe32bb-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL038bf922c5d24124b55f9333e2759306",name:"TPT - IE - AEM - DoubleClick - Configurator Submit Button Confirmation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#h5vco-engine-selection-list > div > article > div.h5vco-next-button-container.h5vco-clearfix > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2f08f86c3ac647a28cf2bea802dcba79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5fd3a2d263d94f17ad7135d43baa6b2c",name:"TPT - AR - AEM - Adwords - Correo Servicios Financieros - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"contacto@bmwfs.com.ar",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/topics/fascination-bmw/bmw-financial-services.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf2b996b4a4074785b14a492cc4514680-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a41d1fba6f349868771c300c9181149",name:"DCR - ALL - NSC - AA - Visualizer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_interactions"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.effect"),n=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),i="",r="nsc > ";t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),("datalayer field missing"!=a.get("product")&&"datalayer field empty"!=a.get("product")&&a.get("product")!=[]||"datalayer field empty"!=a.get("product.-1.productInfo.productName")&&"datalayer field missing"!=a.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(t),t.prop42="configuration",t.prop19=t.prop54="visualizer",t.prop56="interaction",t.prop53="ux","visualizer start"==o.toLowerCase()||"visualizer finish"==o.toLowerCase()?t.prop53="success":"inactivity"==o.toLowerCase()||"error"==o.toLowerCase()?t.prop53="3rd party backend":"buildability conflict"==o.toLowerCase()&&(t.prop53="automatic"),t.eVar134="web",t.eVar34=o&&"object"!=typeof o?o:"datalayer field missing",t.eVar34.indexOf(r)<0&&(t.eVar34=r+t.eVar34),["change roof top color","change interior trims","change interior upholstery","change exterior mirror caps","change exterior wheels","change exterior color","change view","visualizer finish","visualizer start"].indexOf(o.toLowerCase())>-1?t.eVar34=a.get("event.-1.eventInfo.effect"):["inactivity","error","buildability conflict"].indexOf(o.toLowerCase())>-1&&(t.eVar34=a.get("event.-1.eventInfo.cause")),t.prop55=a.get("event.-1.category.subCategory01"),t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop55=a.get("event.-1.category.subCategory01"),"360 rotate"==o.toLowerCase()||"roof top close"==o.toLowerCase()||"roof top open"==o.toLowerCase()?t.prop51=a.get("event.-1.eventInfo.effect"):t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop50=a.get("event.-1.eventInfo.element"),t.eVar71=a.get("event.-1.eventInfo.target"),t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.prop2=a.get("page.category.pageType"),t.prop3=a.get("page.category.primaryCategory"),t.prop4=a.get("page.category.subCategory01"),t.prop5=a.get("page.category.subCategory02"),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf(r)<0&&(t.prop1=r+t.prop1),t.prop28=a.get("page.attributes.virtualPage"),t.prop29=a.get("page.pageInfo.version"),t.linkTrackVars+="prop42,prop19,prop54,prop56,prop53,eVar134,eVar34,prop55,prop51,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar10,prop43,prop2,prop3,prop4,prop5,prop1,prop28,prop29",i="event917,event918","visualizer"==n&&(i+=",event313,event314"),"visualizer finish"==o&&(i+=",event315,event316"),"visualizer start"==o.toLowerCase()&&(i+=",event311,event312"),["inactivity","error","buildability conflict"].indexOf(o.toLowerCase())<0&&(i+=",event313,event314"),["Inactivity","Error"].indexOf(o)>-1&&["Page","Popup","Inline message"].indexOf(s)>-1&&(i="event931,event932"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.events="",t.events=t.apl(t.events,i),t.linkTrackEvents=t.apl(t.linkTrackEvents,i),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1)}catch(a){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(a)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLc50c916126c04bc88554611605692294",name:"TPT - RO - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4e00595b5ad64c50b594724714edf811-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c225fe5024f4b059863c8f771722b11",name:"TPT - AU - AEM - MathTag - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2499bb52327a423089c557c8a47de6f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3d754b781bcb40f6a8a76c9896b0c91a",name:"TPT - UK - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4319ba6087be47bc94cfa69e7dd004b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5a93777ad3134a81befdfc8d8d14cb4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL047abd3909774764b0adfa4481b986e3",name:"TPT - UK - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5e240f46a44945458e1a0b004a03b635-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeaf8bffe70374613919fea4598d9d768",name:"TPT - HU - AEM - GTagDC - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2587642a9c1745b5876df23c96bfec69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f1c9d509166484cacc3cc2c0c5f196f",name:"TPT - NL - AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCce0dddf2e322447cab704b6f101d1dd6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72378f8d9a6941beaac8c949e43b164d",name:"DCR - All - AA - TRON - Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tron_event"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.pageInfo.destinationURL",window.location.href),s=_satellite.getVar("smartPreviousValueManager"),n=new Date,i=n.getHours()<=9?"0"+n.getHours():n.getHours(),r=n.getMinutes()<=9?"0"+n.getMinutes():n.getMinutes(),c=n.getSeconds()<=9?"0"+n.getSeconds():n.getSeconds(),d=n.getUTCHours()<=9?"0"+n.getUTCHours():n.getUTCHours(),l=n.getUTCMinutes()<=9?"0"+n.getUTCMinutes():n.getUTCMinutes(),u=n.getUTCSeconds()<=9?"0"+n.getUTCSeconds():n.getUTCSeconds(),m=_satellite.getVar("searchDefaultProduct");if(t.referrer=a.get("page.pageInfo.referringURL"),t.pageType="error"==a.get("page.category.pageType")?"errorPage":a.get("page.category.pageType"),t.pageName=a.get("page.pageInfo.pageName"),t.prop1=a.get("page.pageInfo.pageName"),t.prop2=a.get("page.category.pageType"),t.prop3=a.get("page.category.primaryCategory"),t.prop4=a.get("page.category.subCategory1"),t.prop5=a.get("page.category.subCategory2"),t.prop13=a.get("page.attributes.brand"),t.prop27=a.get("page.pageInfo.pageID"),t.prop28=a.get("page.pageInfo.variant"),t.prop29=a.get("page.pageInfo.version"),t.prop30=a.get("page.category.subCategory3"),t.prop46=a.get("page.pageInfo.author"),t.eVar7=a.get("page.pageInfo.language"),t.eVar8=a.get("page.pageInfo.geoRegion"),t.eVar18=a.get("page.pageInfo.pageTitle",document.title),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop19=a.get("component.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),t.prop41=a.get("component.category.componentType",a.get("component.-1.category.componentType")),t.prop42=a.get("component.category.primaryCategory",a.get("component.-1.category.primaryCategory")),t.prop43=a.get("component.category.subCategory1",a.get("component.-1.category.subCategory1")),t.prop44=a.get("component.componentInfo.componentID",a.get("component.-1.componentInfo.componentID")),t.prop45=a.get("component.attributes.componentVersion",a.get("component.-1.attributes.componentVersion")),t.eVar134=a.get("component.attributes.touchpoint",a.get("component.-1.attributes.touchpoint")),t.prop51=a.get("event.category.subCategory2",a.get("event.-1.category.subCategory2")),t.prop52=a.get("event.eventInfo.cause",a.get("event.-1.eventInfo.cause")),t.prop53=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type")),t.prop54=a.get("event.category.primaryCategory",a.get("event.-1.category.primaryCategory")),t.prop55=a.get("event.category.subCategory1",a.get("event.-1.category.subCategory1")),t.prop56=a.get("event.eventInfo.eventName",a.get("event.-1.eventInfo.eventName")),t.prop57=a.get("event.eventInfo.eventAction",a.get("event.-1.eventInfo.eventAction")),t.eVar9=a.get("event.attributes.iframeURL",a.get("event.-1.attributes.iframeURL")),t.eVar34=a.get("event.eventInfo.effect",a.get("event.-1.eventInfo.effect")),t.eVar71=a.get("event.eventInfo.attributes.requestedURL",a.get("event.-1.eventInfo.attributes.requestedURL")),t.eVar35=a.get("dealer.dealerInfo.dealerOutletBuno",a.get("dealer.-1.dealerInfo.dealerOutletBuno")),t.eVar39=a.get("dealer.dealerInfo.dealerOutletName",a.get("dealer.-1.dealerInfo.dealerOutletName")),t.eVar40=a.get("dealer.dealerInfo.dealerOutletID",a.get("dealer.-1.dealerInfo.dealerOutletID")),t.eVar41=a.get("dealer.dealerInfo.dealerGroupName",a.get("dealer.-1.dealerInfo.dealerGroupName")),t.eVar42=a.get("dealer.dealerInfo.dealerGroupID",a.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar43=a.get("dealer.attributes.selectionState",a.get("dealer.-1.attributes.selectionState")),t.prop40=a.get("user.profile.attributes.loggedInStatus",a.get("user.-1.profile.-1.attributes.loggedInStatus")),t.eVar15=a.get("user.profile.profileInfo.type",a.get("user.-1.profile.-1.profileInfo.type")),t.eVar16="object"==typeof a.get("user.segment",a.get("user.-1.segment"))?"datalayer field empty":a.get("user.segment",a.get("user.-1.segment")),"object"==typeof t.eVar16&&(t.eVar16="datalayer field empty"),t.eVar17=a.get("user.profile.profileInfo.profileID",a.get("user.-1.profile.-1.profileInfo.profileID")),t.eVar19=a.get("user.profile.address.stateProvince",a.get("user.-1.profile.-1.address.stateProvince")),t.eVar20=a.get("user.profile.address.country",a.get("user.-1.profile.-1.address.country")),t.eVar21=a.get("user.profile.profileInfo.language",a.get("user.-1.profile.-1.profileInfo.language")),t.eVar136=a.get("version"),t.eVar120=a.get("cart.cartID"),
t.eVar122=a.get("cart.price.currency")||a.get("transaction.total.currency"),t.eVar123=a.get("transaction.attributes.paymentMethod"),t.eVar125=a.get("transaction.transactionID"),t.server=location.host,t.prop14=d+":"+l+":"+u,t.prop15=i+":"+r+":"+c,t.prop31=s.get("pagePrimaryCategory"),t.prop32=s.get("pageSubCategory01"),t.prop33=s.get("pageName"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.prop50="page title",t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.campaign=_satellite.getVar("campaign"),t.eVar4=o,o.length>255&&(t.eVar5=o.substring(255,o.length)),t.eVar6=document.referrer.split("/")[2],t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar14=s.get("url"),t.eVar28=s.get("componentSubcategory1"),t.eVar29=s.get("pathName"),t.eVar61=t.eVar62=t.campaign,t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar132=window.navigator.userAgent,t.eVar137="AEM6",t.eVar161="datalayer field missing",t.eVar162="datalayer field missing",t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),s.update("pageSubCategory01",t.prop4),s.update("pagePrimaryCategory",t.prop19),s.update("url",t.eVar4),s.update("jcrPath",window.location.pathname),s.update("pathName",t.eVar12),s.update("pageName",t.prop1),s.update("componentSubcategory1",t.prop43),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var b=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(b),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}var g=a.get("event.eventInfo.eventPoints",a.get("event.-1.eventInfo.eventPoints","0"));t.events=t.apl(t.events,"event970="+g),a.get("event.eventInfo.eventName",a.get("event.-1.eventInfo.eventName")).indexOf("form")>-1&&(t.prop6=a.get("page.category.primaryCategory"),t.prop7=a.get("event.category.subCategory1",a.get("event.-1.category.subCategory1")),t.prop8=a.get("event.eventInfo.effect",a.get("event.-1.eventInfo.effect")),t.prop9=a.get("event.attributes.form.stepAmounts",a.get("event.-1.attributes.form.stepAmounts")),t.prop10=a.get("event.attributes.form.formVariant",a.get("event.-1.attributes.form.formVariant")),t.prop11=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type")),t.prop16=a.get("event.attributes.form.stepName",a.get("event.-1.attributes.form.stepName")),t.prop17=a.get("event.attributes.form.rfxID",a.get("event.-1.attributes.form.rfxID")),t.prop18=a.get("event.category.subCategory2",a.get("event.-1.category.subCategory2")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18",","));var f=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type"));"video"!=f&&"audio"!=f||(t.prop36=a.get("event.category.subCategory1",a.get("event.-1.category.subCategory1")),t.prop36=t.prop36.indexOf("%")>-1?t.prop36.slice(0,-1).split("_").slice(0,-1).join("_"):t.prop36,t.prop37=a.get("event.category.subCategory2",a.get("event.-1.category.subCategory2")),t.prop38=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop36,prop37,prop38",","));var p=a.get("event.attributes.search.unit",a.get("event.-1.attributes.search.unit")),v=a.get("event.attributes.search.state",a.get("event.-1.attributes.search.state")),h=a.get("event.attributes.search.label",a.get("event.-1.attributes.search.label")),_=a.get("event.attributes.search.term",a.get("event.-1.attributes.search.term"));"datalayer field missing"!=_&&"datalayer field empty"!=_&&(t.products+=",search;search;;;;"+m+"eVar30="+p+"|eVar31="+v+"|eVar32="+h+"|eVar33="+_),_satellite.getVar("setTronProductString")(t),_satellite.getVar("setTronEvent"),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events,","),t.linkTrackVars=t.apl(t.linkTrackVars,"referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar15,eVar16,eVar17,eVar19,eVar20,eVar21,eVar18,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar39,eVar40,eVar41,eVar42,eVar43,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events",",")}catch(t){_satellite.logger.error(t,e.$rule.name)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"tron event",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL7f8ff08947184ee0bb7e8bfc5b631d54",name:"TPT - AT - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb61326f95f1a4b5493d2136072ecdb4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f0f51a075ef434d9d5df9fc5fc8eaad",name:"TPT - ES - AEM - Twitter - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC726a834c97a1492db5b369434df1a083-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe52b786f5e5145ee96477e5b89cf7b53",name:"PLR - All - AEM - Custom Code - Performance timing",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){try{if("hidden"!=document.visibilityState){window.perfTime=window.perfTime||[];var e=o();if("ok"==e||"unavailable"==e)s();else var t=0,a=setInterval((function(){t++,"ok"==(e=o())||"unavailable"==e?(clearInterval(a),s()):t>100&&clearInterval(a)}),50);function o(){try{var e=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;return"unavailable"!=(e||"unavailable")?e.getEntriesByType("navigation")[0].duration>0?"ok":"wait":"unavailable"}catch(e){var t={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,t)}}function s(){try{var e=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;_satellite.logger.info(e);var t,a,o,s,n,i,r,c,d,l={};"unavailable"!=(e||"unavailable")&&(t="ok",_satellite.logger.info("SATELLITE : performance tracking : "+t),a=document.location.protocol+"//"+document.location.hostname+document.location.pathname,o=document.location.search,s=document.location.hash,n=e.getEntriesByType("navigation")[0].requestStart,i=e.getEntriesByType("navigation")[0].responseStart,r=e.getEntriesByType("navigation")[0].domInteractive,c=e.getEntriesByName("first-contentful-paint")[0].startTime,(d=e.getEntriesByType("navigation")[0].duration)<0&&(d=0),l={status:t,path:a,query:o,hash:s,timeServer:n,timeServerReact:i,timeDOM:r,timeContent:c,timePageReady:d},(n<0||n>6e4||i<0||i>6e4||r<1||d<0||c<0||r>1e5||c>1e5||d>2e5)&&(l.status="error"),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&window.epaas.api.setPersistence("bmwdtm_hq_perf",JSON.stringify(l)))}catch(e){var u={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,u)}}}else"hidden"==document.visibilityState&&_satellite.logger.log("khubruy performance timing hidden!!")}catch(e){var n={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,n)}}},trackerProperties:{}},timeout:8e3,delayNext:!0}]},{id:"RLc176dbc23aaf421e9c8fbe58ab264144",name:"TPT - FR - AEM - GtagDC - DCS Form PV - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0f957f2d3e954cfda17aed1a8b3055e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb81dbe519c78452ca60ec45c0d409191",name:"TPT - DE - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC77f74af6282449aa86a079af7188c512-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4eedcdd920024eb08eded7413d07ca04-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL43755f6550ac48fda45d25a3ef49a03d",name:"TPT - BG - AEM - Adwords - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2e25d74862674f2c8f11fe75cec4947c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cf6a555e22e4401b04fe27639998dda",name:"TPT - DK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC560355a909e34afea45b970fe0c7bcda-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b9ea3329a9b4377855f37cdc9e2a5dc",name:"TPT - NL - AEM - Submit Button Pixel - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCade97a0da45040d48e8440094b0753da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2125d4c45e304ad4a33a7c4e452cd362",name:"TPT - CH - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa1125b43c314482ebbd694cfc955af30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a0cf503dd954d20a8c91b7549535743",name:"TPT - DK - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC27c134336430407e9cf881046bd0258b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c802e752bb4446e91425ae77bb54437",name:"TPT - UK - AEM - GtagDC - iFrame RFC Forms- DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC96b93afad6f94ba98cf86ec7a8baf605-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC459e4714b28847789e8245cbcb63a3a1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0d1df6184c24030bbabc480aec77141",name:"TPT - RU - AEM - VK Pixel - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC00dcd9046a1345f7b3c580855ab27de4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72cac36546674f699e9670df4d90c7e7",name:"TPT - PT - AEM - Facebook - Configuration - Reservation Start - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa61d1e383b1945da98415ab73589413b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf2cd418846a14737aeb2ebfa7bc5ed60",name:"TPT - BG - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd3bbc22530a74a7cbdbafa14939d2d58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc922f6a0931147eaae0f1d29df54fe12",name:"TPT - NL - AEM - Facebook - localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];console.log(a),console.log(o),"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC93b8ffe3c9a9442b81d5af44fe1db973-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8d588471fcf3441ea1f4b83fc1ec0a63",name:"TPT - NL - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC78d396450a044b00a572f9b9d6c9b862-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44c24ee3fc3647fa90fc615dcf635424",name:"TPT - HU - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC582bb6f374a1454b994d8e7bd837eed6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee3ae123073841dc96312a30bfb5d2fb",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcac383d41ff54215be5c58c24372d5b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29cf04d301db4369b5f3bd1a13e5611b",name:"TPT - SK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0b9bea2535ef4c5aa2f16173439806af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe967cf8d703a4e739d6618e0119a532b",name:"TPT - DE - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1f5784a2c7b046f2bd485c8fc7931ba5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLca27a0277e654a258240d0fb1fd01f00",name:"TPT - DE - AEM - Facebook - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa2990a8240e54c7b8ea76deb1ee12c06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a7815a354c34b71bd260e688d00cba9",name:"TPT - IT - AEM - Adform - RFO Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC16de2696d94b4447861dd96056d713ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c0fe21c50dd40d0b157441433f9ea03",name:"TPT - AT - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a7290e213074282b2b7a44e6222cc02-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL32cb6c0b11d7473c80afb0ef26657a6d",name:"TPT - DE FR IT ES NL AT PL KR - AEM - Usabilla - Adhoc Survey - DCS Customer Survey",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"URL"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t=(_satellite.getVar("snapshotDL"),_satellite.getVar("URL"));return t.indexOf("/shop/dcs/")>-1&&t.indexOf("/confirmation/")>-1&&("bmw.de"==e||"bmw.fr"==e||"bmw.it"==e||"bmw.es"==e||"bmw.at"==e||"bmw.pl"==e||"bmw.co.kr"==e)}catch(e){var a={from:"TPT",type:"Condition",name:"TPT - DE FR IT ES NL AT PL KR - AEM - Usabilla - Adhoc Survey - DCS Customer Survey"};_satellite.logger.error(e,a)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb11556e2c7242babbcdc46fb23f00a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8d0ea26ca0d84f289d3465fe50be6b66",name:"TPT - HU - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1202730484e24cb6942120d75da61739-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc108e400905a4fb0a1192520279faf0b",name:"TPT - IT - AEM - Floodlight - Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1a347b7838be4dffb5116bbc39d6621e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLace7362518df4f4a96a1d0ab305a9d8e",name:"TPT - GR - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8af0f5e184af45d6bc4b3c502309dca4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5f46b4c8d6e04ac69b5410af64d281c3",name:"TPT - NL - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5a7cb41c5b204090bab2af4cce9e3717-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL691e277d645949cc81ddb789dee36beb",name:"TPT - IT - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1a1af81cb0694d1595b945d401eeed11-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7d13d1bae7b49dc99d438c08f73fb7b",name:"TPT - JP - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3098b14a472a467583ecf7569b357002-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL399c01722a3345b986946c1023f42938",name:"TPT - NL - AEM - Submit Button Pixel - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb176796aa00240beb67edafd6e9ae4dc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6bf269c894b41548e696f5c5d1b175e",name:"TPT - DK - AEM - Adform - Salesbar Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"DK"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0},{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb2558b22739a4041b0085865da5a07dc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcc27049ffeec4245884c674f76967ff0",name:"TPT - AT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5b564f404ffb464d9cd592d2b83b1033-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96077fe138cd4c32a5af15dcc930fbee",name:"TPT - BG - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa33fc64776fb450d891fbff8dcf04d2e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8c9cdcd03c5641f4afe3cdc55cab5523",name:"TPT - NL - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb9e5ae7457f44a2fa2d6ae6178ec4141-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1954368511b141ab9a6df3cc963e12cb",name:"TPT - PL - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbe508065b372420bb372bf53601ffdea-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60daa56cada04865b1d2ba33731f613f",name:"TPT - LU - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{
subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2a821453022c4aefb52590dd5b9b2d7d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb5ebffc16e634ee8accd7652d2002acb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL065951d0372543d8bf7f5499c0ea6889",name:"TPT - PT - AEM - DoubleClick - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC27b0ba312c014fa8ae9de6bc10bbe35f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2b9f506cc3dc4c3b8ad5dde46c28abea",name:"TPT - NL - AEM - Bing - iFrame Forms FS RFO - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC86424f3f66cb48ee8d78ddacf04ed5ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33d48a19890b4db2b1209a0681d63277",name:"EBR - DE - AEM - AA - Finance Calculator",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("tracking:fs showroom",(function(t){t.detail&&(_satellite.setVar("financeEvent",t.detail),e())}))}catch(e){_satellite.logger.error("EBR: Finance Calculator",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("financeEvent"),o=a.event[0].eventInfo.eventAction,s=a.event[0].eventInfo.eventName,n=a.event[0].eventInfo.type,i=a.event[0].eventInfo.timeStamp,r=a.event[0].eventInfo.cause,c=a.event[0].eventInfo.effect,d=a.event[0].eventInfo.eventPoints,l=a.component[0].componentInfo.componentName||"fs showroom",u=a.component[0].componentInfo.componentID||"fin > finance > fs showroom",m=a.component[0].componentInfo.componentType||"native in-page",b=a.component[0].componentInfo.primaryCategory||"finance",g=a.component[0].componentInfo.subCategory1||"offers",f=a.custom[0].product.productInfo.productName,p=_satellite.getVar("snapshotDL");t.prop1="nsc > "+p.get("page.pageInfo.pageName"),t.prop2=p.get("page.category.pageType"),t.prop19=l,t.prop41=m,t.prop42=b,t.prop43=g,t.prop44=u,t.prop56=s,t.prop57=o,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(parseInt(d)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(d)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+d,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=d,t.prop53=n,t.prop12=i,t.prop52=r,t.eVar34=c,t.eVar17=p.get("user.-1.profileInfo.visitorID"),t.prop74=_satellite.property.name+"|EBR - DE - AEM - AA - Finance Calculator";var v=p.get("product.-1.attributes.mmdr"),h=_satellite.getVar("setDefaultProductVariables");h.id=p.get("product.-1.attributes.mmdr"),h.category="vehicle",h.merchEvars.eVar52=f,h.merchEvars.eVar60=p.get("product.-1.productInfo.manufacturer"),h.merchEvars.eVar10=v,h.merchEvars.eVar51=p.get("product.-1.attributes.bodyType"),h.merchEvars.eVar48=p.get("product.-1.attributes.modelCode"),h.merchEvars.eVar65=p.get("product.-1.attributes.modelName"),t.products=h.toString(),t.linkTrackVars+="prop1,prop2,prop41,prop42,prop43,prop44,prop19,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products,prop74,eVar17"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"finance_calculator",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL760425b138ff4eef9228db9c16c45fc1",name:"TPT - BE - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3a6cbd3de0bb4ff383cd7d69436d3d01-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL65dce2578fb044b68a9ad24efc987245",name:"TPT - DE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC24b1bd507fae4bfcbd5ed8eda28b071a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL199c6629ebc1404187030e51fcaabeef",name:"TPT - NO - AEM - Adform - Kampanjer offer click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".pagelink.basecomponent.ds2-linklist--item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4b0ab60ec50b4a26a4b0d229f89ce594-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf73979d2cd8e49dda215eda4dd02bbb0",name:"TPT - PT - AEM - Adwords - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCafcdc99a02b2456f8c34f2a5e64c8fd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL718756ecd052479e9128464a0e0cf932",name:"TPT - NZ - AEM - DoubleClick - iFrame Form TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC495bf472476247cd8809ee103b1fded7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL256ecaec08b94e2188f5fc90ffd910a6",name:"TPT - IE - AEM - Gtag_DC - 5 Series Enquire Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/discover-enquire-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdd4b2b0ac718483e8244bebd2307517f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a2e9865039c474188770d1bc061a87d",name:"TPT - LU - AEM - GTagDC - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf97a382cb73a4d60b217bd4d792f3fa0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1f5cc031848445298cc2abeb2dd50b49-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb5be5ad927c24a89b937b6605b2378c8",name:"TPT - FR - AEM - Facebook - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC388494c35d054cb0beac081ecb4ca933-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0bfa69ecc6c342819d43b8745147d419",name:"TPT - FR - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc9f4e6f7839846db9cf836f514312af1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60609452dc444457939f73ab335618f3",name:"TPT - FR - AEM - ContentSquare - MINI DCS - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.fr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/shop/dcs",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC976ed957e3a645f98bdca17c2a50cd33-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9978b5333eef40e79cbe7e6cfc3c55fc",name:"TPT - AT - AEM - Facebook - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC390f95a2818a4ed2834108d2fa8dd099-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL49a7a382062a43598eada8703df40272",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1 Pollyfill",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC39bcf00352da431799fe784b78ed612b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3f6b6d4afb64457b8772bdb1d07735d8",name:"TPT - IT - AEM - GTagDC - Form Submit - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/success-pool/success-page",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2522dfc4c20d4879aec1e610079f595a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb8db145066a24acf9312a65029209434",name:"TPT - BE - AEM - Facebook - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/configurateur",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC03f3fea691eb46e2b13cb13a506cef94-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd77dc1f06cb342a98bd2dd1388a4ee66",name:"TPT - IE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcf68f33901ae4398868e057bb667892a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL90d2a3a08498408e8272058779131d61",name:"TPT - ES - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0c6bb3c66ed84d07accb79e4502155f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC13bd3d7ca681435b962207035acdba4f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5c462c95df02480b901520370408a0ec-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLaced350e9e7c4a3bb2f3524aee72296d",name:"TPT - ES - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC768fd0a202a94921ab3cb3f4104ed73e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0944d8de27aa4157945e5b0dd4cb4f86",name:"TPT - RO - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2046d9726cb64e28b181f7a149f79996-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL42e4c6830e964366b1456f78ffcd32a9",name:"TPT - ZA - AEM - MediaMath - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5dee6b1bb50a43e480c959d96891e8da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL47a371b2fec5426ba175b7061f50b489",name:"TPT - PL - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe8ecb021184f41d69a3a3035e590e642-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL79331cdc89b04160a8f87b297df4647a",name:"TPT - IE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0eee405e9a99466aa91d74a9be2a6e7c-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b9c1f30a337405b90882ef4152b6858-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLda26461afa094bf787b11ae748db4403",name:"TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCed8718c3f34c4d42bc6d308a982886a7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc72b9798214d49dead81deab73c84534",name:"TPT - DE - AEM - Outbrain - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc50a8247e3a94148b4035bc7ebcbda4e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd45be02a140745d5a23ebddabbed9d5a",name:"TPT - SE - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC670edea2a0104c9780f4dd50a94f7b0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL34ac2b876b7241a7a7c384861efe342a",name:"PLR - All - AEM - AA - DCS Event Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.de","bmw.it","bmw.be","bmw.fr","bmw.es","bmw.nl","bmw.lu","bmw.ch","bmw.pl","bmw.pt","bmw.at","mini.de","mini.it","mini.fr","mini.at","mini.be","mini.es","mini.nl","mini.lu","mini.ch","mini.pl","mini.pt","bmw-int4.com","bmw-int5.com","mini-int7.com","bmw.co.kr"],t=_satellite.getVar("topLevelDomain");if(e.indexOf(t)>-1)return!0}catch(e){_satellite.logger.log("Error in PLR - All - AEM - AA - DCS Event Listener",e)}}},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n   window.addEventListener('dispatch_event',function(e){\n     _satellite.logger.log(\"Khubruy event fired for event DCS\");\n     _satellite.track('dcs');\n   });\n   window.addEventListener('dispatch_pageload',function(e){\n     _satellite.logger.log(\"Khubruy event fired for pageload DCS\");\n     _satellite.track('dcs_pv');\n   });\n}catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"DCR\",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:5e3,delayNext:!0}]},{id:"RL52c3be393696429bb4ac549e3bce44ee",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9c472bc2e9b346dca757d8eb252fc892-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80b41b5f08b14a3ebc1ea56b0a5e7e80",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d4c408879dc475ca2ae0d744351dc66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0fb5d1c61ca347338062f549f965995c",name:"TPT - DE- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/search-results/search-results.html|/forms/probefahrt-vereinbaren/tda.html|/de/ssl/requests/brand-switch-tda/tda-bmw.html|/de/ssl/requests/rfo-bmw.html|/forms/angebotsanfrage/angebot-anfordern.html|/rfi-download.html|/de/publicPools/success-pool/success-page-rfi.business-forms.html|/de/publicPools/success-pool/vielen-dank.business-forms.html|/rfi-download.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2471f057a6e14ccd9e49993015549dbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdf9f97716eb542bca5b543495af1588d",name:"TPT - GR - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC742f68587912430bbb25cf158e064924-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5d29074c07264faeae917e64e670300f",name:"TPT - DE - AEM - Facebook - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd4b2652cbcd84420832c96400bc0e9eb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3c354c509a847a38afc7a2a0bad6424",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Finance Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_finance_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC994eca1dc8b54de7b8d570236f1ee5ff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0dc093662ba5464097553c33ba9bc521",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC45f248fba431413eabc0fb9f3670096b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d9c10bd6fab4b8a8fdc943f98897f36",name:"TPT - SK - AEM - Facebook - Form Submission - TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9870fa2efdb0484c8738bfbe4f77d660-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL36f1a58c3d2c48ada545f767c7bba20b",name:"TPT - SE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaca0fff621df436da6a8a2e45ae8548f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL18325dff7eb5479bbb53b9b949feb3f2",name:"TPT - FI - AEM - DoubleClick - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb4ed06657e90464290b8c11781efff12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f82a1bd56ed480fbbe208e4ddb28143",name:"TPT - AT - AEM - Facebook - Alphabet Fleet Management CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.alphabet.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/fuhrparkmanagement.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe4f62804af7e4870960f6a433aa52a16-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4397296258c2445d85da07566d92a48c",name:"TPT - DE- AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7773d72899a141fa9ce4f7b2e917faeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf780ee8c1dc944a38d74531d9ede816d",name:"TPT - NL - AEM - DoubleClick - Used Car tool Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC63cce01375c44597b6406e59b8a66151-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa90eb94a0a7f4aea986007d5d330c960",name:"TPT - CH - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3105d86b812a4b4782ca83ce7c02d2bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5f099eca0e4745349a3bd483fc9347b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7e473fe0f2ed4925b5950d1fecb68bb3",name:"TPT - GR - AEM - DoubleClick - Adobe Form - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{
identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC653aa774c57a46fd8fe93688fca96b43-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc8cae5d97e264b1b9b78daff771564a2",name:"TPT - AT - AEM - Facebook - All pages automotive model ads - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC23392eb44d47430a8a72dde2c5ce3a29-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f144fee9cd64eb993db38757a50cb57",name:"TPT - SK - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe5a96a0215714338bdf2bb35df49cbb9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed8840c3af5e417f8398fff9f794dac8",name:"TPT - AR - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/solicitud-de-contacto.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb236c806ea6f42d7ad07e77314aa0004-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL666111e88720416696347a21633fc0b1",name:"TPT - CZ - AEM - Adform - DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcd1e867526f64e2f8d86d47e8307d795-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL79ad693ac8314e289064f752d26f8dc3",name:"TPT - IT - AEM - Usabilla - Adhoc Survey - Stock Locator - RFO Form Finish",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9785828411b64e1da42c466b28321c5a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb4f271ecacb48d49e49c939b801aa59",name:"TPT - GR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC68a65a8d2ee24190b52720cb2b9afdc1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4daa0f6940134a5f92e0bdb1de7f311d",name:"TPT - NL - AEM - Gtag DC/AW - iFrame - RFO Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCce766285e0fe4acb9f0cc5508fc89679-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL243b138d4a9b419aba7e0401edaf5ccc",name:"TPT - UK - AEM - Adform - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC38d3153926f8418abe76279e746703a5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf69a2d56afcf4f4bb21eb69b5b36cc3f",name:"TPT - NL - AEM - Gtag AW - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf9061e1f50c44832935a51c267c81922-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19a9e9c5bb174d329c8f6cc987d9fe32",name:"TPT - FR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC314438c20d6a4a80b6330472c1818f6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL041e2a1494d1463cb8432564dc083336",name:"DCR - All - AEM - AA - Accessory Configurator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.eventAction"),n=a.get("event.-1.eventInfo.cause"),i=a.get("component.-1.componentInfo.componentName"),r=(a.get("component.-1.category.subCategory01"),a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")));function c(){t.prop56="interaction",t.prop53="success",t.eVar34=-1==s.indexOf("con >")?"con > "+s:s,t.prop54="accessory configurator",t.prop55="datalayer field missing",t.prop51=o,t.prop52=n,t.prop19=t.prop43="accessory configurator",t.prop42="configurator",t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop19,prop42,prop43")}function d(){t.prop56="form",t.prop53="central form",t.prop54="RFA",t.prop55=s,t.prop51="lead",t.prop52=n,t.prop6="central form",t.prop11="RFA",t.prop7="datalayer field missing",t.prop10="dedicated forms",t.prop18="lead",t.prop17="datalayer field missing",t.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,t.prop42="configurator",t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop6,prop11,prop7,prop10,prop18,prop17,prop19,prop42,prop43")}_satellite.getVar("setDefaultVariables",e)(t),t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timestamp"),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop55=a.get("event.-1.category.subCategory01"),t.prop50=a.get("event.-1.eventInfo.element"),t.eVar71=a.get("event.-1.eventInfo.target"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 accessories configurator",t.prop27=a.get("page.pageInfo.pageID"),t.prop3=i,t.prop5=a.get("page.category.subCategory02"),t.prop2=a.get("page.category.pageType"),t.prop28="virtual"==a.get("page.category.pageType")?"virtual page":"",t.prop1=t.pageName=-1==r.indexOf("con >")?"con > "+r:r,t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop52,prop55,prop50,eVar71,pageName");var l=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr")),u=a.get("event.-1.attributes.engine");if(u){var m=/[0-9]{3}[a-z]{1}/i,b=/xdrive[0-9]{2}[a-z]{1}/i,g=/sdrive[0-9]{2}[a-z]{1}/i,f=u.match(m)||u.match(b)||u.match(g);u.indexOf("i3 (120 ah)")>-1||u.indexOf("i3 (120ah)")>-1||u.indexOf("i3 120ah")>-1?u="i3 (120 ah)":u.indexOf("i3s (120 ah)")>-1||u.indexOf("i3s (120ah)")>-1||u.indexOf("i3s 120ah")>-1?u="i3s (120 ah)":f&&f.length&&(u=f[0].toUpperCase())}var p=_satellite.getVar("setDefaultProductVariables");p.id=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr")),p.category="new vehicle",p.merchEvars.eVar47=a.get("event.-1.attributes.colour"),p.merchEvars.eVar52=a.get("event.-1.attributes.productName",a.get("product.-1.attributes.modelName")),p.merchEvars.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),p.merchEvars.eVar10=l,p.merchEvars.eVar51=a.get("event.-1.attributes.bodyType",a.get("product.-1.attributes.bodyType")),p.merchEvars.eVar54="new car"==a.get("product.-1.category.primaryCategory")?"build to order":"",p.merchEvars.eVar50=a.get("event.-1.attributes.serie",a.get("event.-1.attributes.series")).replace(/,/g," "),p.merchEvars.eVar55=a.get("product.-1.category.subCategory01"),p.merchEvars.eVar58=u,p.merchEvars.eVar65=a.get("event.-1.attributes.productName");var v=_satellite.getVar("setDefaultProductVariables");switch(v.id=a.get("event.-1.attributes.wishlist.-1").split("~")[2],v.category="after sales",v.events=["event836="+a.get("event.-1.attributes.wishlist.-1").split("~")[3]],t.events=t.apl(t.events,"event836"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event836"),p.append(v),t.products=p.toString(),t.linkTrackVars=t.apl(t.linkTrackVars,"products"),o){case"Model Selection":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event917,event918,event257,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event257,event253,event254"),c());break;case"ac start":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event917,event918,event251, event252, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event251, event252, event253, event254"),c());break;case"ac model update":"AC iFrame - AC Model Change Intention"==s&&(t.events=t.apl(t.events,"event917,event918,event258, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event258, event253, event254"),c());break;case"ac start after model change":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event917,event918,event251, event252, event258, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event251, event252, event258, event253, event254"),c());break;case"Summer Complete Wheels":case"Winter Complete Wheels":case"M Performance":case"Transport Solutions":"AC iFrame - Accessory Configurator Step"!=s&&"AC iFrame - Accessory Add"!=s&&"AC iFrame - Detail Click"!=s&&"AC iFrame - Visualisation Change"!=s&&"AC iFrame - Started wishlist Share"!=s&&"AC iFrame - Finished wishlist Share"!=s&&"AC iFrame - Download wishlist"!=s||(t.events=t.apl(t.events,"event253,event254,event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918"),c(),"AC iFrame - Finished wishlist Share"==s?(t.events=t.apl(t.events,"event905,event906"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event905,event906")):"AC iFrame - Download wishlist"==s?(t.events=t.apl(t.events,"event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903,event904")):"AC iFrame - Detail Click"==s||"AC iFrame - Visualisation Change"==s?(t.prop53="ux",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")):"AC iFrame - Started wishlist Share"==s||"AC iFrame - Finished wishlist Share"==s?(t.prop53="success",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")):"AC iFrame - Download wishlist"==s&&(t.prop53="ux",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")));break;case"RFA: Selected Accessories":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),d(),t.eVar34="con > form started",t.prop8="form started",t.prop16="selected accessories",t.prop9="step 1/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Personal Data":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),d(),t.eVar34="con > form step 2",t.prop8="form step 2",t.prop16="personal information",t.prop9="step 2/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Dealer Selection":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),d(),t.eVar34="con > form step 3",t.prop8="form step 3",t.prop16="dealer locator",t.prop9="step 3/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Legal Notice":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),d(),t.eVar34="con > form step 4",t.prop8="form step 4",t.prop16="marketing consent",t.prop9="step 4/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Finish":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),d(),t.eVar34="con > form finished",t.prop8="form finished",t.prop16="request success",t.prop9="request success",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"AC full screen view":"iFrame - fullscreen"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918"),c());break;case"AC Toggle M Sport Package":"iFrame - toggle"==s&&(t.events=t.apl(t.events,"event253,event254,event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918"),c());break;case"ac error page":"AC iFrame - Accessory Configurator Step"==s&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932"),t.prop56="error",t.prop53="error 404",t.pageType="errorPage",t.eVar34=s,t.prop54="datalayer field missing",t.prop55="404",t.prop51="datalayer field missing",t.prop52=n,t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,pageType"))}}catch(a){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(a)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:5e3,delayNext:!0}]},{id:"RLb3c5506112bf4241a9d7c9e4348a4a7c",name:"TPT - FR - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b135a7532734f7db709e6b210f8a61d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0359a3547a354fd6b43ee8a4623e20f4",name:"TPT - PL - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC495bbe0fb01e4379a6a1d0359fc21abf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf6798ca7726e458da5aa47c2d8541c5f",name:"TPT - LU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC34039ed5aa444c04b999568e4dc73ef4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC791c29d0dac14ce594d3ec80e5fcf2f2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd723de765dc040679ac77541fd6bdcc6",name:"TPT - UK - AEM - Adwords - Iframe Forms TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC86c94268207f46c4b34bbaa0b08de3b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL31ab3d8342fc46418f308ac7d58edd44",name:"TPT - ZA - AEM - virtualPageOpenForThirdPartyRules - iFrame Forms TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC05de0c4f6caf41dfa476609d870ae107-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1aa13f4d5ba94f348aa6e47dd7ca6552",name:"TPT - PT - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3e5f17e103d74107af464d28fc2e3ca9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcb9c42cc73e94354883261135248fbd9",name:"TPT - UK - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd8584392b3ed4fc3a58663ed74a0d1f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7843ba000bae49aaaa19fa9fff2dab6a",name:"TPT - NL - AEM - Adwords - Local Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];console.log(a),console.log(o),"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4498afe0043b44be9e0dcd8db47e8bd0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a4355d0a99e46999325da47189568d1",name:"TPT - ES - AEM - Doubleclick - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC16a4c21106ea4121a3df4cb85fd6a16c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL945b0c3c8a8d4e33b508cf183e6a180f",name:"TPT - CZ - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC992cd2c5672847bfb4b0c7337eead3c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a8daad6d4db4af5aad53016ab26e629",name:"TPT - SE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0edca18f01fd4edd916c01c714d37e12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0fdf8c40ff5e44d1bec0768e1ee8bb76",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC14d760c49474456c9f352c3aa53d6033-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL028603bd321c41f79c60774fbea05b15",name:"TPT - RO - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC982c7badf1784881baf30a4100d08e24-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc37542b189d54fb1b0d40a9f6bb59cdb",name:"TPT - AU - AEM - Facebook - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCae51a499d4b94d6589ba39721e7781cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL804d3433c0e5453d809c890f9e5da12c",name:"TPT - RO - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title*="tda"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6e17a90d25f44444a3362e4726220b4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3211d26d638145f6b1cbe3553e8a3d60",name:"TPT - DK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC013876f4a92a4002bf98d4c179000197-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLc2c27c8eb2e14e0dbcf49ad33feb6e58",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Address - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_address"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd4e96d6379be40389700e665bd7841e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa955cc4abafb423bb34f7abaf656ee35",name:"TPT - DK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa9b5ca77b3f9408bb65e371e82be6abc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7cfa0c9bdd694bc5809b6a815f969f41",name:"TPT - SI - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC12e5cb4ffa3048a1ba6637455173e3d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL82610ed6bd3444eb8ca56f6aac1f47b4",name:"TPT - DE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4e4187534c7b4c8c9dee857cff6ba721-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL00ebdc54669041459307d9a482a8d941",name:"TPT - AT - AEM - GtagDC - iFrame Forms ROI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3a1e6723f0dc4967a386454bd2793b06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75df9e7a1d884459a9c66e68ca3ababb",name:"TPT - IT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{
identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1996153e00c545c8843ce12beb0742f5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb7a1ff169101431baa388fb6e341f5af",name:"TPT - BG - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC987067a7d64d4e8cbce7504998d301a4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdc68b1cbbee946ff9f80560879d8f6d3",name:"TPT - BG - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC742b4e552fd9474199cd4af80ee1d6d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85133ae2c9854c5c85dc86b623f9a17a",name:"TPT - HU - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC560fc43e0da04670ae2813d009fe520f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80f556ce8f81426ab65aeab06215c896",name:"TPT - AT - AEM - AdWords - Start Video - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC430f8905cf3346fa8c572ec6a70992ff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81b3a7abbf2e4e97b493a74a6be79ba6",name:"TPT - AT - AEM - SalesforceChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd849931746264b95bd038f3d8e1c959c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9fb736bd436a4f72a8bea6fe679a502c",name:"TPT - IE - AEM - DoubleClick - Configurator Section Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t)return _satellite.setVar("previousStepName",e),!0;if(t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - IE - Configurator Section Tracker \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe2e5ea2a01b746e5b04a46252c390b2e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL37d137a698354aa0a24450e18de60f35",name:"TPT - FR - AEM - Facebook - DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCea4ff082058c4b1995c3c0950bd3d7da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8edaf971751f4fa69c5a89aa6d25430b",name:"TPT - NO - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdd673e1259f949a19a58531f72aca6c8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL463a1e61bb104a9eb37a7fe65dcc9004",name:"TPT - AT - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC47029c66d90b48f1ac31dd51c877b523-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4b92442e4f94415d96e6b5d962caf903",name:"TPT - HU - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCca28f61c69b349468402f14b641bf614-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL56924b0aa9d04cb6a30710a03305e4d3",name:"TPT - RO - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ro",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"configurator"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.log("TPT - RO - DBM Tag Configurator Steps err \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8a425ac420c141669ed8b149653afee0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2fcfa75f4b214577b27105c174c4e156",name:"TPT - MX - AEM - Facebook - Multiple - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC148ea0dec1084723b195faaa3c9f1e3c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29744891c2074c7f936a169f70b3ebc8",name:"TPT - BE - AEM - Adwords - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.be"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC75738d38dead4dc3ba3a92361f5dae8b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa042a3d06b9a4e509a5e9f6cbec389f4",name:"TPT - NL - AEM - GtagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa0d5e191cbb3403490b931d2b634dfbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72f467fa912c45418267d9937238e82b",name:"PLR - ALL - NSC - AA - localform2.0 eventlistener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking-localform') > -1){\n        _satellite.logger.log(\"Localform: message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking-localform\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('localform', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"localform2.0 eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"localform2.0 eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL4d2f6ebbd6b24bc9962f53f86a174251",name:"TPT - AT - AEM - Facebook - EV CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/electromobility2020/elektroautos.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4fc103ec55804bd2b98bc12f744e6297-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa397495b8389468aa9d4741f742fa798",name:"TPT - LU - AEM - Adform - Multiple - Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb428be390d4f4bee8206de0c0c9e7cc1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf6fc7bfea69543cc83f803088cfac91f",name:"TPT - AT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9c85ec5283564f85924fee970ad9c8f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdf37354ac0f04897bb2b9f04970cf507-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6e50822982c44b5eadc83e62417b24ab",name:"TPT - LU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa7d02be049f2454aa861a635c6f6f762-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e7bb878838e4aa59510554e6d841eec",name:"TPT - CZ - AEM - AdWords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8274dd89e7f74aa6b68f2df2c5c04f58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL193ebcb0fc3d4bd1a41d6fa674f30249",name:"TPT - LU - AEM - DoubleClick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.lu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e){if("fr-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",e),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr");if("de-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",e),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr")}}catch(e){_satellite.logger.log("TPT - LU - Custom Code condition")}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC83ae1ad66d1c411aa798752cb52b45a6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf6dac6752c574f07b09eca890109e1b8",name:"TPT - FR - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC312f0cc3daba45469aca12663a9244b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL87e6bdb0ae6c4d56b108899d759def2b",name:"TPT - IE - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"testdrive.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCba5a1d879c064ee4bdfc54a58210b102-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d821789bbfd4b7195d046f53732bfa8",name:"TPT - JP - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe8688a88c1a54d6f990da84bb70321d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c074848646c4e4381c4f90afc1dd05a",name:"TPT - BG - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc39612cd6ec446ffbd00f4f148e4ccd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe13d69c5079c4f74ab8f53fbcba0d30a",name:"TPT - NO - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC822744db1318451190f9708a266bb9aa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3d8be355982d42f480d0aa7f2c808618",name:"TPT - DE - AEM - Linkedin - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC29d3d3a2a28a44aab71ce87f7e8fd7de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL23823ff4567f43fa9de9ede38495c1e1",name:"TPT - BE - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCff5b3fa0afe642c691683a0000ff8e4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6ab6d17924141579243591f32a133a2",name:"TPT - HU - AEM - Adwords -  RFO Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC606a6b482ad94800bb874bf6b2e737ab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL62c6237ad8534c999a92c5ec1e9975a3",name:"TPT - IT - AEM - GTagDC - Iframe Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe67390e78faf474585ade8b166f061c5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL767ee3a0913648ad90225f2481a077a1",name:"TPT - IT - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe31cde4ab68d43f4a64d292def0ce41d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed2e393a2f2644d29920adaf3283f3ed",name:"TPT - RU - AEM - DoubleClick - Started DLO - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0414\u0438\u043b\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0435\u0442\u044c"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC956289fa7b0b494d943e2466e1510424-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fe63e2e9433408588a27250a276fbc4",name:"PLR - All - AA - Custom Code - JS error event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.ch"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1}catch(e){var a={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,a)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.addEventListener('error', function(event) {\n  _satellite.logger.log(event, \"error register\"); \n  var errObj = event;\n  _satellite.track('track_js_error', errObj);\n})\n",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL5b404759dabe431fb6f013534758eaac",name:"TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC280392d65f844655919255a728b40846-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL398a0f392a7542f48c9d6d4f892c21c8",name:"TPT - GR - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC134d76e4c1db4bb9b41abd30bef7643d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL880a0ab60a4c457da08ce42d2b1f4c3d",name:"TPT - IT - AEM - Gtag AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC666b86fb77ba441c8f5d0a58712cdcc5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ff2631a28b34cf2825dd1cb53f906a5",name:"TPT - BG - AEM - FX Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfa3350192cf74fd2a030d81f89243ac1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22218363301e4ab3a28bbaa5a8ced812",name:"TPT - BR - AEM - Adwords - Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("addEventTracking")>-1){var a=JSON.parse(t.data),o=a.args[1];"addEventTracking"==a.methodName&&(_satellite.setVar("eventtracking",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/integration/solicite-uma-proposta.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb2ff5f979584b509f86357da51b4fde-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24c52f7750e540fe9d22c4e841a9824a",name:"TPT - NL - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC67e1755857ed4b12b0811070dc60697c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd2c3da5a233943aca131c79ca59fcc55",name:"TPT - NL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7488184563014ea2aa88a40c0f14965e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL05d207581d9149d2ab7a47e13db4254e",name:"TPT - IT - AEM - Floodlight - Make Appointment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9eef60310c5c45b49993ce36de3c279b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL859c81cb81a64cb1aa3257b04b7677ef",name:"TPT - ID - AEM - LinkedIn - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbf01f88a11e64c4a8c05ffe068ff4a95-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4456824527214ee48bf71a30d8842c17",name:"TPT - UK - AEM - Facebook - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1ee0af20961a42c99b2eeaf53fccbec6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2744bc5c935948fb9a093caa8d323ded",name:"TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40d031cb34754e889b23e488e271b162-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLdf11b29d8f264d50bac2b3d4c68c7098",name:"TPT - RO - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC178a052baa0d499f8b53f628f6cb4155-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL49cf779e02854122a7c83798570e28db",name:"TPT - GR - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7899b777dc04439caee8f5cecedd6da5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcb877daff82e47238121135fdf3a3dbb",name:"TPT - ZA - AEM - Facebook meta - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9671db82ef9d4d6d9046dc7ad3536b62-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL779c99e0388c4f79aa414b5cb3874f68",name:"TPT - CZ - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7d5d503019ee4590b53d64c78cbcc728-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL93bd6e784cc14c72a2fd06e803fc06f4",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa3a20f7d6d8041e780140e3d27a11cf6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63317384c4764a9eab6ea65df9637e09",name:"TPT - RO - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd1fd586b82a64d3e87b8246fa7efffa6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1dda69da9e1649f38e672b5f40b932ac",name:"TPT - GR - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbca6867fba2e4d27ac4b65d467340169-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL647d5910efcd43949e1c980ee0e3764d",name:"TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd23e3d4481714677a3f958fb8fc448af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22c9491864b1444bb78e650b21b07089",name:"TPT - PL - AEM - Adform -Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC53339ea2f40540ac933169973f6cab00-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL195313efb58f499a841b5de8aba2ad9e",name:"TPT - IT - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1b56895e410548ac866f69722db96a70-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2e42c22300aa443b9d276f0c7c1a2b41",name:"TPT - PL - AEM - Adform - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7f80b84d40cf42e8af2a8c0c16575c6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22c68bf7d2ab4b4e82d7530aa83c63df",name:"TPT - PL - NSC - AA - preconfiguration interstitial page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return window.location.href.indexOf("icp=pl_precon-entry")>-1}catch(a){var t={from:"Condition",type:"PLR",name:e.$rule.name};_satellite.logger.error(a,t)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf10fbdee9d954118bdf1aa3ae3bfc020-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5ef48a6605954ffea7032720f5e10875",name:"TPT - BE - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8a48aa383aad42bb8fc5ec5e56037436-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe56140206f834a2b94f5fda100d828b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe3c34d780db34f27b4f5902da431ba3b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC54b0e6ba157049c9a854b2522ff19d23-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5809ed3eb3fd4755a76f29074b62a567-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6e7ae0d1b8384be3bb3be0b6802e7c1f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6fd05ac1bdf7424faa343e11ea52dcc5",name:"TPT - CH - AEM - DoubleClick - ContactForm-Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCef0dffa70b0d4b5893f28cd039394cdd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL65a750b063cd4f61a845d7ac0f320e61",name:"TPT - MY - AEM - GTag_DC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd639a9f8705b4719b0a469cd299cf1e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d7f4a1224c24619b432e73f54490bea",name:"TPT - ES - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbb48fb659b3e499398e8d84642409759-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL4ba8b388ef694290961961d62d8ececa",name:"TPT - DE - AEM - Outbrain - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2a90f5b8406840d2b236b591bd8cdc25-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6231631c5c7a429b9b601cbe5601c07f",name:"TPT - DK - AEM - Adform - Firmabil Other Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-accordion--list-item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Bestil pr\xf8vetur i den BMW du dr\xf8mmer om",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC015c7418a77a458a98d8ab2548ad7741-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcc2c40337ecd45ed92db41a341e3e503",name:"TPT - IT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html|/it/topics/test-drive-now/panoramica.html|/it/topics/richiedi-preventivo/panoramica.html|/it/topics/offerte-bmw/panoramica.html|/it/topics/bmw-cataloghi.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2172f62495274e2292e6069594a73581-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2b2a3151218a4f2e9bee4aaa9b5c56fe",name:"TPT - BG - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC95354f977ef3494589bb566a61831c89-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41bcedaa367543f699191563193b9439",name:"TPT - IT - AEM - GTagDC - TDA Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC34de77ee4a4d47bd88f71979aae5e02c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a51cd0e5bf9475184d5c91edace7a07",name:"TPT - SE - AEM - Salesforce Chat - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(avdelning\\/tj%C3%A4nster\\/finansiera|finansiering$)",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC01807e84c8e641ecbeeebd498c326608-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8fd05c4e7004f7c9cedb5f26f62ab5b",name:"TPT - CZ - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC97e615067f09499992ccb6b15b200932-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1205a06599fa4ab4b8929dc7c0ab938a",name:"TPT - RU - AEM - Floodlight - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4ae26e8ffaf74b8293a7655f74e1b3de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb58bc994af03420ba4e44b67961831d8",name:"TPT - UK - AEM - Adform - Download Brochure - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Download a brochure']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC909b7ac781fe4d6e8b3fc5948293d1f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96ac54ca7d574972805dc92e328321be",name:"TPT - NL - AEM - GTagDC - SignIn - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC108ef5ade01c461bbc2a3358095d03db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe14dd81e3b9c42598b8a24857ab59f79",name:"TPT - FI - AEM - Adform - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb5d251a1affc42dab28f4560a928e47b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96e998054baf46f289770d649cc85026",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbcf027643af34329a112fa33a126f4e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcac0df41a51347bfa6c9a5f0d5e2cb46",name:"TPT - PT - AEM - Livechat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe4974f13b8554cfca13ff79197ea9c94-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4d655427814442b0b026633ae7694780",name:"TPT - ES - AEM - GTagDC - Multiple - Adobe Form - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe2ddbd2ff69f49efa15915f577508f35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2cfb472f96794d3f82f5ae72fbf72e27",name:"TPT - IT - AEM - GTagDC - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it_IT/home/shop/dcs/nuovi-veicoli/checkout/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaa4b15738da0497b96bdc09617c3abef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLab6bc271d0bf4a40b50f97ceb8040f9a",name:"TPT - RO - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb4c73859ab2f4305b4dd1e02730e1ba4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3f6072bf0814c6e91ab483da3cd870a",name:"TPT - DK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc5e571e688874bd1b51c66351b8e3e59-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81f82b168dfb4570b39245b79bcef72d",name:"TPT - BG - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d182c4e2ed243e0a3b12dd1bc7c5d88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe7d2732e6ac44838bf1f812927ffc65",name:"TPT - DE - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbe281786c43f45a1a97b4fa9302e790b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL49de4d5d161a4fc2bbab26faad8d2787",name:"TPT - IT - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3da4b48a0bb04997ae3a65a1e84c867a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1ea3c98600794f28b8a40088fcac55c6",name:"TPT - ZA - AEM - Twitter - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8cc4f4223c49441184ce8f019b5ef0d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7b88f625f85403bb0ae610501413ad2",name:"TPT - PT - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC67da46e1d6eb4b1797d5bcd8ed005d03-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83d18cb14c3e4d9b980454b54d180c8f",name:"TPT - RO - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9ab59e78015d4a64878369472068da59-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5607e0fb7f2d4f988b349b957cf32f0e",name:"TPT - KR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1f217488fff242efb47f121c8f2ac6d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc5256d6ce3464733b5cbdcfe20daa793",name:"TPT - CZ - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC791326e163d5406a9f2cab2592b79e8b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC548e4ab668574d9689935e876330d00d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbce4c9ccad20476fa67f99d0c825a8a5",name:"TPT - CA - AEM - Adwords - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC709e1612ac3b41ec9f5f3d68d0a9f20f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf2596525b4954f0f82fad626bd4f4fed",name:"TPT - PL - AEM - Adform - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC641f7dcd542044bea178f073fad3c100-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbaa9b3c1f6ff4b9f9f6005f95ce49a20",name:"TPT - AT - AEM - Pinterest - RFO - FormSubmit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"de/publicPools/success-pool/success-page-rfo.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc134a7c895574457931567801b763668-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0bed88c323fe4699b67687dad0a89cec",name:"TPT - BG - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",
settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCea83bf12f83748c3bd2efed5f8d850d7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd3d1225ad78e4ad789d605d9437d6370",name:"TPT - GR - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdc77b9b331334d66b15ce439dbebc9c6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf5341f2d4cf04c1892b1d4d12d7d8a03",name:"TPT - JP - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC595df51a64744eb9bfadeab85d451480-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcdf99160a4c4a1183e579e8f0d828ac",name:"TPT - BE - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC610b476a008846c2a0c5b82538f26398-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5dce56ed77774db999aa4f3a2c0e2e42",name:"TPT - NO - AEM - Adform - Configurator Section Change - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/ssl/configurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7c0a2f048a044638ab32236fbe20a30a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL45cceea7e1024ddf9c6c7d2d83c1a35c",name:"TPT - AU - AEM - Verizon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC85b35a07990941c7a5c2e35e4ab90965-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcbcaa40e48204f11b6b881b56017d6dd",name:"TPT - CZ - AEM - Adform - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2653b65f4c4443919ddc8628ab7ed099-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ad82ab72a404952944230d4a289fbe1",name:"TPT - IT - AEM - gTagDC - Form Tracking - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40c34b35cd0a41e89bf0f7f958b05d2d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd5bdced08b0845bab6fc95fc469b909d",name:"TPT - MY - AEM - Sizmek - History Change - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc27854ddf2894eb99dbc66375748d7d8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe8494789563245fa8795733a3f7f4470",name:"TPT - ZA - All Pages - Set Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc0fb4523375c449c9ddb60b940f93124-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL918ac6924af04f5cb378cd6c571783fb",name:"TPT - PT - AEM - Facebook - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"PT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeb4c7a80cb24420281c87ed519ffb1e8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf1a232c56f734ccebb12efb697993079",name:"TPT - IE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc3557f4ee6ea4b8faec5b7adf448d590-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7212c44208d54fb19816094f5049cc8c",name:"TPT - UK - AEM - Xandr - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40e23fdedf434ea0aefa25b04fa88e61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe507ff3ac85448a1a125bbc3d07649f6",name:"TPT - NO - AEM - Adform - CON Open Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC33e34905d5b5406fb67f5d0848c31369-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa90a470111f348edbcb855f167123942",name:"TPT - NL - CON - Adwords - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe2a6ece30bcd45c196a41bd14521426e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb231ebe1d6ea4533bb2a9ba2ebcf2811",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7b70d6615c804d2cb7c7fd08a73afc5a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLec706030cfcd4239be9ff4dd5708c85b",name:"TPT - SG - AEM - LinkedIn - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8f721bc5ce844ac595566c70159868fa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2996e3a4c9b74458a6ac8e304e239846",name:"TPT - NZ - AEM - ContentSquare - Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2e5caaeaa62046eb89b1a6e1852fa7bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8950de4af9664d2d900135c63d5e5569",name:"TPT - AT - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC36681ee155e1463ebf0982cdb9828e5c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb88a41b02424f0fb3ca1ccfa0852ebc",name:"TPT - UK - AEM - GTagDC - VirtualAppoint Form Comp - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC23895179950d4a038ef0c5586b694646-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL623a0dc705404e2e87b29582e9640c18",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),a=t[t.length-1].toUpperCase();"COM"==a&&(a="DE");var o={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}}};return null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e])?(npsValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e])?(cesValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"showroom"==_satellite.getVar("snapshotDL").get("component.-1.category.subCategory1")}catch(t){var e={from:"TPT",type:"Rule",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II"};_satellite.logger.error(t,e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7f65884cd013497f8fdb36f64f12cf2c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb8bc12f42ee24803a2f845e1665db240",name:"TPT - PL - AEM - Facebook - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC641f6cb158c04eb6a14ec3c191edad61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe6bd6ee59dc94b058c5b19cccd8741b5",name:"TPT - HU - AEM - Facebook - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hu/konfigurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5a13ef26adf645d991d2a9803f55876b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL14ade404b4c14196a410a19291283adf",name:"TPT - AT - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe9c9bbcaf1ad46b6ae2dc1c735e3a0e5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL657b0d70a105444680734fa54fd5942a",name:"TPT - PT - AEM - GTagDC - Stock Locator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a451592efdc4525ae9961d832ac4bf5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL373ca459f3ef4285b7516e2d501bd4c5",name:"TPT - MY - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC67e978139919416495264fb453d1e98f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7b460467ab704c0d96431688759cec35",name:"TPT - AU - AEM - Adwords - All Pages - PLR copy",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa98ed0711a7349da93f78e2519961821-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa54b00688e864446a605cc3f2fb4e527",name:"TPT - RO - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9f20ce07fcb747f09706cdd040c6a856-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f91aacddc834642aaa8ee912ff065f4",name:"TPT - BG - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC70f0cd6bd4cf416786db36f5696f5592-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c02a496e68c48d5993d4087d3a03187",name:"TPT - HU - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC27ff1478831149729835d85aa6f8f817-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85f1b352126f4a95acf25e5354bdc58d",name:"TPT - BE - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3b375e68a6be406ab535ab6d4ebf7526-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0166a5d6c2844ac5b73db5fd258273ee",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC77fec65559314205a5e7bdf9207b2fa3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2dd199a9808f43fc98c5a6b0ad397dfc",name:"TPT - DK - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC96b8c08516ae4cba8b9964cbb09569b5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfca1f09b5c264ab082795b712833f917",name:"TPT - AT - AEM - Facebook - Form Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd1d8ec05c1684cdaa0251d98c35e3d7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9fffd61088445ce8102cb436ad86113",name:"TPT - ES - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7bfdce53f4574f3e93b58b287282fa2b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d1c411b6a4f418b9ba29a23a0062c4a",name:"TPT - GR - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa15979dcda6f4596a23f9eaa07646ed1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL20cc4cfb197e40d698a7f2a949e26765",name:"TPT - BE - AEM - DoubleClick - Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2e9eae8c7a60482b9c2c4382c5106e21-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL15970617632e4ee3aab47f65b169211a",name:"TPT - NL - AEM - Adwords - My_BMW_Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"button expand"==this.className}catch(e){_satellite.logger.error("TPT - AT Custom condition floodlight - retriggering",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC943b291bdda3444fa6ef369978ac211e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9dccd1dcaf104efc8b1051d3abb86798",name:"DCR - All - NSC - AA - Dealer Locator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_integrated"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_switch_map"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o="nsc > ",s=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));_satellite.getVar("setDefaultVariables",e)(t);var n,r,c,d,l,u,m,b,g,f,p,v,h,_=a.get("product.-1.attributes.mmdr"),P=_satellite.getVar("setDefaultProductVariables");P.id=a.get("product.-1.attributes.mmdr"),P.category="new vehicle",P.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),P.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),P.merchEvars.eVar10=_,P.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),t.products=P.toString();var j=a.get("event.-1.attributes.relatedComponentID");for(i=0;i<a.get("component").length;i++){var y=i.toString();a.get("component."+y+".componentInfo.componentID")!=j&&a.get("component."+y+".componentInfo.componentId")!=j||(_satellite.logger.log("related component - "+y),r=a.get("component."+y+".componentInfo.componentName",a.get("event.-1.attributes.relatedComponentName",a.get("product.-1.attributes.relatedComponentName"))),n=a.get("component."+y+".componentInfo.componentID",a.get("component."+y+".componentInfo.componentId")),a.get("component."+y+".category.subCategory01"),c=a.get("component."+y+".category.componentType",a.get("component."+y+".componentInfo.componentType")),d=a.get("component."+y+".attributes.errorMessage"),l=a.get("component."+y+".attributes.errorID"),u=a.get("component."+y+".attributes.onsiteSearchBrand",a.get("component."+y+".attributes.onSiteSearchBrand")),m=a.get("component."+y+".attributes.onsiteSearchTerm",a.get("component."+y+".attributes.onSiteSearchTerm")),b=a.get("component."+y+".attributes.onsiteSearchResults"),g=a.get("component."+y+".attributes.onsiteSearchResultsFilters"),a.get("component."+y+".attributes.onsiteSearchResultsType"),f=a.get("component."+y+".attributes.distanceFromDealer"),h=a.get("component."+y+".attributes.dealerName"),p=a.get("component."+y+".attributes.outletID"),v=a.get("component."+y+".attributes.dealerID"),variant=a.get("component."+y+".attributes.variant"))}var C,w=a.get("event.-1.eventInfo.eventName"),R=a.get("event.-1.eventInfo.effect"),x=a.get("event.-1.category.subCategory01"),k=a.get("event.-1.eventInfo.eventAction"),T=a.get("event.-1.eventInfo.cause"),E=a.get("event.-1.eventInfo.target");if("home dealer locator teaser impression"==w||"home dealer locator teaser click"==w)t.eVar34="home dealer locator teaser click"==w?o+R:o+w,t.eVar136="2020 - 06 - 15  dealer locator teaser",t.prop43="teaser",t.prop51="home dealer locator teaser click"==w?w:R,t.prop55=x;else{var I,A="",D=_satellite.getVar("searchDefaultProduct"),O="DLO Errors"==w?"datalayer field empty":"user selected";D=_satellite.getVar("searchDefaultProduct"),"datalayer field missing"==u&&"datalayer field empty"==u||(I="search;search;;;;"+D+"eVar30=datalayer field missing|eVar31="+O+"|eVar32=brand|eVar33="+u,A=t.apl(A,I)),"datalayer field missing"==g&&"datalayer field empty"==g||"string"==typeof g&&g.indexOf(",")>-1&&(I="search;search;;;;"+D+"eVar30=datalayer field missing|eVar31="+O+"|eVar32="+(g=g.replace(/"/g,"")).replace(/,/g,"~")+"|eVar33="+m.replace(/,/g,"~"),A=t.apl(A,I)),""!=A&&(_satellite.logger.log("dlo search - inside s.Products",A),t.products=t.apl(t.products,A)),t.eVar34="DLO Errors"==w?o+d:o+R,t.eVar40=p,t.eVar41=h,t.eVar42=v,t.eVar136="2020 - 06 - 15 Dealer Locator",t.prop43="search",t.prop50=x,t.prop51=f,t.prop55="DLO Errors"==w?l:b}t.prop1=t.pageName=-1==s.indexOf("nsc >")?"nsc > "+s:s,t.prop3=r,t.prop19=r,t.prop53="dealer",t.prop24=b,t.prop41=c,t.prop42="nsc website",t.prop44=n,t.prop27=a.get("page.pageInfo.pageID"),t.prop4=a.get("page.category.subCategory01"),t.prop5=a.get("page.category.subCategory02"),t.prop2=a.get("page.category.pageType"),t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop54=a.get("event.-1.category.primaryCategory"),t.eVar71=a.get("event.-1.eventInfo.target"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),"DLO Errors"==w?(t.prop56="error",t.prop53="backend 3rd party"):(t.prop56=1==("Select Dealer"==w||"Dealer Interaction"==w||"home dealer locator teaser impression"==w)?"interaction":"search",t.prop53=1==("Select Dealer"==w||"Dealer Interaction"==w||"home dealer locator teaser impression"==w)?"ux":"dealer"),
t.linkTrackVars=t.apl(t.linkTrackVars,"eVar31,prop57,eVar17,prop58,prop52,prop54,eVar71,prop1,prop2,prop4,prop5,prop27,prop41,pageName,products,eVar32,eVar33,eVar34,eVar40,eVar41,eVar42,eVar136,prop19,prop24,prop42,prop43,prop50,prop51,prop53,prop56,prop55");var V={"DLO Errors":"event931,event932","Brand Selection":"event917,event918","DLO Start":"event271,event272","Select Dealer":"event277,event278,event917,event918","Select Preferred Dealer":"event285,event286,event917,event918","Delete Preferred Dealer":"event917,event918","Dealer Interaction":"event917,event918","home dealer locator teaser impression":"event925,event926","home dealer locator teaser click":"event907,event908,event917,event918","find dealer":"event271,event272,event275,event276","visit dealer":"event277,event288"};C=t.apl(C,V[w]),C=t.apl(C,V[R]),"DLO Start"==w&&(t.prop56="interaction",t.eVar34="nsc > "+R,t.prop53="success",t.prop52="automatic",t.prop57=k,t.prop55=x),"Select Dealer"!=w&&"Select Preferred Dealer"!=w||(t.prop56="interaction",t.eVar34="nsc > "+R,t.prop53="ux",t.prop52=T,t.prop57=k,t.prop55=x),"DLO Search"==w&&(t.prop56="search",t.eVar34="nsc > "+R,t.eVar32=t.prop53="dealer",t.prop52=T,E&&E.indexOf("type=")>-1&&(t.prop57=E.split("type=")[1].split("&")[0]),E&&E.indexOf("term=")>-1&&(t.eVar33=E.split("term=")[1].split("&")[0]),t.prop55=b,(g=g.toString()).indexOf("Location")>-1?C=t.apl(C,"event273,event274"):g.indexOf("Dealer")>-1&&(C=t.apl(C,"event275,event276"))),"Dealer Interaction"==w&&(t.prop56="interaction",t.eVar34="nsc > "+R,R&&R.indexOf("@")>-1&&(t.eVar34="nsc > dealer e-address clicked"),R&&0==/[a-zA-Z]+/.test(R)&&(t.eVar34="nsc > dealer phn number clicked"),t.prop53="ux",t.prop52=T,t.prop57=k,t.prop55=x,"Contact Information Show"==R||R.indexOf("@")>-1||R.indexOf("http")>-1?(C=t.apl(C,"event279, event280"),t.eVar34="nsc > value-rejected"):"Plan Route"==R?C=t.apl(C,"event281,event282"):"DLO Online appointment"==R?C=t.apl(C,"event283,event284"):"07322 96390"==R&&(t.eVar34="nsc > value-rejected")),t.events=C,t.linkTrackEvents=t.apl(t.linkTrackEvents,C)}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DLO",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL1bb3297759d14399b84c9f7062dfaae0",name:"PLR - IT - hashedemailid - AAM",events:[{modulePath:"core/src/lib/events/change.js",settings:{elementSelector:"#email",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(""!=_satellite.getVar("AAM-emailid")&&null!=_satellite.getVar("AAM-emailid")&&null!=_satellite.getVar("AAM-emailid"))return!0}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf67233a1fad24f538805a5733b0b7ca8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8afa52edd10f4e7e9a92a266908136fc",name:"TPT - DE - AEM - Adobe Campaign Pixel - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC432fa901da8f4bdea0f62eac1829482d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL07b87fbaa78f4d3e9c555948f1a86937",name:"TPT - UK - AEM - GTagDC - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a64651156894c40bf460ed511768428-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCca8126831a0d411bbc12593d35d3a406-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3af44658884c41cda97441eb01f608da",name:"TPT - BE - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab4834deaffc445a97cf18e2fd5eea3d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a50ac2fb3234e49b54f36c4a337f6fb",name:"PLR - AT - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe291c8f598b64f8380d5cac6930535f4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd12ac670db0b4e4a9f0b17b0688e6cdd",name:"TPT - SK - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0d8f8db23a38469287a62a4efcea6527-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3dea188ef22640038af2a305f5bd2b38",name:"TPT - NL - AEM - Adform - Multiple Page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9289d478b97f4942a1394d099bb7539d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb068c09dc5c74e2f9876ed68fefc3508",name:"TPT - AT - AEM - Adform - Newsletter - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC277f53fa934f40218b7d9fed6e1951c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLce898315dc6845c4bb4d79d330dbcc46",name:"All Pages \u2013 AAM \u2013 hasheducid - onelogin",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"customerData",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5cc53e4f0fd148b6b5514d2ae9ee8c32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9edb780c838c449686fa799811a31f83",name:"TPT - PT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC14ab7b36fff3407fbb5f29998f4206d4-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8496388adc9c4d878da05c58bb595ed5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL57bc5103bc9d4e8087c24fef9ddaf818",name:"TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title=dlo]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCccd57435fa6840a690dd860d14b3987a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcec1a3f0ac0f4d9ea3acacbe368710d8",name:"TPT - DE - AEM - Adform - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0e7e030f3be54c239c23168b0583dabb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1c543deb615144aead0430d8f123dab3",name:"TPT - SG - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5c87b48755e5462da9b32a4b19c35d10-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLab72623d5584438195115fbd7c63c41d",name:"TPT - PL - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC30dc443ec7ab45eea157fdf3166f0ec2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8806855dd5e84e1d8170e0683032b849",name:"TPT - UK - AEM - GTagDC - iFrame RFS Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0ebeafb808274730aa8dcedd541b7526-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC46c43337e6004e4aae9dad7f2a1bf1e7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab4f8223728e4b73890e06f3c3803366-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC79c7117f29414c6fa7c141f5ed31aee2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL900d4c5d8e28444c8489828ae378a232",name:"TPT - DK - AEM - DoubleClick - Find BMW Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://bmwtilbehorsportal.bmw.dk/s/r?id=151"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaef1b83ae44a4341848e0c9b13127f98-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22374739bb5845d0a9b256f41a525441",name:"TPT - NL - AEM - Facebook - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1b3091fb17c249d5941ec7a73a7fc35a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb21eb82cf25e4265aef6714c86e9a272",name:"TPT - UK - AEM - Sophus - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC90a520a7fdb74254928d40b78a14de5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb952fee879d946eba697ae2357b16bc2",name:"DCR - All - AEM - AA - Electric Range",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric_range_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric-range"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.effect"),n=a.get("event.-1.attributes.relatedPageName",a.get("page.pageInfo.pageName")),i=(a.get("event.-1.category.subCategory01"),a.get("product.-1.attributes.fuelType")),r=_satellite.getVar("AA-componentDefaultValues"),c=_satellite.getVar("smartPreviousValueManager");if(-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,t.prop41=a.get("component.-1.category.componentType"),t.prop45=a.get("component.-1.category.componentVersion"),t.prop56=o,t.prop57=a.get("event.-1.eventInfo.eventAction"),t.prop12=a.get("event.-1.eventInfo.timeStamp"),t.prop13="bmw",t.prop19=a.get("component.-1.componentInfo.componentName"),t.eVar34=-1==s.indexOf("nsc >")?"nsc > "+s:s,t.prop52=a.get("event.-1.eventInfo.cause"),t.prop54=a.get("event.-1.category.primaryCategory"),t.prop55=a.get("event.-1.category.subCategory01",a.get("event.-1.category.subCategory1")),t.eVar71=a.get("event.-1.attributes.requestedURL"),t.prop42=r.primaryCat||"datalayer field empty",t.prop43=r.subCat||"datalayer field empty",t.prop44=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID",a.get("event.-1.attributes.relatedComponent.componentInfo.componentID")),t.prop27=a.get("event.-1.attributes.linkedPage.pageInfo.pageID"),t.prop53=a.get("event.-1.eventInfo.type"),t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop59=a.get("product.-1.attributes.configID"),t.eVar59=a.get("product.-1.attributes.configLink"),"interaction"==o?(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")):"error"==o&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.products)t.products.indexOf("search")>-1&&(d=_satellite.getVar("setDefaultProductVariables"),t.products+=d.toString());else{var d=_satellite.getVar("setDefaultProductVariables");t.products=d.toString()}"tr > errors"!=t.prop56&&"error"!=t.prop56&&"error"!=t.prop53||(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",c.update("pageName",t.prop1)}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"electric range",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL0f579a1644d2463f9ae3ece75387a035",name:"TPT - HU - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb314121375af42e1b1707fd00e932a5c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL032b0fe46fc4488581ee54637c751af2",name:"TPT - RO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC64fba35740984669aa2a2c60db0f69bd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1400a27f877c4c428e60c7f75aff90a8",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC33b8ea6d9b084022a447c65e931b5461-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbfaa506b134e42a2a6d000baba100327",name:"TPT - SI - AEM - GtagDC - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC49a089947c034107a92a1332e692c32a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC38ca080132334445a5ff8682bc9df32d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d35bdd4b3614d0e800a092e6b3eb4fb",name:"TPT - SK - AEM - RTB - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd19ed90d74194d9c97cef2b20ebce36d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe683018315b34844b6945d44cc83868f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7226b0fd621d4e34ab976e69593e93e5",name:"TPT - AT - AEM - GTagDC - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbcd0d67cd2754695bd5b949b59aeb187-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cf2768957ac4cdda587327490e3b4d6",name:"TPT - LU - AEM - GTagDC - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc420408b73a04a09b2ebac7fc9f2efd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe229e43b16b745b99f128f04a22f40ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL55f743c2aedb4a5bb29646dbb51fe10e",name:"TPT - AU - AEM - Floodlight - Outbound Link - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3070b0c1a2e34856ab533dd3f387e586-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL979fba59bf834b2e9f5dddf9eb1a5eb9",name:"TPT - AU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC74cdfd0409ed4acc99fb797b5974a450-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a67695a5f974854ba833963b6bcc65c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC36242e7bebc1491b9561c759ac70f437-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd327f04454544497b21af735fda284cf",name:"TPT - LU - AEM - gTagDC - RFO Form View - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC30adaec1984e4e3a9c60131ecb842a63-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33bf594b38ae4219a843e2fe19365d5e",name:"TPT - SK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0d4c2655981846af938d4cfbfdcaf157-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc8b17c19d4e34aa98acccd85a942faaa",name:"TPT - NO - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC662b4ae3e3e24c8a9ed21795d22048b7-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4bb3581566e446b891aee092bf471a58-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL5f69694a994b485593c5e7e6ddc3c09e",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8c3b1f92d104483b912ed378f534d82b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5f871a7bcee44a46b725c4de8bdc2531",name:"TPT - MY - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/6-series/gran-turismo/2020/bmw-6-series-gran-turismo-highlights.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2c51f339599e4d27b2f405e4d4becd5e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd572523669d7460795978a3f1fe41bde",name:"TPT - NZ - AEM - LinkedIn - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8d8ffb62f4bc46a49e6f7f23bcf0cdeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f57db5bba244e3997f78d6344047b76",name:"TPT - AU - AEM - GTagDC - Motorrad Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-motorrad.com.au/en/offers/bmw-motorrad-corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4e1a9ac6f9d746ddbdad732edc83cf00-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8cb1c3314d414ff7905a9863f54f4c29",name:"TPT - SI - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{
value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdd2b996cf8d84706ab993bb6468d51d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd5a95b6f6b044ae981ad57d8fc6ad25",name:"TPT - DE - AEM - GTagDC - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa37fa66059af48449555e1a4fc1002ab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7e9de5f70d49444e86804a2ac403a4c1",name:"TPT - AT - AEM - Adwords - SignIn - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC456ea1e49f02425696941b990ae8d589-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbe3b99f1a88a4410a39b8157a0bfaf2e",name:"TPT - ES - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/ssl/landing-renting/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/",valueIsRegex:!0},{value:"/es/topics/presentacion/",valueIsRegex:!0},{value:"/es/informacion/promociones/ofertas/select/",valueIsRegex:!0},{value:"black-shadow.bmw.es/es/bmw-serie-2-grand-coupe",valueIsRegex:!0},{value:"/es/informacion/financia/",valueIsRegex:!0},{value:"/es/ssl/catalogos.html",valueIsRegex:!0},{value:"/promocion/heroes",valueIsRegex:!0},{value:"/es/coches-bmw/",valueIsRegex:!0},{value:"/es_ES/configurator.html",valueIsRegex:!0},{value:"/es/ssl/formulario-showroom.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf4b455866f4f438f944607715e7cc506-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0883cda2127a4cebb888f96438d4a53d",name:"TPT - SI - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdae179132a9d49d1913d6a2244f9a798-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC913edd04fd2c49dc9876a071dc53f8e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc5de4e169ae045c7b3a1bb820845760d",name:"TPT - FI - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC41276f322ba2470d9dfeb2462b4074b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f7e5668e7d64e218a5f19e984297501",name:"TPT - SE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9121d2ef14514a4b9a59569f2aca5c56-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0a4cb5919044e5588b45e50dd68f6c5",name:"TPT - FR - AEM - DLO Search Function - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf066354a9cfc40519de2e3cacdfc573e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL58cb09fa09a947e1af8f747a4696eacb",name:"TPT - TH - AEM - GtagAW - Download Brochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6658c7a85d954b6393a4bce452e332c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLb1c083db0aa84a50893cd744123bd3ba",name:"TPT - RO - BMW - AEM - Adwords - Shop Events - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"oneshop_event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC02b53ba83a7245c59d02630f80b20afd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL18bb316ac782496dad3b41c9e06c88a1",name:"TPT - BG - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC421382be848645b2a6528bf9bbbe6860-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe941c9dfd6fd42b58a0fa807dab897b1",name:"TPT - ID - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaede9e225e694d69aa6f8b266c608683-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbeb12a6c067e45caa0a8b789f4bb1a2a",name:"TPT - IE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa2f06eabeac64e38a2936ef4c19dade3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb7efd8d4aaf4bef9ea41386a4717d91",name:"TPT - LU - AEM - Facebook - DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC035f50c39ee14dbfb4dddc0e12c64987-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0da615e63e2a4fdab30cd8324a1873fa",name:"TPT - IT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC45663bbb694c4338ae18492d6e284a80-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb5e6bfd26e847c89f37196b54c5e45f",name:"TPT - CZ - AEM - GtagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb77c81e34a7e444d8996f6e7e06e34e9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb214c84317e44708b836c683ea36488e",name:"TPT - PT - AEM - Facebook - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2bb5ff2ff263447f96242f4fc6a4e52e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL30c5eb68c4254014b4c53305a9078b1b",name:"TPT - ZA - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf7e1bdea6d60407b8199cf756038dddb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa16da9bbce9a426995f4bbf530bb67d7",name:"TPT - IT - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe2a8d5b5ce4a4e71ab0751e07b9180fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ab36e18c0d4448e889763013520a8d2",name:"TPT - DE - AEM - GTagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6db7a069e96748e5abda09aecd8d4ef8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb714741a7bfa4fc2802c887a05d16cb7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfef6048fcad0468883b99a7c9f2c63ea",name:"TPT - HU - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe05d62f63e29439aab433939b885f759-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbbe993a37643413bb7014ef6f7a3bd91",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCee6a5ab4be844e80820e82e93e20b799-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f89e5fa25b84073b7c14cb6ff642c05",name:"TPT - BR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC773f3b8a93c141ff8e3a9d3c39aa12ab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL321f5ae7c8c041589d0932f562e88bc3",name:"PLR - DE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/neufahrzeuge/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa64db84a301a4f9eb97b2dd2eba6ddf6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7dc50fbff96e4f269854000bb4515b9b",name:"TPT - TH - AEM - GtagAW - Link to Used Cars - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"usedcar.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc8b622af0fb343bb93c11b4687944612-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL00b73a6162d346fba113d46521299397",name:"TPT - SK - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeb73289e55654e128d32f693ce4078a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe5197029502a44d78e1e9ac8050baed5",name:"TPT - DK - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC94978e53bca74658b0a7167fbf841fa5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbd131d53bb89478d9fca03835bcb01f0",name:"TPT - FI - AEM - Adform - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/fi/aiheet/j\xe4lleenmyyj\xe4t-locator.html|/fi/aiheet/j%C3%A4lleenmyyj%C3%A4t-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC62497ddcf78e4f9094b3a276ac91f228-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40e1d32bfb554152bef0b64f1a09d907",name:"TPT - SI - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleStop:!1,anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3d6f6ebc00b2427b93c4da42e2c3f335-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdc8250b6a6f64918b0e65e9b2b3964de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdf7a763db7464639b56fede43913259d",name:"TPT - PT - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa4c44ff0f75a4ad783f151e1817993a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9586019760384877b723a0e1238a8f7a",name:"TPT - IT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d5a7070425c4525a38d0f0903d4832f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL796e9021d9484f129d78fc1c5a1808b1",name:"TPT - NZ - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC88433006d9734d52a9404cdd346e4e4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6cdcb7ab6ca245cbb5fa29bab4bda3d8",name:"TPT - UK - AEM - Xandr - Explore The Range - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/all-models/m-models.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5709405366d84c73a6012dc6cadcb145-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe361b59efd714950b434e07bb8df3a8f",name:"TPT - BE - AEM - Adform - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb6aed7feea28409993792a1689c36f1c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc30db6699d3741229aba151cbe982fda",name:"TPT - IE - AEM - Gtag_DC - PHEV View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/bmwoffers/bmw-3-phev/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC090a9aedcf5a4f29b47e3fb05d94098f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL454c7dc42f654dc48aa220be20d5fedf",name:"TPT - IE - AEM - Adwords - Book a Video Consultation - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/ssl/book-a-video-consultation.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC03a14a68d979426a84dae82242e7f5e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd14f24c275cf4a6d8ba62811a834cde2",name:"TPT - PT - AEM - Facebook - FormTracking - RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1e98697569f74568bd7e03165abb12ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a103282f6b54214a1008605ef175d67",name:"PLR - All - AEM - AA - 3rd Party Event Listener",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var a=JSON.parse(t.data);"tracking:recall-search"==a.methodName&&(_satellite.setVar("StockLocatorEvent",a.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("StockLocatorEvent");t.prop44=a.component[0].componentInfo.componentID,t.prop19=a.component[0].componentInfo.componentName,t.prop41=a.component[0].category.componentType,t.prop42=a.component[0].category.primaryCategory,t.prop43=a.component[0].category.subCategory1,t.prop56=a.event[0].eventInfo.eventName,t.prop57=a.event[0].eventInfo.eventAction,t.prop58=a.event[0].eventInfo.eventPoints,t.prop53=a.event[0].eventInfo.type,t.prop12=a.event[0].eventInfo.timeStamp,t.prop52=a.event[0].eventInfo.cause,t.eVar34=a.event[0].eventInfo.effect,"stock > sl > vehicle"===t.pageName&&(t.pageName="stock > vehicle");var o=_satellite.getVar("setDefaultProductVariables");void 0!==a.custom.product&&(o.id=a.custom.product[0].productInfo.productID,o.category=a.custom.product[0].category.productType,o.merchEvars.eVar53=a.custom.product[0].category.primaryCategory,o.merchEvars.eVar54=a.custom.product[0].category.subCategory1,o.merchEvars.eVar52=a.custom.product[0].productInfo.productName,t.products+=","+o.toString()),t.linkTrackVars+="prop41,prop42,prop43,prop19,prop44,prop56,prop57,prop58,prop12,prop52,eVar34,products,pageName"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{props:[{name:"prop1",type:"value",value:"stock >  vehicle"}],pageName:"stock >  vehicle"}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"3rd party component (3CT)",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RLb0b46564132b4298964b8a40ca903f77",name:"DCR - All - AEM - AA - New All Models",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL");if(t.prop1=t.pageName=a.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.eVar34=a.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.products)t.products.indexOf("search")>-1&&(o=_satellite.getVar("setDefaultProductVariables"),t.products+=o.toString());else{var o=_satellite.getVar("setDefaultProductVariables");t.products=o.toString()}t.linkTrackVars+="prop1,eVar34,products"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all models",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RLaf19a396642144d4a2ff76cc807e5eea",name:"TPT - AT - AEM - Facebook - iFrame Campaign Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC52a4411113ca46f88c04ec94c05cf82d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL95190eaa92204096b610fd22908a2ae4",name:"TPT - SI - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf9181f246cc746d88178f6cafccb1842-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL081d8ddbff474261be3e9a429f1fc087",name:"TPT - IE - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%pa_cat_subCategory01%",rightOperand:"TDA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6a47e926020c4b1da7f6c0bad689f47b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9cd8048156f46ecb651c11fce0bb24b",name:"TPT - BG - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"BG"},timeout:5e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbc1bd746bfac4446a6814f89ee3244bf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab45fb34dbb6413087c4c627a886616a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd942ec763e1d4764b601115edbb1640d",name:"TPT - BE - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe4b19b2c19f748d2b514c89a024307ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a180820861849818cd78d814289a4ba",name:"TPT - SK - AEM - IgnitionOne - TDA Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC679450798dea47108f0d4e82863d5afe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2579534fbfb5455a84a12cc921bf83a5",name:"TPT - IN - AEM - Munchkin - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcf15d4ecd0224d21a05a55e2e50372e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa59e5dca5e4b4ff19dca0adef8fee6b9",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1c0c524c7baf49ef8a06c05b19f49173-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc68a4534ae5249b5a8405358cf362a0a",name:"TPT - BG - AEM - GTagDC - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeeef8f077c334f9584a8632423e00b37-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL475ddbdb4ea24f1db32aff3dd435dce4",name:"TPT - IN - AEM - gTagDC - Form_Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4b675a57e91849dd9e643021b312e443-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLdd6c18000eba43d7be84cb404d91a89a",name:"TPT - GR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC563cb69dd0fc4ff5a27bbd3c553dbcb0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b1b6d87f39f401a8a5cf4819f3f90fc",name:"TPT - UK - AEM - Xandr - RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaea6e7d5863247d78b891edc0e15ed9f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL45549131ea024878a2dda3e6b8e61c60",name:"TPT - RO - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCddad5b7fefe84bf98f7bd4e7884ca6f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf62851fca08d4339ab7bf51fa0633d31",name:"TPT - SI - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC94b7762062c84db486f4d09174b1583b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59ac29853bb24bcd8864cbf69a7063af",name:"TPT - RO - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd248deccdf264858b56068f290bf8289-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fc25d0be9e74fc1a8deec49e6a6aef4",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - From Konfigurator to model Selection - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"de/konfigurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbee2beb1313745d68a4bb6737078242a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2fd384842f3649cf9bb17709965333a7",name:"TPT - BE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3209edc013c5494388e556f182adc28e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3a086c27b1c46efabe1bb7f0bae3faf",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3516da104e994a5a83fc70af21d610a8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfd3d46d67a364d0e971cc5442578fdb6",name:"TPT - IE - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/success-pool/tda-success-page.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf67e382d32bc42e78c806b7bab0543e5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b524c674e7b45c386f890ed351ac2d2",name:"TPT - TH - AEM - GtagAW - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe87b6a66672c4e1eb3f5fdc525367c00-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f07282eb7ce4a188f74bbfb5e0e0758",name:"TPT - ZA - AEM - Effectivemeasure - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1e8868b03c294264bb9a1f933ee72328-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbe20ea4084f04492b2a20f85aa74258b",name:"TPT - JP - AEM - Adform - iFrame RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC763f55c004374813aa4f393030836f17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd59c7c0c1fd14dd380ded47895bb1e42",name:"TPT - PT - AEM - DoubleClick - iFrame Form TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC37f85e0ac1814f4ab6047eeda59a5018-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a7b684299654111aba98b73871387de",name:"TPT - DK - AEM - Adform - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd9a648edc36b4291ac85b075c9599045-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLabb9bc6b7ec843dab44577409220ff06",name:"TPT - HU - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa201fd5dcf224fa79f3179a89802d41d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLae0336ee34944ad6b7eb896d51ff5de0",name:"TPT - ID - AEM - Facebook - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1606d2b7db104699881663803ede3aeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9796401769f942189d58d8eb261cd1ef",name:"TPT - DK - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC76be94d599a3471d80991cb8925d36a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8fa00df7a684195a8642796590a40a2",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4214946433d5438182c5fbda4e4c78a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL261b31e09bb147f5adcfc1caecec0934",name:"TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a7cea7659a94ecc951a083ae97d77f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3d0047b5bc674abc9c4913cd9ceea54f",name:"TPT - BG - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2ebb7d3d3325456a8832689126f50d8d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57d9612de08f4d6ab895b018e14f00d3",name:"TPT - BG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC13a5d6ad1cf84bb48862e7b58b494dc1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0584c678553348cd97ef7a62321870e9",name:"TPT - ZA - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC05020c8dd48945cd9e2186cf82a5e8bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5edad9d6654d4e9ab9d64f174b90af2c",name:"TPT - ZA - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC771b2e968f684e3e807ff4c131de4445-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL810d7a3ab5fd4eceab8f321b4f33e316",name:"TPT - SI - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6ed9f974623242e2a867e835b9a9d3aa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL10907102c41941bb9290f70ce53c2440",name:"TPT - MY - AEM - Involve Asia - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/footer/metanavigation/test-drive-request-confirmation.html|/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html|/all-models/3-series/sedan-long-wheelbase/2021/test-drive-confirmation.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5b1c5eca1dee40178b1d3f88d712de3c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6faf4e37cca24d77b18e4ba88d9b0a12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC437cdc0eb893404bbd3aff0bc8ba2ccb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ab97281b6174c2db10fd09fa65c53c3",name:"DCR - ALL - AEM - AA - ZSO Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"zso_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.eventAction"),n=a.get("event.-1.eventInfo.cause"),i=a.get("event.-1.eventInfo.effect"),r=a.get("component.-1.componentInfo.componentName"),c=(a.get("component.-1.category.subCategory01"),a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"))),d=_satellite.getVar("setDefaultProductVariables"),l=_satellite.getVar("setDefaultProductVariables");function u(){t.prop56="search",t.prop53="accessory",t.eVar34=-1==s.indexOf("nsc >")?"nsc > "+s:s,t.prop54=r,t.prop55="ZSO Select series"==o?n:i,t.prop51=o,t.prop52="default",t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52")}function m(){var e;switch(l.category="search",l.id="search",o){case"ZSO Select series":e="series";break;case"ZSO Select Modell range":e="model";break;case"ZSO Select Categories":e="category";break;case"ZSO Select Product":e="product"}l.merchEvars.eVar30="datalayer field missing",l.merchEvars.eVar31="user selected",l.merchEvars.eVar32=e,l.merchEvars.eVar33=i,d.append(l),t.products=d.toString(),t.prop57="drop down menu",t.prop24=n,t.linkTrackVars=t.apl(t.linkTrackVars,"prop53,prop57,prop24,products"),t.prop24=n}_satellite.getVar("setDefaultVariables",e)(t),t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timestamp"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop50=a.get("event.-1.eventInfo.element"),t.eVar71=a.get("event.-1.eventInfo.target"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 ZSO_accessories",t.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),t.eVar55=a.get("product.-1.category.subCategory01"),t.eVar65=a.get("event.-1.attributes.productName"),t.prop27=a.get("page.pageInfo.pageID");var b=a.get("page.pageInstanceId",a.get("pageInstanceId")),g=a.get("page.category.primaryCategory");new RegExp("([a-z]{2}_[A-Z]{2})").test(g)?b.indexOf("index-prod")>-1?t.prop3="homepage":b.indexOf("all-models")>-1?t.prop3="showroom":t.prop3=b.split("/")[6]:t.prop3=b,t.prop19=r,t.prop42="nsc website",t.prop43="accessories",t.prop5=a.get("page.category.subCategory02"),t.prop2=a.get("page.category.pageType"),t.prop28=a.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop50,eVar71,pageName,eVar60,eVar55,eVar65,prop19,prop42,prop43,prop44");var f=a.get("event.-1.category.mmdr",a.get("product.-1.attributes.mmdr"));if(d.id=f,d.category="vehicle",l.merchEvars.eVar10=f,l.merchEvars.eVar53="new car",l.merchEvars.eVar54="build to order",t.products=d.toString(),"undefined"!=t.products){var p="",v=0,h="",_="";v=(p=t.products).indexOf("eVar"),h=p.substring(v,p.length),_=p.substring(0,v),v>0&&h.length>0&&(t.products=_+h.replaceAll(/[,]/g," "))}switch(t.linkTrackVars=t.apl(t.linkTrackVars,"products"),o){case"ZSO Select series":"select series"==s&&(t.events=t.apl(t.events,"event917,event918,event251,event252,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event251,event252,event253,event254"),u(),m());break;case"ZSO Select Modell range":"select model range"==s&&(t.events=t.apl(t.events,"event917,event918,event253,event254,event257"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event253,event254,event257"),u(),m());break;case"ZSO Select Categories":"select categories"==s&&(t.events=t.apl(t.events,"event917,event918,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event253,event254"),u(),m());break;case"ZSO Select Product":"select product"==s&&(t.events=t.apl(t.events,"event917,event918,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event253,event254"),u(),m())}}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"ZSO Interaction",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL8c5ab792763041f69763cd40396598ba",name:"TPT - BE - AEM - Facebook - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3bae700de61e42dd8bdc3ab774357997-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e58e3f01ac442bbb33fae6ce13efd93",name:"TPT - FR - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd46aff57cda149b6a9c73a6fab304bf1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3a4d5310df734a60b5faebcfcefd3f31",name:"TPT - NL - AEM - Adwords - Dealer Search Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.button-blue",elementProperties:[{name:"title",value:"Zoeken"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7198efb348b4460299329d1c0f7f23f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL78516b391ce641549a211e0a16ef69a6",name:"TPT - JP - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,a){var o=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){o=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){o||a()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC50aa8024c5e74ef3a0c936c4cbfda143-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41b76ab9c9c34944a4e5a535e0a70773",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC68a5b714a8f543b9b7369f832493f58d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53ac824085e0496cabb536f6ae19a55b",name:"TPT - RO - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa5a1398b37c74b97b0f80c1d5cab257f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3536eb56475b4f86940a2ce8d29f7218",name:"TPT - IE - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:3e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7c667990015a42899d33ec94418c4720-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d1a19f511a247d4adb0f1a0be942d43",name:"TPT - BG - AEM - DoubleClick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0
}catch(e){_satellite.logger.log("TPT - BG - DBM Tag Configurator Steps err \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa17ea0e1f53d43e7816896773afd085f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL450bf7700eea4b319e761f0750e3a2cb",name:"TPT - RO - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5e94f6d2d3474d4abf087ea2351d1714-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9302db69d5044eb587aa59e216be422f",name:"TPT - DE- AEM - Adform - SignIn - SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2b07a64774d04c358048a6af32311d68-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb3fbbc693473425dbe88e15c59eba9b3",name:"TPT - DE - AEM - Adobe Campaign Pixel - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4b46724d81be43648ed87c5822e46677-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfcb5c06e9d404e3a8244a4ccffafed78",name:"TPT - UK - AEM - GTagDC - Download App Button Click - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//b.mw/mybmwapp",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/owners/bmw-apps/my-bmw-app-overview.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa11581d7ab67413896fda55ce48c405d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL71ff505073b64897901e129116109176",name:"TPT - IN - AEM - Lotame - 3 Series Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd8c329397eb74455bf4afe4b2d914fe6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL77934c417385427787c48aee50b37335",name:"TPT - UK - AEM - GTagDC - RFI Form Sub - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd53e4674822a44ee9988ed276bd2624f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb3dc89e6912049a998a09d92cbe31aef",name:"TPT - NO - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC127fb4e18f9045c688c57b694cb7dcbb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6c6c3d10ed654fd09859b30f35090b97",name:"TPT - SI - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7661fcde366b4eac8ea03a3a4616dc69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d50380b15e04d3fb85539cab79c63f2",name:"TPT - BG - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb290e79753e541928f72ac7407e20ce2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb749a0cdc66a41f3b4fc53ee9e097830-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL17de39f6fe60499da798b9f0f1ffc3d2",name:"TPT - NL - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC642638ebb5e54d2f86dc8869caad56ec-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL50126f7cc8734aff82b4405aa0288c44",name:"TPT - HU - AEM - Adform - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4632e6be94674315a955edea29eb7f34-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6e4ef905d3744d4faec634d6ca80aaf5",name:"TPT - PL - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8cac0d6b9ac74e80a73c1c54391d3356-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd497ce0f42d54e67b3cfc182588b0f2b",name:"TPT - AT - AEM - GtagDC - Forms Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf06cde6f61de4d6c920185b13dfd8d52-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a351b988cf145a99359ba8733bef220",name:"PLR - DE - All Pages - Custom Script - New Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'        ! function() {\n\t\t"use strict"\n\n\t\tfunction addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction rfi_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction rfo_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction tda_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction vco_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction removeDimension(e, i) {\n\t\t\tdelete e[i]\n\t\t}\n\n\t\tfunction weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction rfi_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction rfo_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction tda_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction vco_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\n\t\tfunction updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = calculateScore(score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction rfi_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? rfi_score_obj[i][t].value = 1 : rfi_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = rfi_calculateScore(rfi_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction rfo_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? rfo_score_obj[i][t].value = 1 : rfo_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = rfo_calculateScore(rfo_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction tda_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? tda_score_obj[i][t].value = 1 : tda_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = tda_calculateScore(tda_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\n\t\tfunction vco_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? vco_score_obj[i][t].value = 1 : vco_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = vco_calculateScore(vco_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction rfi_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction rfo_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction tda_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction vco_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += calculateDimensionScore(e, o)\n\t\t\treturn rawScore = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score", rawScore + ""),\n\t\t\t\t_satellite.setVar("final_newscore", finalScore + "")\n\t\t}\n\n\t\tfunction rfi_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += rfi_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_rfi = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_rfi = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_rfi", rawScore_rfi + ""),\n\t\t\t\t_satellite.setVar("final_newscore_rfi", finalScore_rfi + "")\n\t\t}\n\n\t\tfunction rfo_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += rfo_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_rfo = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_rfo = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_rfo", rawScore_rfo + ""),\n\t\t\t\t_satellite.setVar("final_newscore_rfo", finalScore_rfo + "")\n\t\t}\n\n\t\tfunction tda_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += tda_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_tda = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_tda = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_tda", rawScore_tda + ""),\n\t\t\t\t_satellite.setVar("final_newscore_tda", finalScore_tda + "")\n\t\t}\n\n\t\tfunction vco_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += vco_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_vco = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_vco = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_vco", rawScore_vco + ""),\n\t\t\t\t_satellite.setVar("final_newscore_vco", finalScore_vco + "")\n\t\t}\n\n\t\tfunction setCookie(e, i, o, r) {\n\t\t\tvar t = ""\n\t\t\tif (o) {\n\t\t\t\tvar n = new Date\n\t\t\t\tif (r) {\n\t\t\t\t\tswitch (r) {\n\t\t\t\t\t\tcase "m":\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 60 * o * 1e3)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase "h":\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 60 * o * 60 * 1e3)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase "d":\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n\t\t\t\t\t}\n\t\t\t\t\tt = "; expires=" + n.toGMTString()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t"true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n\t\t}\n\n\t\tfunction getCookie(e) {\n\t\t\tfor (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n\t\t\t\tfor (var t = i[r];\n\t\t\t\t\t" " === t.charAt(0);) t = t.substring(1, t.length)\n\t\t\t\tif (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n\t\t\t}\n\t\t\treturn null\n\t\t}\n\n\t\tfunction getParsedCookie(e) {\n\t\t\tvar i = window.epaas.api.getPersistence(e);\n\t\t\t//   var i = getCookie(e)\n\t\t\treturn JSON.parse(i) || {}\n\t\t}\n\n\t\tfunction getParameterByName(e, i) {\n\t\t\ti || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n\t\t\tvar o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n\t\t\t\tr = o.exec(i)\n\t\t\treturn r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n\t\t}\n\n\t\tfunction listener(e, i) {}\n\n\t\t//Binary Start\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), updateBucket(score_obj, "deviceType", e.deviceType), window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}\n\n\t\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration() {\n\t\t\tshouldDisplayScore = !0\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration || 0\n\t\t\t19 >= i ? updateBucket(score_obj, "sessionDuration", "leq19") : 43 >= i ? updateBucket(score_obj, "sessionDuration", "g20_leq43") : 89 >= i ? updateBucket(score_obj, "sessionDuration", "g44_leq89") : 160 >= i ? updateBucket(score_obj, "sessionDuration", "g90_leq160") : 271 >= i ? updateBucket(score_obj, "sessionDuration", "g161_leq271") : 459 >= i ? updateBucket(score_obj, "sessionDuration", "g272_leq459") : 888 >= i ? updateBucket(score_obj, "sessionDuration", "g460_leq888") : i >= 889 && updateBucket(score_obj, "sessionDuration", "gteq889")\n\t\t\tvar o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\t\tr++, 1 == r ? updateBucket(score_obj, "sessionDuration", "leq19") : 20 == r ? updateBucket(score_obj, "sessionDuration", "g20_leq43") : 44 == r ? updateBucket(score_obj, "sessionDuration", "g44_leq89") : 90 == r ? updateBucket(score_obj, "sessionDuration", "g90_leq160") : 161 == r ? updateBucket(score_obj, "sessionDuration", "g161_leq271") : 272 == r ? updateBucket(score_obj, "sessionDuration", "g272_leq459") : 460 == r ? updateBucket(score_obj, "sessionDuration", "g460_leq888") : r >= 889 && (updateBucket(score_obj, "sessionDuration", "gteq889"), clearInterval(o)), i.sessionDuration = r + "", window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\t\tfunction check_configurator_session_duration() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration_config || 0\n\t\t\tif (i && (20 >= i ? updateBucket(score_obj, "sessionDuration_config", "leq20") : 132 >= i ? updateBucket(score_obj, "sessionDuration_config", "g21_leq132") : 295 >= i ? updateBucket(score_obj, "sessionDuration_config", "g133_leq295") : i >= 397 && updateBucket(score_obj, "sessionDuration_config", "gteq396")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\t\tr++, 1 == r ? updateBucket(score_obj, "sessionDuration_config", "leq20") : 21 == r ? updateBucket(score_obj, "sessionDuration_config", "g21_leq132") : 133 == r ? updateBucket(score_obj, "sessionDuration_config", "g133_leq295") : r >= 296 && (updateBucket(score_obj, "sessionDuration_config", "gteq396"), clearInterval(o)), i.sessionDuration_config = r + "", /* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\t\tfunction check_channel() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\tif (e.lastChannel && "other" != e.lastChannel) updateBucket(score_obj, "lastChannel", e.lastChannel)\n\t\t\telse {\n\t\t\t\te.lastChannel = "other"\n\t\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t\t}\n\t\t\t\tupdateBucket(score_obj, "lastChannel", e.lastChannel)\n\t\t\t}\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\t\tfunction check_pageview_metrics() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar hostname = window.location.host\n\t\t\tif (hostname.indexOf("www.") > -1)\n\t\t\t\thostname = hostname.replace("www.", "")\n\t\t\tvar pathURL = hostname + window.location.pathname\n\t\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\t\tfor (var s in i) t++\n\t\t\t1 == t ? updateBucket(score_obj, "uniquePV", "eq1") : 2 == t ? updateBucket(score_obj, "uniquePV", "eq2") : 4 >= t ? updateBucket(score_obj, "uniquePV", "g3_leq4") : 5 == t ? updateBucket(score_obj, "uniquePV", "eq5") : t > 7 && (updateBucket(score_obj, "uniquePV", "gteq6"), t > 7 && (a = !1)), a && (e.uniquePV = i, /*setCookie("v_reco_data", e)*/ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t}\n\n\t\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\tfunction check_configPV() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'konfigurator-prod\') {\n\t\t\t\t\te.configPV = \'yes\'\n\t\t\t\t\tupdateBucket(score_obj, "configPV", e.configPV)\n\t\t\t\t} else {\n\t\t\t\t\te.configPV = "no"\n\t\t\t\t\tupdateBucket(score_obj, "configPV", e.configPV)\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\tfunction check_sessionDuration_SL() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'used car stock locator\') {\n\t\t\t\t\te.sessionDuration_SL = \'true\'\n\t\t\t\t\tupdateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t\t} else {\n\t\t\t\t\te.sessionDuration_SL = "false"\n\t\t\t\t\tupdateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n\t\t\n\t\tfunction check_model_viewed() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tt++;\n\t\t\t\t1 == t ? updateBucket(score_obj, "modelVisit", "eq1") : 3 >= t ? updateBucket(score_obj, "modelVisit", "g2_leq3") : 5 >= t && (updateBucket(score_obj, "modelVisit", "gteq4"), t > 5), (e.modelVisit = t , window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\n\t\t\t} else {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tif (t == undefined) {\n\t\t\t\t\te.modelVisit = 0\n\t\t\t\t\tupdateBucket(score_obj, "modelVisit", "eq0"), (e.modelVisit, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\n\t\t\t\t} else {\n\t\t\t\t\te.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\t\tupdateBucket(score_obj, "modelVisit", "eq0"), (e.modelVisit, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\t\n\t\n\n\t\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_user_visit_number() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t\t1 == t ? updateBucket(score_obj, "UV_number", "eq1") : 3 >= t ? updateBucket(score_obj, "UV_number", "g2_leq3") : 6 >= t ? updateBucket(score_obj, "UV_number", "g4_leq6") : 14 >= t ? updateBucket(score_obj, "UV_number", "g7_leq14") : 41 >= t ? updateBucket(score_obj, "UV_number", "g15_leq41") : t > 43 && (updateBucket(score_obj, "UV_number", "gteq42"), t > 43), e.UV_number = t, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV1() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? updateBucket(score_obj, "distinctPage_CV1", "eq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV1", "eq2") : 3 == t ? updateBucket(score_obj, "distinctPage_CV1", "eq3") : 5 >= t ? updateBucket(score_obj, "distinctPage_CV1", "g4_leq5") : 7 >= t ? updateBucket(score_obj, "distinctPage_CV1", "g6_leq7") : 8 >= t ? updateBucket(score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (updateBucket(score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV2() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop43\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? updateBucket(score_obj, "distinctPage_CV2", "eq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV2", "eq2") : 3 == t ? updateBucket(score_obj, "distinctPage_CV2", "eq3") : 4 == t ? updateBucket(score_obj, "distinctPage_CV2", "gteq4") : t > 5 && (updateBucket(score_obj, "distinctPage_CV2", "gteq4"), t > 5 && (a = !1)), a && (e.distinctPage_CV2 = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_unique_configurator_sections() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\n\t\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t\t} else if (category.indexOf(\'winterkomplettrader\') > -1) {\n\t\t\t\t\t\tcategory = \'winterkomplettrader\'\n\t\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t\t} else if (category.indexOf(\'colours\') > -1 || category.indexOf(\'two_tone\') > -1) {\n\t\t\t\t\t\tcategory = \'colors\'\n\t\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\t\tcategory = \'con\'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t0 == t ? updateBucket(score_obj, "uniconsec", "eq0") : 2 >= t ? updateBucket(score_obj, "uniconsec", "g1_leq2") : 5 >= t ? updateBucket(score_obj, "uniconsec", "g3_leq5") : 6 >= t ? updateBucket(score_obj, "uniconsec", "gteq6") : t > 7 && (updateBucket(score_obj, "uniconsec", "gteq6"), t > 7 && (a = !1)), a && (e.uniconsec = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////total_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_total_configurator_sections() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tj = JSON.parse(JSON.stringify(e.totalcon || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\t\t\t\t\tfunction sum(obj) {\n\t\t\t\t\t\tvar sum = 0;\n\t\t\t\t\t\tfor (var el in obj) {\n\t\t\t\t\t\t\tif (obj.hasOwnProperty(el)) {\n\t\t\t\t\t\t\t\tsum += parseFloat(obj[el]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn sum;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar category = sum(i)\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t2 >= t ? updateBucket(score_obj, "totalcon", "g0_leq2") : 13 >= t ? updateBucket(score_obj, "totalcon", "g3_leq13") : 40 >= t ? updateBucket(score_obj, "totalcon", "g14_leq40") : 41 >= t ? updateBucket(score_obj, "totalcon", "gteq41") : t > 5 && (updateBucket(score_obj, "totalcon", "gteq41"), t > 42 && (a = !1)), a && (e.totalcon = j, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////vehicle_model_interaction////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_vehicle_model_interaction() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\n\t\t\t\t\te.vehicleMod = "false"\n\t\t\t\t\tupdateBucket(score_obj, "vehicleMod", e.vehicleMod)\n\n\t\t\t\t} else {\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\te.vehicleMod = \'true\'\n\t\t\t\t\t\tupdateBucket(score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.vehicleMod = "false"\n\t\t\t\t\t\tupdateBucket(score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\n\t\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_topics_page_visited() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\t\te.topicPV = \'true\'\n\t\t\t\t\tupdateBucket(score_obj, "topicPV", e.topicPV)\n\n\t\t\t\t} else {\n\t\t\t\t\te.topicPV = "false"\n\t\t\t\t\tupdateBucket(score_obj, "topicPV", e.topicPV)\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////visualizer_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_visualizer_visited() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop19 == \'visualizer\') {\n\t\t\t\t\te.visualizer = \'true\'\n\t\t\t\t\tupdateBucket(score_obj, "visualizer", e.visualizer)\n\n\t\t\t\t} else {\n\t\t\t\t\te.visualizer = "false"\n\t\t\t\t\tupdateBucket(score_obj, "visualizer", e.visualizer)\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//Binary end\n\n\t\t//RFO Start\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType_rfo() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), rfo_updateBucket(rfo_score_obj, "deviceType", e.deviceType)\n\t\t}\n\n\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration_rfo() {\n\t\tshouldDisplayScore = !0\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration || 0\n\t\t19 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "leq19") : 43 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g20_leq43") : 89 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g44_leq89") : 160 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g90_leq160") : 271 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g161_leq271") : 459 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g272_leq459") : 888 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g460_leq888") : i >= 889 && rfo_updateBucket(rfo_score_obj, "sessionDuration", "gteq889")\n\t\tvar o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\tr++, 1 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "leq19") : 20 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g20_leq43") : 44 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g44_leq89") : 90 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g90_leq160") : 161 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g161_leq271") : 272 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g272_leq459") : 460 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g460_leq888") : r >= 889 && (rfo_updateBucket(rfo_score_obj, "sessionDuration", "gteq889"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\n\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\tfunction check_configurator_session_duration_rfo() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration_config || 0\n\t\tif (i && (20 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "leq20") : 132 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "g21_leq132") : 295 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "g133_leq295") : i >= 397 && rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "gteq396")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\tr++, 1 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "leq20") : 21 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "g21_leq132") : 133 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "g133_leq295") : r >= 296 && (rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "gteq396"), clearInterval(o)), i.sessionDuration_config = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\tfunction check_channel_rfo() {\n\n\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\tif (e.lastChannel && "other" != e.lastChannel) rfo_updateBucket(rfo_score_obj, "lastChannel", e.lastChannel)\n\t\telse {\n\t\t\te.lastChannel = "other"\n\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\tbreak\n\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t}\n\t\t\trfo_updateBucket(rfo_score_obj, "lastChannel", e.lastChannel)\n\t\t}\n\t}\n\n\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n      \tfunction check_pageview_metrics_rfo() {\n\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\tt = 0,\n\t\t\tn = !0,\n\t\t\ta = !0\n\t\tvar hostname = window.location.host\n\t\tif (hostname.indexOf("www.") > -1)\n\t\t\thostname = hostname.replace("www.", "")\n\t\tvar pathURL = hostname + window.location.pathname\n\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\tfor (var s in i) t++\n\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "eq2") : 4 >= t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "g3_leq4") : 5 == t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "eq5") : t > 7 && (rfo_updateBucket(rfo_score_obj, "uniquePV", "gteq6"), t > 7 && (a = !1)), a && (e.uniquePV = i)\n\t}\n\n\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\tfunction check_configPV_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'konfigurator-prod\') {\n\t\t\t\te.configPV = \'yes\'\n\t\t\t\trfo_updateBucket(rfo_score_obj, "configPV", e.configPV)\n\t\t\t} else {\n\t\t\t\te.configPV = "no"\n\t\t\t\trfo_updateBucket(rfo_score_obj, "configPV", e.configPV)\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\tfunction check_sessionDuration_SL_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'used car stock locator\') {\n\t\t\t\te.sessionDuration_SL = \'true\'\n\t\t\t\trfo_updateBucket(rfo_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t} else {\n\t\t\t\te.sessionDuration_SL = "false"\n\t\t\t\trfo_updateBucket(rfo_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n\tfunction check_model_viewed_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tt++;\n\t\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "modelVisit", "eq1") : 3 >= t ? rfo_updateBucket(rfo_score_obj, "modelVisit", "g2_leq3") : 5 >= t && (rfo_updateBucket(rfo_score_obj, "modelVisit", "gteq4"), t > 5), (e.modelVisit = t)\n\n\t\t\t} else {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tif (t == undefined) {\n\t\t\t\t\te.modelVisit = 0\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t} else {\n\t\t\t\t\te.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\tfunction check_user_visit_number_rfo() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "UV_number", "eq1") : 3 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g2_leq3") : 6 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g4_leq6") : 14 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g7_leq14") : 41 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g15_leq41") : t > 43 && (rfo_updateBucket(rfo_score_obj, "UV_number", "gteq42"), t > 43), e.UV_number = t\n\n\t}\n\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV1_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop1\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "eq3") : 5 >= t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "g4_leq5") : 7 >= t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "g6_leq7") : 8 >= t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV2_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop43\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "eq3") : 4 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "gteq4") : t > 5 && (rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "gteq4"), t > 5 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\n\n\tfunction check_unique_configurator_sections_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t} else if (category.indexOf(\'winterkomplettrader\') > -1) {\n\t\t\t\t\tcategory = \'winterkomplettrader\'\n\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t} else if (category.indexOf(\'colours\') > -1 || category.indexOf(\'two_tone\') > -1) {\n\t\t\t\t\tcategory = \'colors\'\n\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\tcategory = \'con\'\n\t\t\t\t}\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t0 == t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "eq0") : 2 >= t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "g1_leq2") : 5 >= t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "g3_leq5") : 6 >= t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "gteq6") : t > 7 && (rfo_updateBucket(rfo_score_obj, "uniconsec", "gteq6"), t > 7 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////total_configurator_sections////////////////////////////////////////////////////////////////////////// \n\tfunction check_total_configurator_sections_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tj = JSON.parse(JSON.stringify(e.totalcon || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\n\t\t\t\tfunction sum(obj) {\n\t\t\t\t\tvar sum = 0;\n\t\t\t\t\tfor (var el in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(el)) {\n\t\t\t\t\t\t\tsum += parseFloat(obj[el]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn sum;\n\t\t\t\t}\n\n\t\t\t\tvar category = sum(i)\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t2 >= t ? rfo_updateBucket(rfo_score_obj, "totalcon", "g0_leq2") : 13 >= t ? rfo_updateBucket(rfo_score_obj, "totalcon", "g3_leq13") : 40 >= t ? rfo_updateBucket(rfo_score_obj, "totalcon", "g14_leq40") : 41 >= t ? rfo_updateBucket(rfo_score_obj, "totalcon", "gteq41") : t > 5 && (rfo_updateBucket(rfo_score_obj, "totalcon", "gteq41"), t > 42 && (a = !1)), a && (e.totalcon = j)\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////vehicle_model_interaction////////////////////////////////////////////////////////////////////////// \n\tfunction check_vehicle_model_interaction_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\n\t\t\t\te.vehicleMod = "false"\n\t\t\t\trfo_updateBucket(rfo_score_obj, "vehicleMod", e.vehicleMod)\n\n\t\t\t} else {\n\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\te.vehicleMod = \'true\'\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t} else {\n\t\t\t\t\te.vehicleMod = "false"\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\tfunction check_topics_page_visited_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\te.topicPV = \'true\'\n\t\t\t\trfo_updateBucket(rfo_score_obj, "topicPV", e.topicPV)\n\n\t\t\t} else {\n\t\t\t\te.topicPV = "false"\n\t\t\t\trfo_updateBucket(rfo_score_obj, "topicPV", e.topicPV)\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//RFO end\n\n\t//RFI Start\n\n\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\tfunction check_deviceType_rfi() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), rfi_updateBucket(rfi_score_obj, "deviceType", e.deviceType)\n\t}\n\n\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\tfunction check_session_duration_rfi() {\n\t\tshouldDisplayScore = !0\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration || 0\n\t\t19 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "leq19") : 43 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g20_leq43") : 89 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g44_leq89") : 160 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g90_leq160") : 271 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g161_leq271") : 459 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g272_leq459") : 888 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g460_leq888") : i >= 889 && rfi_updateBucket(rfi_score_obj, "sessionDuration", "gteq889")\n\t\tvar o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\tr++, 1 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "leq19") : 20 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g20_leq43") : 44 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g44_leq89") : 90 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g90_leq160") : 161 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g161_leq271") : 272 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g272_leq459") : 460 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g460_leq888") : r >= 889 && (rfi_updateBucket(rfi_score_obj, "sessionDuration", "gteq889"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\n\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\tfunction check_configurator_session_duration_rfi() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration_config || 0\n\t\tif (i && (20 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "leq20") : 132 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "g21_leq132") : 295 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "g133_leq295") : i >= 397 && rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "gteq396")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\tr++, 1 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "leq20") : 21 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "g21_leq132") : 133 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "g133_leq295") : r >= 296 && (rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "gteq396"), clearInterval(o)), i.sessionDuration_config = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\tfunction check_channel_rfi() {\n\n\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\tif (e.lastChannel && "other" != e.lastChannel) rfi_updateBucket(rfi_score_obj, "lastChannel", e.lastChannel)\n\t\telse {\n\t\t\te.lastChannel = "other"\n\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\tbreak\n\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t}\n\t\t\trfi_updateBucket(rfi_score_obj, "lastChannel", e.lastChannel)\n\t\t}\n\n\t}\n\n\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\tfunction check_pageview_metrics_rfi() {\n\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\tt = 0,\n\t\t\tn = !0,\n\t\t\ta = !0\n\t\tvar hostname = window.location.host\n\t\tif (hostname.indexOf("www.") > -1)\n\t\t\thostname = hostname.replace("www.", "")\n\t\tvar pathURL = hostname + window.location.pathname\n\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\tfor (var s in i) t++\n\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "eq2") : 4 >= t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "g3_leq4") : 5 == t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "eq5") : t > 7 && (rfi_updateBucket(rfi_score_obj, "uniquePV", "gteq6"), t > 7 && (a = !1)), a && (e.uniquePV = i)\n\t}\n\n\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\tfunction check_configPV_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'konfigurator-prod\') {\n\t\t\t\te.configPV = \'yes\'\n\t\t\t\trfi_updateBucket(rfi_score_obj, "configPV", e.configPV)\n\t\t\t} else {\n\t\t\t\te.configPV = "no"\n\t\t\t\trfi_updateBucket(rfi_score_obj, "configPV", e.configPV)\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\tfunction check_sessionDuration_SL_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'used car stock locator\') {\n\t\t\t\te.sessionDuration_SL = \'true\'\n\t\t\t\trfi_updateBucket(rfi_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t} else {\n\t\t\t\te.sessionDuration_SL = "false"\n\t\t\t\trfi_updateBucket(rfi_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_viewed_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tt++;\n\t\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "modelVisit", "eq1") : 3 >= t ? rfi_updateBucket(rfi_score_obj, "modelVisit", "g2_leq3") : 5 >= t && (rfi_updateBucket(rfi_score_obj, "modelVisit", "gteq4"), t > 5), (e.modelVisit = t)\n\n\t\t\t} else {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tif (t == undefined) {\n\t\t\t\t\te.modelVisit = 0\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t} else {\n\t\t\t\t\te.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\tfunction check_user_visit_number_rfi() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "UV_number", "eq1") : 3 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g2_leq3") : 6 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g4_leq6") : 14 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g7_leq14") : 41 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g15_leq41") : t > 43 && (rfi_updateBucket(rfi_score_obj, "UV_number", "gteq42"), t > 43), e.UV_number = t\n\n\t}\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV1_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop1\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "eq3") : 5 >= t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "g4_leq5") : 7 >= t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "g6_leq7") : 8 >= t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV2_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop43\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "eq3") : 4 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "gteq4") : t > 5 && (rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "gteq4"), t > 5 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\n\tfunction check_unique_configurator_sections_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t} else if (category.indexOf(\'winterkomplettrader\') > -1) {\n\t\t\t\t\tcategory = \'winterkomplettrader\'\n\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t} else if (category.indexOf(\'colours\') > -1 || category.indexOf(\'two_tone\') > -1) {\n\t\t\t\t\tcategory = \'colors\'\n\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\tcategory = \'con\'\n\t\t\t\t}\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t0 == t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "eq0") : 2 >= t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "g1_leq2") : 5 >= t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "g3_leq5") : 6 >= t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "gteq6") : t > 7 && (rfi_updateBucket(rfi_score_obj, "uniconsec", "gteq6"), t > 7 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////total_configurator_sections////////////////////////////////////////////////////////////////////////// \n\tfunction check_total_configurator_sections_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tj = JSON.parse(JSON.stringify(e.totalcon || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\n\t\t\t\tfunction sum(obj) {\n\t\t\t\t\tvar sum = 0;\n\t\t\t\t\tfor (var el in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(el)) {\n\t\t\t\t\t\t\tsum += parseFloat(obj[el]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn sum;\n\t\t\t\t}\n\n\t\t\t\tvar category = sum(i)\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t2 >= t ? rfi_updateBucket(rfi_score_obj, "totalcon", "g0_leq2") : 13 >= t ? rfi_updateBucket(rfi_score_obj, "totalcon", "g3_leq13") : 40 >= t ? rfi_updateBucket(rfi_score_obj, "totalcon", "g14_leq40") : 41 >= t ? rfi_updateBucket(rfi_score_obj, "totalcon", "gteq41") : t > 5 && (rfi_updateBucket(rfi_score_obj, "totalcon", "gteq41"), t > 42 && (a = !1)), a && (e.totalcon = j)\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////vehicle_model_interaction////////////////////////////////////////////////////////////////////////// \n\n\n\tfunction check_vehicle_model_interaction_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\n\t\t\t\te.vehicleMod = "false"\n\t\t\t\trfi_updateBucket(rfi_score_obj, "vehicleMod", e.vehicleMod)\n\n\t\t\t} else {\n\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\te.vehicleMod = \'true\'\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t} else {\n\t\t\t\t\te.vehicleMod = "false"\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\n\n\tfunction check_topics_page_visited_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\te.topicPV = \'true\'\n\t\t\t\trfi_updateBucket(rfi_score_obj, "topicPV", e.topicPV)\n\n\t\t\t} else {\n\t\t\t\te.topicPV = "false"\n\t\t\t\trfi_updateBucket(rfi_score_obj, "topicPV", e.topicPV)\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//RFI end\n\n\t//tda Start\n\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\tfunction check_deviceType_tda() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), tda_updateBucket(tda_score_obj, "deviceType", e.deviceType)\n\t}\n\n\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\tfunction check_session_duration_tda() {\n\t\tshouldDisplayScore = !0\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration || 0\n\t\t19 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "leq19") : 43 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g20_leq43") : 89 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g44_leq89") : 160 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g90_leq160") : 271 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g161_leq271") : 459 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g272_leq459") : 888 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g460_leq888") : i >= 889 && tda_updateBucket(tda_score_obj, "sessionDuration", "gteq889")\n\t\tvar o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\tr++, 1 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "leq19") : 20 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g20_leq43") : 44 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g44_leq89") : 90 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g90_leq160") : 161 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g161_leq271") : 272 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g272_leq459") : 460 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g460_leq888") : r >= 889 && (tda_updateBucket(tda_score_obj, "sessionDuration", "gteq889"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\n\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\tfunction check_configurator_session_duration_tda() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration_config || 0\n\t\tif (i && (20 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "leq20") : 132 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "g21_leq132") : 295 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "g133_leq295") : i >= 397 && tda_updateBucket(tda_score_obj, "sessionDuration_config", "gteq396")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\tr++, 1 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "leq20") : 21 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "g21_leq132") : 133 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "g133_leq295") : r >= 296 && (tda_updateBucket(tda_score_obj, "sessionDuration_config", "gteq396"), clearInterval(o)), i.sessionDuration_config = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\tfunction check_channel_tda() {\n\n\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\tif (e.lastChannel && "other" != e.lastChannel) tda_updateBucket(tda_score_obj, "lastChannel", e.lastChannel)\n\t\telse {\n\t\t\te.lastChannel = "other"\n\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\tbreak\n\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t}\n\t\t\ttda_updateBucket(tda_score_obj, "lastChannel", e.lastChannel)\n\t\t}\n\t}\n\n\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\tfunction check_pageview_metrics_tda() {\n\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\tt = 0,\n\t\t\tn = !0,\n\t\t\ta = !0\n\t\tvar hostname = window.location.host\n\t\tif (hostname.indexOf("www.") > -1)\n\t\t\thostname = hostname.replace("www.", "")\n\t\tvar pathURL = hostname + window.location.pathname\n\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\tfor (var s in i) t++\n\t\t1 == t ? tda_updateBucket(tda_score_obj, "uniquePV", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "uniquePV", "eq2") : 4 >= t ? tda_updateBucket(tda_score_obj, "uniquePV", "g3_leq4") : 5 == t ? tda_updateBucket(tda_score_obj, "uniquePV", "eq5") : t > 7 && (tda_updateBucket(tda_score_obj, "uniquePV", "gteq6"), t > 7 && (a = !1)), a && (e.uniquePV = i)\n\t}\n\n\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\tfunction check_configPV_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'konfigurator-prod\') {\n\t\t\t\te.configPV = \'yes\'\n\t\t\t\ttda_updateBucket(tda_score_obj, "configPV", e.configPV)\n\t\t\t} else {\n\t\t\t\te.configPV = "no"\n\t\t\t\ttda_updateBucket(tda_score_obj, "configPV", e.configPV)\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\tfunction check_sessionDuration_SL_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'used car stock locator\') {\n\t\t\t\te.sessionDuration_SL = \'true\'\n\t\t\t\ttda_updateBucket(tda_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t} else {\n\t\t\t\te.sessionDuration_SL = "false"\n\t\t\t\ttda_updateBucket(tda_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n\n\tfunction check_model_viewed_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tt++;\n\t\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "modelVisit", "eq1") : 3 >= t ? tda_updateBucket(tda_score_obj, "modelVisit", "g2_leq3") : 5 >= t && (tda_updateBucket(tda_score_obj, "modelVisit", "gteq4"), t > 5), (e.modelVisit = t)\n\n\t\t\t} else {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tif (t == undefined) {\n\t\t\t\t\te.modelVisit = 0\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t} else {\n\t\t\t\t\te.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\tfunction check_user_visit_number_tda() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t1 == t ? tda_updateBucket(tda_score_obj, "UV_number", "eq1") : 3 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g2_leq3") : 6 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g4_leq6") : 14 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g7_leq14") : 41 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g15_leq41") : t > 43 && (tda_updateBucket(tda_score_obj, "UV_number", "gteq42"), t > 43), e.UV_number = t\n\n\t}\n\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV1_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop1\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "eq3") : 5 >= t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "g4_leq5") : 7 >= t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "g6_leq7") : 8 >= t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (tda_updateBucket(tda_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\n\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV2_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop43\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "eq3") : 4 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "gteq4") : t > 5 && (tda_updateBucket(tda_score_obj, "distinctPage_CV2", "gteq4"), t > 5 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\tfunction check_unique_configurator_sections_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\n                if(s.prop1){\n                  var category = s.prop1\n\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t} else if (category.indexOf(\'winterkomplettrader\') > -1) {\n\t\t\t\t\tcategory = \'winterkomplettrader\'\n\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t} else if (category.indexOf(\'colours\') > -1 || category.indexOf(\'two_tone\') > -1) {\n\t\t\t\t\tcategory = \'colors\'\n\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\tcategory = \'con\'\n\t\t\t\t}\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t0 == t ? tda_updateBucket(tda_score_obj, "uniconsec", "eq0") : 2 >= t ? tda_updateBucket(tda_score_obj, "uniconsec", "g1_leq2") : 5 >= t ? tda_updateBucket(tda_score_obj, "uniconsec", "g3_leq5") : 6 >= t ? tda_updateBucket(tda_score_obj, "uniconsec", "gteq6") : t > 7 && (tda_updateBucket(tda_score_obj, "uniconsec", "gteq6"), t > 7 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t}\n              }\n            }\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////total_configurator_sections////////////////////////////////////////////////////////////////////////// \n\tfunction check_total_configurator_sections_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tj = JSON.parse(JSON.stringify(e.totalcon || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\n\t\t\t\tfunction sum(obj) {\n\t\t\t\t\tvar sum = 0;\n\t\t\t\t\tfor (var el in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(el)) {\n\t\t\t\t\t\t\tsum += parseFloat(obj[el]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn sum;\n\t\t\t\t}\n\n\t\t\t\tvar category = sum(i)\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t2 >= t ? tda_updateBucket(tda_score_obj, "totalcon", "g0_leq2") : 13 >= t ? tda_updateBucket(tda_score_obj, "totalcon", "g3_leq13") : 40 >= t ? tda_updateBucket(tda_score_obj, "totalcon", "g14_leq40") : 41 >= t ? tda_updateBucket(tda_score_obj, "totalcon", "gteq41") : t > 5 && (tda_updateBucket(tda_score_obj, "totalcon", "gteq41"), t > 42 && (a = !1)), a && (e.totalcon = j)\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////vehicle_model_interaction////////////////////////////////////////////////////////////////////////// \n\tfunction check_vehicle_model_interaction_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\n\t\t\t\te.vehicleMod = "false"\n\t\t\t\ttda_updateBucket(tda_score_obj, "vehicleMod", e.vehicleMod)\n\n\t\t\t} else {\n\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\te.vehicleMod = \'true\'\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t} else {\n\t\t\t\t\te.vehicleMod = "false"\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\tfunction check_topics_page_visited_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\te.topicPV = \'true\'\n\t\t\t\ttda_updateBucket(tda_score_obj, "topicPV", e.topicPV)\n\n\t\t\t} else {\n\t\t\t\te.topicPV = "false"\n\t\t\t\ttda_updateBucket(tda_score_obj, "topicPV", e.topicPV)\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\n\n\t//tda end\n\n\n\n\t//vco Start\n\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\n\tfunction check_deviceType_vco() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), vco_updateBucket(vco_score_obj, "deviceType", e.deviceType)\n\t}\n\n\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\tfunction check_session_duration_vco() {\n\t\tshouldDisplayScore = !0\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration || 0\n\t\t19 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "leq19") : 43 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g20_leq43") : 89 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g44_leq89") : 160 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g90_leq160") : 271 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g161_leq271") : 459 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g272_leq459") : 888 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g460_leq888") : i >= 889 && vco_updateBucket(vco_score_obj, "sessionDuration", "gteq889")\n\t\tvar o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\tr++, 1 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "leq19") : 20 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g20_leq43") : 44 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g44_leq89") : 90 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g90_leq160") : 161 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g161_leq271") : 272 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g272_leq459") : 460 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g460_leq888") : r >= 889 && (vco_updateBucket(vco_score_obj, "sessionDuration", "gteq889"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\n\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\tfunction check_configurator_session_duration_vco() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = +e.sessionDuration_config || 0\n\t\tif (i && (20 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "leq20") : 132 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "g21_leq132") : 295 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "g133_leq295") : i >= 397 && vco_updateBucket(vco_score_obj, "sessionDuration_config", "gteq396")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\tif ("false" == e) clearInterval(o)\n\t\t\telse {\n\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\tr++, 1 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "leq20") : 21 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "g21_leq132") : 133 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "g133_leq295") : r >= 296 && (vco_updateBucket(vco_score_obj, "sessionDuration_config", "gteq396"), clearInterval(o)), i.sessionDuration_config = r + ""\n\t\t\t}\n\n\t\t}, 1e3)\n\t}\n\n\n\n\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\tfunction check_channel_vco() {\n\n\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\tif (e.lastChannel && "other" != e.lastChannel) vco_updateBucket(vco_score_obj, "lastChannel", e.lastChannel)\n\t\telse {\n\t\t\te.lastChannel = "other"\n\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\tbreak\n\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t}\n\t\t\tvco_updateBucket(vco_score_obj, "lastChannel", e.lastChannel)\n\t\t}\n\t}\n\n\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\tfunction check_pageview_metrics_vco() {\n\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\tt = 0,\n\t\t\tn = !0,\n\t\t\ta = !0\n\t\tvar hostname = window.location.host\n\t\tif (hostname.indexOf("www.") > -1)\n\t\t\thostname = hostname.replace("www.", "")\n\t\tvar pathURL = hostname + window.location.pathname\n\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\tfor (var s in i) t++\n\t\t1 == t ? vco_updateBucket(vco_score_obj, "uniquePV", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "uniquePV", "eq2") : 4 >= t ? vco_updateBucket(vco_score_obj, "uniquePV", "g3_leq4") : 5 == t ? vco_updateBucket(vco_score_obj, "uniquePV", "eq5") : t > 7 && (vco_updateBucket(vco_score_obj, "uniquePV", "gteq6"), t > 7 && (a = !1)), a && (e.uniquePV = i)\n\t}\n\n\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\tfunction check_configPV_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'konfigurator-prod\') {\n\t\t\t\te.configPV = \'yes\'\n\t\t\t\tvco_updateBucket(vco_score_obj, "configPV", e.configPV)\n\t\t\t} else {\n\t\t\t\te.configPV = "no"\n\t\t\t\tvco_updateBucket(vco_score_obj, "configPV", e.configPV)\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\n\n\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\tfunction check_sessionDuration_SL_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'used car stock locator\') {\n\t\t\t\te.sessionDuration_SL = \'true\'\n\t\t\t\tvco_updateBucket(vco_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t} else {\n\t\t\t\te.sessionDuration_SL = "false"\n\t\t\t\tvco_updateBucket(vco_score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_viewed_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tt++;\n\t\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "modelVisit", "eq1") : 3 >= t ? vco_updateBucket(vco_score_obj, "modelVisit", "g2_leq3") : 5 >= t && (vco_updateBucket(vco_score_obj, "modelVisit", "gteq4"), t > 5), (e.modelVisit = t)\n\n\t\t\t} else {\n\t\t\t\tvar t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\tif (t == undefined) {\n\t\t\t\t\te.modelVisit = 0\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t} else {\n\t\t\t\t\te.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "modelVisit", "eq0"), (e.modelVisit)\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\t\n\t\n\n\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\tfunction check_user_visit_number_vco() {\n\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t1 == t ? vco_updateBucket(vco_score_obj, "UV_number", "eq1") : 3 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g2_leq3") : 6 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g4_leq6") : 14 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g7_leq14") : 41 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g15_leq41") : t > 43 && (vco_updateBucket(vco_score_obj, "UV_number", "gteq42"), t > 43), e.UV_number = t\n\n\t}\n\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV1_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop1\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "eq3") : 5 >= t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "g4_leq5") : 7 >= t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "g6_leq7") : 8 >= t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (vco_updateBucket(vco_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\tfunction check_distinctPage_CV2_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar category = s.prop43\n\n\t\t\tif (category != \'\') {\n\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\tfor (var h in i) t++\n\t\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "eq3") : 4 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "gteq4") : t > 5 && (vco_updateBucket(vco_score_obj, "distinctPage_CV2", "gteq4"), t > 5 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t}\n\t\t}, 2600);\n\t}\n\n\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\tfunction check_unique_configurator_sections_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t} else if (category.indexOf(\'winterkomplettrader\') > -1) {\n\t\t\t\t\tcategory = \'winterkomplettrader\'\n\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t} else if (category.indexOf(\'colours\') > -1 || category.indexOf(\'two_tone\') > -1) {\n\t\t\t\t\tcategory = \'colors\'\n\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\tcategory = \'con\'\n\t\t\t\t}\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t0 == t ? vco_updateBucket(vco_score_obj, "uniconsec", "eq0") : 2 >= t ? vco_updateBucket(vco_score_obj, "uniconsec", "g1_leq2") : 5 >= t ? vco_updateBucket(vco_score_obj, "uniconsec", "g3_leq5") : 6 >= t ? vco_updateBucket(vco_score_obj, "uniconsec", "gteq6") : t > 7 && (vco_updateBucket(vco_score_obj, "uniconsec", "gteq6"), t > 7 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t}\n\t\t\t}\n\t\t}, 2500);\n\t}\n\n\t//////////////////////////////////////////////total_configurator_sections//////////////////////////////////////////////////////////////////////////\n\tfunction check_total_configurator_sections_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\tj = JSON.parse(JSON.stringify(e.totalcon || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\tvar category = s.prop1\n\n\n\t\t\t\tfunction sum(obj) {\n\t\t\t\t\tvar sum = 0;\n\t\t\t\t\tfor (var el in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(el)) {\n\t\t\t\t\t\t\tsum += parseFloat(obj[el]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn sum;\n\t\t\t\t}\n\n\t\t\t\tvar category = sum(i)\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t2 >= t ? vco_updateBucket(vco_score_obj, "totalcon", "g0_leq2") : 13 >= t ? vco_updateBucket(vco_score_obj, "totalcon", "g3_leq13") : 40 >= t ? vco_updateBucket(vco_score_obj, "totalcon", "g14_leq40") : 41 >= t ? vco_updateBucket(vco_score_obj, "totalcon", "gteq41") : t > 5 && (vco_updateBucket(vco_score_obj, "totalcon", "gteq41"), t > 42 && (a = !1)), a && (e.totalcon = j)\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////vehicle_model_interaction////////////////////////////////////////////////////////////////////////// \n\tfunction check_vehicle_model_interaction_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\n\t\t\t\te.vehicleMod = "false"\n\t\t\t\tvco_updateBucket(vco_score_obj, "vehicleMod", e.vehicleMod)\n\n\t\t\t} else {\n\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\te.vehicleMod = \'true\'\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t} else {\n\t\t\t\t\te.vehicleMod = "false"\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "vehicleMod", e.vehicleMod)\n\t\t\t\t}\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\tfunction check_topics_page_visited_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\te.topicPV = \'true\'\n\t\t\t\tvco_updateBucket(vco_score_obj, "topicPV", e.topicPV)\n\n\t\t\t} else {\n\t\t\t\te.topicPV = "false"\n\t\t\t\tvco_updateBucket(vco_score_obj, "topicPV", e.topicPV)\n\t\t\t}\n\n\t\t}, 2500);\n\t}\n\n\n\n\t//vco end\n\n\t////////////////////final/////////////////////////////\n\tfunction scorefinal() {\n\t\tsetTimeout(function() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\te.SFB = _satellite.getVar(\'final_newscore\');\n\t\t\tupdateBucket(score_obj, "SFB", e.SFB)\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}, 2500);\n\t}\n\n\tfunction scorefinal_rfi() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\te.rfi = _satellite.getVar(\'final_newscore_rfi\');\n\t\t\trfi_updateBucket(rfi_score_obj, "rfi", e.rfi)\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}, 2500);\n\t}\n\n\tfunction scorefinal_rfo() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\te.rfo = _satellite.getVar(\'final_newscore_rfo\');\n\t\t\trfo_updateBucket(rfo_score_obj, "rfo", e.rfo)\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}, 2500);\n\t}\n\n\tfunction scorefinal_tda() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\te.tda = _satellite.getVar(\'final_newscore_tda\');\n\t\t\ttda_updateBucket(tda_score_obj, "tda", e.tda)\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}, 2500);\n\t}\n\n\tfunction scorefinal_vco() {\n\t\tsetTimeout(function() {\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\te.vco = _satellite.getVar(\'final_newscore_vco\');\n\t\t\tvco_updateBucket(vco_score_obj, "tda", e.vco)\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}, 2500);\n\t}\n\n\n\tfunction init() {\n\t\tvar e = {},\n\t\t\ti = {},\n\t\t\to = {},\n\t\t\tr = {},\n\t\t\tt = {},\n\t\t\tn = {},\n\t\t\ta = {},\n\t\t\tb = {},\n\t\t\tc = {},\n\t\t\tf = {},\n\t\t\th = {},\n\t\t\tj = {},\n\t\t\tk = {},\n\t\t\tm = {},\n\t\t\td = {},\n\t\t\tu = {},\n\t\t\tg = {},\n\t\t\tp = {},\n\t\t\tt = {},\n\t\t\ts = {}\n\t\tif (addDimension(s, "always_on", weight_value(-2.680122, 1)),\n\n\t\t\taddDimension(i, "eq1", weight_value(0)),\n\t\t\taddDimension(i, "eq2", weight_value(0.350292)),\n\t\t\taddDimension(i, "g3_leq4", weight_value(-0.368641)),\n\t\t\taddDimension(i, "eq5", weight_value(-0.416266)),\n\t\t\taddDimension(i, "gteq6", weight_value(-0.629406)),\n\n\t\t\taddDimension(o, "leq19", weight_value(0)),\n\t\t\taddDimension(o, "g20_leq43", weight_value(-0.976827)),\n\t\t\taddDimension(o, "g44_leq89", weight_value(1.501592)),\n\t\t\taddDimension(o, "g90_leq160", weight_value(2.514608)),\n\t\t\taddDimension(o, "g161_leq271", weight_value(2.947858)),\n\t\t\taddDimension(o, "g272_leq459", weight_value(3.266849)),\n\t\t\taddDimension(o, "g460_leq888", weight_value(3.436915)),\n\t\t\taddDimension(o, "gteq889", weight_value(3.59454)),\n\n\t\t\taddDimension(r, "leq20", weight_value(0)),\n\t\t\taddDimension(r, "g21_leq132", weight_value(0.757782)),\n\t\t\taddDimension(r, "g133_leq295", weight_value(-0.071925)),\n\t\t\taddDimension(r, "gteq396", weight_value(-0.371521)),\n\n\n\t\t\taddDimension(n, "mobile", weight_value(0.32349)),\n\t\t\taddDimension(n, "misc", weight_value(0)),\n\t\t\taddDimension(n, "tablet", weight_value(0)),\n\t\t\taddDimension(n, "desktop", weight_value(0.758194)),\n\n\t\t\taddDimension(a, "paid_search", weight_value(-0.901724)),\n\t\t\taddDimension(a, "display", weight_value(0)),\n\t\t\taddDimension(a, "other", weight_value(-1.422318)),\n\n\n\t\t\taddDimension(b, "eq0", weight_value(0)),\n\t\t\taddDimension(b, "eq1", weight_value(0)),\n\t\t\taddDimension(b, "g2_leq3", weight_value(-0.210058)),\n\t\t\taddDimension(b, "gteq4", weight_value(-0.276055)),\n\n\t\t\taddDimension(c, "yes", weight_value(1.122295)),\n\t\t\taddDimension(c, "no", weight_value(0)),\n\n\t\t\taddDimension(f, "false", weight_value(0)),\n\t\t\taddDimension(f, "true", weight_value(1.371417)),\n\n\t\t\taddDimension(h, "eq1", weight_value(0)),\n\t\t\taddDimension(h, "g2_leq3", weight_value(0.192681)),\n\t\t\taddDimension(h, "g4_leq6", weight_value(0.120085)),\n\t\t\taddDimension(h, "g7_leq14", weight_value(0.398987)),\n\t\t\taddDimension(h, "g15_leq41", weight_value(-0.067391)),\n\t\t\taddDimension(h, "gteq42", weight_value(0.017177)),\n\n\t\t\taddDimension(j, "eq1", weight_value(0)),\n\t\t\taddDimension(j, "eq2", weight_value(0.362407)),\n\t\t\taddDimension(j, "eq3", weight_value(-0.723749)),\n\t\t\taddDimension(j, "g4_leq5", weight_value(-0.289925)),\n\t\t\taddDimension(j, "g6_leq7", weight_value(-0.260132)),\n\t\t\taddDimension(j, "gteq8", weight_value(-0.201878)),\n\n\t\t\taddDimension(k, "eq1", weight_value(0)),\n\t\t\taddDimension(k, "eq2", weight_value(0.575752)),\n\t\t\taddDimension(k, "eq3", weight_value(1.898937)),\n\t\t\taddDimension(k, "gteq4", weight_value(4.929503)),\n\n\t\t\taddDimension(d, "eq1", weight_value(0)),\n\t\t\taddDimension(d, "g1_leq2", weight_value(-2.770525)),\n\t\t\taddDimension(d, "g3_leq5", weight_value(-2.681929)),\n\t\t\taddDimension(d, "gteq6", weight_value(-2.171796)),\n\n\t\t\taddDimension(u, "g0_leq2", weight_value(0)),\n\t\t\taddDimension(u, "g3_leq13", weight_value(-0.854206)),\n\t\t\taddDimension(u, "g14_leq40", weight_value(-2.111582)),\n\t\t\taddDimension(u, "gteq41", weight_value(-1.450527)),\n\n\t\t\taddDimension(g, "false", weight_value(0)),\n\t\t\taddDimension(g, "true", weight_value(-1.149328)),\n\n\t\t\taddDimension(p, "false", weight_value(0)),\n\t\t\taddDimension(p, "true", weight_value(-1.144732)),\n\n\t\t\taddDimension(t, "false", weight_value(0)),\n\t\t\taddDimension(t, "true", weight_value(-0.191471)),\n\n\t\t\taddDimension(m, "SFB", weight_value(0)),\n\n\t\t\taddDimension(score_obj, "uniquePV", i),\n\t\t\taddDimension(score_obj, "sessionDuration", o),\n\t\t\taddDimension(score_obj, "sessionDuration_config", r),\n\t\t\taddDimension(score_obj, "deviceType", n),\n\t\t\taddDimension(score_obj, "lastChannel", a),\n\t\t\taddDimension(score_obj, "modelVisit", b),\n\t\t\taddDimension(score_obj, "configPV", c),\n\t\t\taddDimension(score_obj, "sessionDuration_SL", f),\n\t\t\taddDimension(score_obj, "UV_number", h),\n\t\t\taddDimension(score_obj, "distinctPage_CV1", j),\n\t\t\taddDimension(score_obj, "distinctPage_CV2", k),\n\t\t\taddDimension(score_obj, "uniconsec", d),\n\t\t\taddDimension(score_obj, "totalcon", u),\n\t\t\taddDimension(score_obj, "vehicleMod", g),\n\t\t\taddDimension(score_obj, "topicPV", p),\n\t\t\taddDimension(score_obj, "visualizer", t),\n\t\t\taddDimension(score_obj, "SFB", m),\n\t\t\taddDimension(score_obj, "intercept", s),\n\n\t\t\tcheck_deviceType(),\n\t\t\tcheck_pageview_metrics(),\n\t\t\tcheck_channel(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(),\n\t\t\tcheck_model_viewed(),\n\t\t\tcheck_configPV(),\n\t\t\tcheck_sessionDuration_SL(),\n\t\t\tcheck_user_visit_number(),\n\t\t\tcheck_distinctPage_CV1(),\n\t\t\tcheck_distinctPage_CV2(),\n\t\t\tcheck_unique_configurator_sections(),\n\t\t\tcheck_total_configurator_sections(),\n\t\t\tcheck_vehicle_model_interaction(),\n\t\t\tcheck_topics_page_visited(),\n\t\t\tcheck_visualizer_visited(),\n\t\t\tscorefinal(),\n\n\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\tshouldSendScore = !0\n\t\telse {\n\t\t\tsetTimeout(function() {\n\t\t\t\tshouldSendScore = !0\n\t\t\t}, 3e4)\n\t\t}\n\t}\n\n\tfunction init_rfo() {\n\t\tvar e = {},\n\t\t\ti = {},\n\t\t\to = {},\n\t\t\tr = {},\n\t\t\tt = {},\n\t\t\tn = {},\n\t\t\ta = {},\n\t\t\tb = {},\n\t\t\tc = {},\n\t\t\tf = {},\n\t\t\th = {},\n\t\t\tj = {},\n\t\t\tk = {},\n\t\t\tm = {},\n\t\t\td = {},\n\t\t\tu = {},\n\t\t\tg = {},\n\t\t\tp = {},\n\t\t\tt = {},\n\t\t\ts = {}\n\t\tif (rfo_addDimension(s, "always_on", weight_value(-3.518179, 1)),\n\n\t\t\trfo_addDimension(i, "eq1", weight_value(0)),\n\t\t\trfo_addDimension(i, "eq2", weight_value(-0.5855491)),\n\t\t\trfo_addDimension(i, "g3_leq4", weight_value(-1.4194513)),\n\t\t\trfo_addDimension(i, "eq5", weight_value(-1.704013)),\n\t\t\trfo_addDimension(i, "gteq6", weight_value(-2.1652329)),\n\n\t\t\trfo_addDimension(o, "leq19", weight_value(0)),\n\t\t\trfo_addDimension(o, "g20_leq43", weight_value(0.2642403)),\n\t\t\trfo_addDimension(o, "g44_leq89", weight_value(1.2120733)),\n\t\t\trfo_addDimension(o, "g90_leq160", weight_value(2.0543355)),\n\t\t\trfo_addDimension(o, "g161_leq271", weight_value(2.493051)),\n\t\t\trfo_addDimension(o, "g272_leq459", weight_value(2.7767721)),\n\t\t\trfo_addDimension(o, "g460_leq888", weight_value(2.708071)),\n\t\t\trfo_addDimension(o, "gteq889", weight_value(3.0776032)),\n\n\t\t\trfo_addDimension(r, "leq20", weight_value(0)),\n\t\t\trfo_addDimension(r, "g21_leq132", weight_value(0.285583)),\n\t\t\trfo_addDimension(r, "g133_leq295", weight_value(-0.5450687)),\n\t\t\trfo_addDimension(r, "gteq396", weight_value(-0.70316147)),\n\n\t\t\trfo_addDimension(n, "mobile", weight_value(-0.21408718)),\n\t\t\trfo_addDimension(n, "misc", weight_value(0)),\n\t\t\trfo_addDimension(n, "tablet", weight_value(0)),\n\t\t\trfo_addDimension(n, "desktop", weight_value(0.3295581)),\n\n\t\t\trfo_addDimension(a, "paid_search", weight_value(-1.7180801)),\n\t\t\trfo_addDimension(a, "display", weight_value(0)),\n\t\t\trfo_addDimension(a, "other", weight_value(-1.84598)),\n\n\t\t\trfo_addDimension(b, "eq0", weight_value(0)),\n\t\t\trfo_addDimension(b, "eq1", weight_value(0)),\n\t\t\trfo_addDimension(b, "g2_leq3", weight_value(-0.78347532)),\n\t\t\trfo_addDimension(b, "gteq4", weight_value(-1.4823001)),\n\n\t\t\trfo_addDimension(c, "yes", weight_value(-1.512305)),\n\t\t\trfo_addDimension(c, "no", weight_value(0)),\n\n\t\t\trfo_addDimension(f, "false", weight_value(0)),\n\t\t\trfo_addDimension(f, "true", weight_value(2.1538645)),\n\n\t\t\trfo_addDimension(h, "eq1", weight_value(0)),\n\t\t\trfo_addDimension(h, "g2_leq3", weight_value(0.101396117)),\n\t\t\trfo_addDimension(h, "g4_leq6", weight_value(0.05932966)),\n\t\t\trfo_addDimension(h, "g7_leq14", weight_value(0.2801888)),\n\t\t\trfo_addDimension(h, "g15_leq41", weight_value(0.09634638)),\n\t\t\trfo_addDimension(h, "gteq42", weight_value(0.1998352)),\n\n\t\t\trfo_addDimension(j, "eq1", weight_value(0)),\n\t\t\trfo_addDimension(j, "eq2", weight_value(1.0129918)),\n\t\t\trfo_addDimension(j, "eq3", weight_value(1.17358062)),\n\t\t\trfo_addDimension(j, "g4_leq5", weight_value(2.3347725)),\n\t\t\trfo_addDimension(j, "g6_leq7", weight_value(2.9438299)),\n\t\t\trfo_addDimension(j, "gteq8", weight_value(2.8297098)),\n\n\n\t\t\trfo_addDimension(k, "eq1", weight_value(0)),\n\t\t\trfo_addDimension(k, "eq2", weight_value(-0.6978549)),\n\t\t\trfo_addDimension(k, "eq3", weight_value(-0.6714027)),\n\t\t\trfo_addDimension(k, "gteq4", weight_value(0.8976263)),\n\n\t\t\trfo_addDimension(d, "eq1", weight_value(0)),\n\t\t\trfo_addDimension(d, "g1_leq2", weight_value(0.639741)),\n\t\t\trfo_addDimension(d, "g3_leq5", weight_value(-0.02938127)),\n\t\t\trfo_addDimension(d, "gteq6", weight_value(1.2283746)),\n\n\t\t\trfo_addDimension(u, "g0_leq2", weight_value(0)),\n\t\t\trfo_addDimension(u, "g3_leq13", weight_value(-0.6928322)),\n\t\t\trfo_addDimension(u, "g14_leq40", weight_value(-0.46598257)),\n\t\t\trfo_addDimension(u, "gteq41", weight_value(-0.4632484)),\n\n\t\t\trfo_addDimension(g, "false", weight_value(0)),\n\t\t\trfo_addDimension(g, "true", weight_value(-0.01864527)),\n\n\t\t\trfo_addDimension(p, "false", weight_value(0)),\n\t\t\trfo_addDimension(p, "true", weight_value(-0.558908)),\n\n\t\t\trfo_addDimension(m, "rfo", weight_value(0)),\n\n\t\t\trfo_addDimension(rfo_score_obj, "uniquePV", i),\n\t\t\trfo_addDimension(rfo_score_obj, "sessionDuration", o),\n\t\t\trfo_addDimension(rfo_score_obj, "sessionDuration_config", r),\n\t\t\trfo_addDimension(rfo_score_obj, "deviceType", n),\n\t\t\trfo_addDimension(rfo_score_obj, "lastChannel", a),\n\t\t\trfo_addDimension(rfo_score_obj, "modelVisit", b),\n\t\t\trfo_addDimension(rfo_score_obj, "configPV", c),\n\t\t\trfo_addDimension(rfo_score_obj, "sessionDuration_SL", f),\n\t\t\trfo_addDimension(rfo_score_obj, "UV_number", h),\n\t\t\trfo_addDimension(rfo_score_obj, "distinctPage_CV1", j),\n\t\t\trfo_addDimension(rfo_score_obj, "distinctPage_CV2", k),\n\t\t\trfo_addDimension(rfo_score_obj, "uniconsec", d),\n\t\t\trfo_addDimension(rfo_score_obj, "totalcon", u),\n\t\t\trfo_addDimension(rfo_score_obj, "vehicleMod", g),\n\t\t\trfo_addDimension(rfo_score_obj, "topicPV", p),\n\t\t\trfo_addDimension(rfo_score_obj, "rfo", m),\n\t\t\trfo_addDimension(rfo_score_obj, "intercept", s),\n\n\t\t\tcheck_deviceType_rfo(),\n\t\t\tcheck_pageview_metrics_rfo(),\n\t\t\tcheck_channel_rfo(),\n\t\t\tcheck_configurator_session_duration_rfo(),\n\t\t\tcheck_session_duration_rfo(),\n\t\t\tcheck_model_viewed_rfo(),\n\t\t\tcheck_configPV_rfo(),\n\t\t\tcheck_sessionDuration_SL_rfo(),\n\t\t\tcheck_user_visit_number_rfo(),\n\t\t\tcheck_distinctPage_CV1_rfo(),\n\t\t\tcheck_distinctPage_CV2_rfo(),\n\t\t\tcheck_unique_configurator_sections_rfo(),\n\t\t\tcheck_total_configurator_sections_rfo(),\n\t\t\tcheck_vehicle_model_interaction_rfo(),\n\t\t\tcheck_topics_page_visited_rfo(),\n\t\t\tscorefinal_rfo(),\n\n\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\tshouldSendScore = !0\n\t\telse {\n\t\t\tsetTimeout(function() {\n\t\t\t\tshouldSendScore = !0\n\t\t\t}, 3e4)\n\t\t}\n\t}\n\n\tfunction init_rfi() {\n\t\tvar e = {},\n\t\t\ti = {},\n\t\t\to = {},\n\t\t\tr = {},\n\t\t\tt = {},\n\t\t\tn = {},\n\t\t\ta = {},\n\t\t\tb = {},\n\t\t\tc = {},\n\t\t\tf = {},\n\t\t\th = {},\n\t\t\tj = {},\n\t\t\tk = {},\n\t\t\tm = {},\n\t\t\td = {},\n\t\t\tu = {},\n\t\t\tg = {},\n\t\t\tp = {},\n\t\t\tt = {},\n\t\t\ts = {}\n\t\tif (rfi_addDimension(s, "always_on", weight_value(-3.053771, 1)),\n\n\t\t\trfi_addDimension(i, "eq1", weight_value(0)),\n\t\t\trfi_addDimension(i, "eq2", weight_value(0.4043796)),\n\t\t\trfi_addDimension(i, "g3_leq4", weight_value(-0.1610061)),\n\t\t\trfi_addDimension(i, "eq5", weight_value(0.06330354)),\n\t\t\trfi_addDimension(i, "gteq6", weight_value(-0.3255659)),\n\n\t\t\trfi_addDimension(o, "leq19", weight_value(0)),\n\t\t\trfi_addDimension(o, "g20_leq43", weight_value(-0.2528697)),\n\t\t\trfi_addDimension(o, "g44_leq89", weight_value(1.3383218)),\n\t\t\trfi_addDimension(o, "g90_leq160", weight_value(2.0262888)),\n\t\t\trfi_addDimension(o, "g161_leq271", weight_value(2.224999)),\n\t\t\trfi_addDimension(o, "g272_leq459", weight_value(2.4343759)),\n\t\t\trfi_addDimension(o, "g460_leq888", weight_value(2.565023)),\n\t\t\trfi_addDimension(o, "gteq889", weight_value(2.3238394)),\n\n\n\t\t\trfi_addDimension(r, "leq20", weight_value(0)),\n\t\t\trfi_addDimension(r, "g21_leq132", weight_value(0.1535957)),\n\t\t\trfi_addDimension(r, "g133_leq295", weight_value(-0.205834)),\n\t\t\trfi_addDimension(r, "gteq396", weight_value(-0.3266494)),\n\n\t\t\trfi_addDimension(n, "mobile", weight_value(-0.18045814)),\n\t\t\trfi_addDimension(n, "misc", weight_value(0)),\n\t\t\trfi_addDimension(n, "tablet", weight_value(0)),\n\t\t\trfi_addDimension(n, "desktop", weight_value(0.2600773)),\n\n\t\t\trfi_addDimension(a, "paid_search", weight_value(-0.6101986)),\n\t\t\trfi_addDimension(a, "display", weight_value(0)),\n\t\t\trfi_addDimension(a, "other", weight_value(-1.436485)),\n\n\t\t\trfi_addDimension(b, "eq0", weight_value(0)),\n\t\t\trfi_addDimension(b, "eq1", weight_value(0)),\n\t\t\trfi_addDimension(b, "g2_leq3", weight_value(-0.09331503)),\n\t\t\trfi_addDimension(b, "gteq4", weight_value(0.1189784)),\n\n\t\t\trfi_addDimension(c, "yes", weight_value(1.046264)),\n\t\t\trfi_addDimension(c, "no", weight_value(0)),\n\n\t\t\trfi_addDimension(f, "false", weight_value(0)),\n\t\t\trfi_addDimension(f, "true", weight_value(-0.6933323)),\n\n\t\t\trfi_addDimension(h, "eq1", weight_value(0)),\n\t\t\trfi_addDimension(h, "g2_leq3", weight_value(-0.000595835)),\n\t\t\trfi_addDimension(h, "g4_leq6", weight_value(0.32000036)),\n\t\t\trfi_addDimension(h, "g7_leq14", weight_value(0.4306802)),\n\t\t\trfi_addDimension(h, "g15_leq41", weight_value(0.06745838)),\n\t\t\trfi_addDimension(h, "gteq42", weight_value(0.3507822)),\n\n\t\t\trfi_addDimension(j, "eq1", weight_value(0)),\n\t\t\trfi_addDimension(j, "eq2", weight_value(-0.2860951)),\n\t\t\trfi_addDimension(j, "eq3", weight_value(-1.95882917)),\n\t\t\trfi_addDimension(j, "g4_leq5", weight_value(-2.6758407)),\n\t\t\trfi_addDimension(j, "g6_leq7", weight_value(-3.1359413)),\n\t\t\trfi_addDimension(j, "gteq8", weight_value(-3.0103074)),\n\n\t\t\trfi_addDimension(k, "eq1", weight_value(0)),\n\t\t\trfi_addDimension(k, "eq2", weight_value(1.4793761)),\n\t\t\trfi_addDimension(k, "eq3", weight_value(2.6480021)),\n\t\t\trfi_addDimension(k, "gteq4", weight_value(5.7274222)),\n\n\t\t\trfi_addDimension(d, "eq1", weight_value(0)),\n\t\t\trfi_addDimension(d, "g1_leq2", weight_value(-1.3400193)),\n\t\t\trfi_addDimension(d, "g3_leq5", weight_value(-0.43050013)),\n\t\t\trfi_addDimension(d, "gteq6", weight_value(-0.2721505)),\n\n\t\t\trfi_addDimension(u, "g0_leq2", weight_value(0)),\n\t\t\trfi_addDimension(u, "g3_leq13", weight_value(-0.2457826)),\n\t\t\trfi_addDimension(u, "g14_leq40", weight_value(-1.34929451)),\n\t\t\trfi_addDimension(u, "gteq41", weight_value(-1.1554201)),\n\n\t\t\trfi_addDimension(g, "false", weight_value(0)),\n\t\t\trfi_addDimension(g, "true", weight_value(-0.79580237)),\n\n\t\t\trfi_addDimension(p, "false", weight_value(0)),\n\t\t\trfi_addDimension(p, "true", weight_value(-1.5954487)),\n\n\t\t\trfi_addDimension(m, "rfi", weight_value(0)),\n\n\t\t\trfi_addDimension(rfi_score_obj, "uniquePV", i),\n\t\t\trfi_addDimension(rfi_score_obj, "sessionDuration", o),\n\t\t\trfi_addDimension(rfi_score_obj, "sessionDuration_config", r),\n\t\t\trfi_addDimension(rfi_score_obj, "deviceType", n),\n\t\t\trfi_addDimension(rfi_score_obj, "lastChannel", a),\n\t\t\trfi_addDimension(rfi_score_obj, "modelVisit", b),\n\t\t\trfi_addDimension(rfi_score_obj, "configPV", c),\n\t\t\trfi_addDimension(rfi_score_obj, "sessionDuration_SL", f),\n\t\t\trfi_addDimension(rfi_score_obj, "UV_number", h),\n\t\t\trfi_addDimension(rfi_score_obj, "distinctPage_CV1", j),\n\t\t\trfi_addDimension(rfi_score_obj, "distinctPage_CV2", k),\n\t\t\trfi_addDimension(rfi_score_obj, "uniconsec", d),\n\t\t\trfi_addDimension(rfi_score_obj, "totalcon", u),\n\t\t\trfi_addDimension(rfi_score_obj, "vehicleMod", g),\n\t\t\trfi_addDimension(rfi_score_obj, "topicPV", p),\n\t\t\trfi_addDimension(rfi_score_obj, "rfi", m),\n\t\t\trfi_addDimension(rfi_score_obj, "intercept", s),\n\n\t\t\tcheck_deviceType_rfi(),\n\t\t\tcheck_pageview_metrics_rfi(),\n\t\t\tcheck_channel_rfi(),\n\t\t\tcheck_configurator_session_duration_rfi(),\n\t\t\tcheck_session_duration_rfi(),\n\t\t\tcheck_model_viewed_rfi(),\n\t\t\tcheck_configPV_rfi(),\n\t\t\tcheck_sessionDuration_SL_rfi(),\n\t\t\tcheck_user_visit_number_rfi(),\n\t\t\tcheck_distinctPage_CV1_rfi(),\n\t\t\tcheck_distinctPage_CV2_rfi(),\n\t\t\tcheck_unique_configurator_sections_rfi(),\n\t\t\tcheck_total_configurator_sections_rfi(),\n\t\t\tcheck_vehicle_model_interaction_rfi(),\n\t\t\tcheck_topics_page_visited_rfi(),\n\t\t\tscorefinal_rfi(),\n\n\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\tshouldSendScore = !0\n\t\telse {\n\t\t\tsetTimeout(function() {\n\t\t\t\tshouldSendScore = !0\n\t\t\t}, 3e4)\n\t\t}\n\t}\n\n\n\tfunction init_tda() {\n\t\tvar e = {},\n\t\t\ti = {},\n\t\t\to = {},\n\t\t\tr = {},\n\t\t\tt = {},\n\t\t\tn = {},\n\t\t\ta = {},\n\t\t\tb = {},\n\t\t\tc = {},\n\t\t\tf = {},\n\t\t\th = {},\n\t\t\tj = {},\n\t\t\tk = {},\n\t\t\tm = {},\n\t\t\td = {},\n\t\t\tu = {},\n\t\t\tg = {},\n\t\t\tp = {},\n\t\t\tt = {},\n\t\t\ts = {}\n\t\tif (tda_addDimension(s, "always_on", weight_value(-9.001092, 1)),\n\n\t\t\ttda_addDimension(i, "eq1", weight_value(0)),\n\t\t\ttda_addDimension(i, "eq2", weight_value(1.2142113)),\n\t\t\ttda_addDimension(i, "g3_leq4", weight_value(1.6162724)),\n\t\t\ttda_addDimension(i, "eq5", weight_value(1.09173067)),\n\t\t\ttda_addDimension(i, "gteq6", weight_value(1.5849305)),\n\n\t\t\ttda_addDimension(o, "leq19", weight_value(0)),\n\t\t\ttda_addDimension(o, "g20_leq43", weight_value(-1.2553316)),\n\t\t\ttda_addDimension(o, "g44_leq89", weight_value(-0.6868696)),\n\t\t\ttda_addDimension(o, "g90_leq160", weight_value(0.9697552)),\n\t\t\ttda_addDimension(o, "g161_leq271", weight_value(1.298339)),\n\t\t\ttda_addDimension(o, "g272_leq459", weight_value(1.6357892)),\n\t\t\ttda_addDimension(o, "g460_leq888", weight_value(1.919387)),\n\t\t\ttda_addDimension(o, "gteq889", weight_value(1.8783718)),\n\n\t\t\ttda_addDimension(r, "leq20", weight_value(0)),\n\t\t\ttda_addDimension(r, "g21_leq132", weight_value(0.7249153)),\n\t\t\ttda_addDimension(r, "g133_leq295", weight_value(-1.3182626)),\n\t\t\ttda_addDimension(r, "gteq396", weight_value(-1.78411707)),\n\n\t\t\ttda_addDimension(n, "mobile", weight_value(2.91940479)),\n\t\t\ttda_addDimension(n, "misc", weight_value(0)),\n\t\t\ttda_addDimension(n, "tablet", weight_value(0)),\n\t\t\ttda_addDimension(n, "desktop", weight_value(3.1396281)),\n\n\t\t\ttda_addDimension(a, "paid_search", weight_value(3.2334349)),\n\t\t\ttda_addDimension(a, "display", weight_value(0)),\n\t\t\ttda_addDimension(a, "other", weight_value(2.691804)),\n\n\t\t\ttda_addDimension(b, "eq0", weight_value(0)),\n\t\t\ttda_addDimension(b, "eq1", weight_value(0)),\n\t\t\ttda_addDimension(b, "g2_leq3", weight_value(0.02574401)),\n\t\t\ttda_addDimension(b, "gteq4", weight_value(-0.5029545)),\n\n\t\t\ttda_addDimension(c, "yes", weight_value(4.592222)),\n\t\t\ttda_addDimension(c, "no", weight_value(0)),\n\n\t\t\ttda_addDimension(f, "false", weight_value(0)),\n\t\t\ttda_addDimension(f, "true", weight_value(-0.6675865)),\n\n\t\t\ttda_addDimension(h, "eq1", weight_value(0)),\n\t\t\ttda_addDimension(h, "g2_leq3", weight_value(0.283439461)),\n\t\t\ttda_addDimension(h, "g4_leq6", weight_value(-0.44218703)),\n\t\t\ttda_addDimension(h, "g7_leq14", weight_value(0.316286)),\n\t\t\ttda_addDimension(h, "g15_leq41", weight_value(-0.52091989)),\n\t\t\ttda_addDimension(h, "gteq42", weight_value(-0.4672482)),\n\n\t\t\ttda_addDimension(j, "eq1", weight_value(0)),\n\t\t\ttda_addDimension(j, "eq2", weight_value(-0.8014048)),\n\t\t\ttda_addDimension(j, "eq3", weight_value(-2.81031789)),\n\t\t\ttda_addDimension(j, "g4_leq5", weight_value(-3.7708493)),\n\t\t\ttda_addDimension(j, "g6_leq7", weight_value(-3.872871)),\n\t\t\ttda_addDimension(j, "gteq8", weight_value(-3.7178792)),\n\n\t\t\ttda_addDimension(k, "eq1", weight_value(0)),\n\t\t\ttda_addDimension(k, "eq2", weight_value(1.4115896)),\n\t\t\ttda_addDimension(k, "eq3", weight_value(3.0120269)),\n\t\t\ttda_addDimension(k, "gteq4", weight_value(5.2705835)),\n\n\t\t\ttda_addDimension(d, "eq1", weight_value(0)),\n\t\t\ttda_addDimension(d, "g1_leq2", weight_value(-5.2727976)),\n\t\t\ttda_addDimension(d, "g3_leq5", weight_value(-3.94889603)),\n\t\t\ttda_addDimension(d, "gteq6", weight_value(-2.6357336)),\n\n\t\t\ttda_addDimension(u, "g0_leq2", weight_value(0)),\n\t\t\ttda_addDimension(u, "g3_leq13", weight_value(-0.8721542)),\n\t\t\ttda_addDimension(u, "g14_leq40", weight_value(-3.20010272)),\n\t\t\ttda_addDimension(u, "gteq41", weight_value(-1.3911441)),\n\n\t\t\ttda_addDimension(g, "false", weight_value(0)),\n\t\t\ttda_addDimension(g, "true", weight_value(-1.16851211)),\n\n\t\t\ttda_addDimension(p, "false", weight_value(0)),\n\t\t\ttda_addDimension(p, "true", weight_value(-0.2245372)),\n\n\t\t\ttda_addDimension(m, "tda", weight_value(0)),\n\n\t\t\ttda_addDimension(tda_score_obj, "uniquePV", i),\n\t\t\ttda_addDimension(tda_score_obj, "sessionDuration", o),\n\t\t\ttda_addDimension(tda_score_obj, "sessionDuration_config", r),\n\t\t\ttda_addDimension(tda_score_obj, "deviceType", n),\n\t\t\ttda_addDimension(tda_score_obj, "lastChannel", a),\n\t\t\ttda_addDimension(tda_score_obj, "modelVisit", b),\n\t\t\ttda_addDimension(tda_score_obj, "configPV", c),\n\t\t\ttda_addDimension(tda_score_obj, "sessionDuration_SL", f),\n\t\t\ttda_addDimension(tda_score_obj, "UV_number", h),\n\t\t\ttda_addDimension(tda_score_obj, "distinctPage_CV1", j),\n\t\t\ttda_addDimension(tda_score_obj, "distinctPage_CV2", k),\n\t\t\ttda_addDimension(tda_score_obj, "uniconsec", d),\n\t\t\ttda_addDimension(tda_score_obj, "totalcon", u),\n\t\t\ttda_addDimension(tda_score_obj, "vehicleMod", g),\n\t\t\ttda_addDimension(tda_score_obj, "topicPV", p),\n\t\t\ttda_addDimension(tda_score_obj, "tda", m),\n\t\t\ttda_addDimension(tda_score_obj, "intercept", s),\n\n\t\t\tcheck_deviceType_tda(),\n\t\t\tcheck_pageview_metrics_tda(),\n\t\t\tcheck_channel_tda(),\n\t\t\tcheck_configurator_session_duration_tda(),\n\t\t\tcheck_session_duration_tda(),\n\t\t\tcheck_model_viewed_tda(),\n\t\t\tcheck_configPV_tda(),\n\t\t\tcheck_sessionDuration_SL_tda(),\n\t\t\tcheck_user_visit_number_tda(),\n\t\t\tcheck_distinctPage_CV1_tda(),\n\t\t\tcheck_distinctPage_CV2_tda(),\n\t\t\tcheck_unique_configurator_sections_tda(),\n\t\t\tcheck_total_configurator_sections_tda(),\n\t\t\tcheck_vehicle_model_interaction_tda(),\n\t\t\tcheck_topics_page_visited_tda(),\n\t\t\tscorefinal_tda(),\n\n\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\tshouldSendScore = !0\n\t\telse {\n\t\t\tsetTimeout(function() {\n\t\t\t\tshouldSendScore = !0\n\t\t\t}, 3e4)\n\t\t}\n\t}\n\n\n\tfunction init_vco() {\n\t\tvar e = {},\n\t\t\ti = {},\n\t\t\to = {},\n\t\t\tr = {},\n\t\t\tt = {},\n\t\t\tn = {},\n\t\t\ta = {},\n\t\t\tb = {},\n\t\t\tc = {},\n\t\t\tf = {},\n\t\t\th = {},\n\t\t\tj = {},\n\t\t\tk = {},\n\t\t\tm = {},\n\t\t\td = {},\n\t\t\tu = {},\n\t\t\tg = {},\n\t\t\tp = {},\n\t\t\tt = {},\n\t\t\ts = {}\n\t\tif (vco_addDimension(s, "always_on", weight_value(-6.516361, 1)),\n\n\t\t\tvco_addDimension(i, "eq1", weight_value(0)),\n\t\t\tvco_addDimension(i, "eq2", weight_value(0.2375038)),\n\t\t\tvco_addDimension(i, "g3_leq4", weight_value(0.1813184)),\n\t\t\tvco_addDimension(i, "eq5", weight_value(0.16412321)),\n\t\t\tvco_addDimension(i, "gteq6", weight_value(-0.1566323)),\n\n\t\t\tvco_addDimension(o, "leq19", weight_value(0)),\n\t\t\tvco_addDimension(o, "g20_leq43", weight_value(-0.3575321)),\n\t\t\tvco_addDimension(o, "g44_leq89", weight_value(0.1533921)),\n\t\t\tvco_addDimension(o, "g90_leq160", weight_value(0.437553)),\n\t\t\tvco_addDimension(o, "g161_leq271", weight_value(0.719423)),\n\t\t\tvco_addDimension(o, "g272_leq459", weight_value(0.9495471)),\n\t\t\tvco_addDimension(o, "g460_leq888", weight_value(1.080508)),\n\t\t\tvco_addDimension(o, "gteq889", weight_value(0.7569008)),\n\n\t\t\tvco_addDimension(r, "leq20", weight_value(0)),\n\t\t\tvco_addDimension(r, "g21_leq132", weight_value(-0.2365574)),\n\t\t\tvco_addDimension(r, "g133_leq295", weight_value(-0.2920582)),\n\t\t\tvco_addDimension(r, "gteq396", weight_value(0.06793607)),\n\n\t\t\tvco_addDimension(n, "mobile", weight_value(-0.630612)),\n\t\t\tvco_addDimension(n, "misc", weight_value(0)),\n\t\t\tvco_addDimension(n, "tablet", weight_value(0)),\n\t\t\tvco_addDimension(n, "desktop", weight_value(0.2443045)),\n\n\t\t\tvco_addDimension(a, "paid_search", weight_value(2.2682215)),\n\t\t\tvco_addDimension(a, "display", weight_value(0)),\n\t\t\tvco_addDimension(a, "other", weight_value(2.019411)),\n\n\t\t\tvco_addDimension(b, "eq0", weight_value(0)),\n\t\t\tvco_addDimension(b, "eq1", weight_value(0)),\n\t\t\tvco_addDimension(b, "g2_leq3", weight_value(0.01732282)),\n\t\t\tvco_addDimension(b, "gteq4", weight_value(-0.2325672)),\n\n\t\t\tvco_addDimension(c, "yes", weight_value(-0.2325672)),\n\t\t\tvco_addDimension(c, "no", weight_value(0)),\n\n\t\t\tvco_addDimension(f, "false", weight_value(0)),\n\t\t\tvco_addDimension(f, "true", weight_value(-0.1471094)),\n\n\t\t\tvco_addDimension(h, "eq1", weight_value(0)),\n\t\t\tvco_addDimension(h, "g2_leq3", weight_value(0.147231671)),\n\t\t\tvco_addDimension(h, "g4_leq6", weight_value(0.05709523)),\n\t\t\tvco_addDimension(h, "g7_leq14", weight_value(0.3171735)),\n\t\t\tvco_addDimension(h, "g15_leq41", weight_value(-0.03549982)),\n\t\t\tvco_addDimension(h, "gteq42", weight_value(-0.105646)),\n\n\t\t\tvco_addDimension(j, "eq1", weight_value(0)),\n\t\t\tvco_addDimension(j, "eq2", weight_value(0.1371946)),\n\t\t\tvco_addDimension(j, "eq3", weight_value(-0.06507545)),\n\t\t\tvco_addDimension(j, "g4_leq5", weight_value(-0.2016262)),\n\t\t\tvco_addDimension(j, "g6_leq7", weight_value(-0.2016262)),\n\t\t\tvco_addDimension(j, "gteq8", weight_value(0.6828337)),\n\n\t\t\tvco_addDimension(k, "eq1", weight_value(0)),\n\t\t\tvco_addDimension(k, "eq2", weight_value(-0.4214423)),\n\t\t\tvco_addDimension(k, "eq3", weight_value(-0.5751672)),\n\t\t\tvco_addDimension(k, "gteq4", weight_value(-0.630612)),\n\n\t\t\tvco_addDimension(d, "eq1", weight_value(0)),\n\t\t\tvco_addDimension(d, "g1_leq2", weight_value(-0.9450513)),\n\t\t\tvco_addDimension(d, "g3_leq5", weight_value(-0.05903499)),\n\t\t\tvco_addDimension(d, "gteq6", weight_value(0.3703823)),\n\n\t\t\tvco_addDimension(u, "g0_leq2", weight_value(0)),\n\t\t\tvco_addDimension(u, "g3_leq13", weight_value(0.2571501)),\n\t\t\tvco_addDimension(u, "g14_leq40", weight_value(0.03241335)),\n\t\t\tvco_addDimension(u, "gteq41", weight_value(0.1378405)),\n\n\t\t\tvco_addDimension(g, "false", weight_value(0)),\n\t\t\tvco_addDimension(g, "true", weight_value(0.15518976)),\n\n\t\t\tvco_addDimension(p, "false", weight_value(0)),\n\t\t\tvco_addDimension(p, "true", weight_value(-0.4167104)),\n\n\t\t\tvco_addDimension(m, "vco", weight_value(0)),\n\n\t\t\tvco_addDimension(vco_score_obj, "uniquePV", i),\n\t\t\tvco_addDimension(vco_score_obj, "sessionDuration", o),\n\t\t\tvco_addDimension(vco_score_obj, "sessionDuration_config", r),\n\t\t\tvco_addDimension(vco_score_obj, "deviceType", n),\n\t\t\tvco_addDimension(vco_score_obj, "lastChannel", a),\n\t\t\tvco_addDimension(vco_score_obj, "modelVisit", b),\n\t\t\tvco_addDimension(vco_score_obj, "configPV", c),\n\t\t\tvco_addDimension(vco_score_obj, "sessionDuration_SL", f),\n\t\t\tvco_addDimension(vco_score_obj, "UV_number", h),\n\t\t\tvco_addDimension(vco_score_obj, "distinctPage_CV1", j),\n\t\t\tvco_addDimension(vco_score_obj, "distinctPage_CV2", k),\n\t\t\tvco_addDimension(vco_score_obj, "uniconsec", d),\n\t\t\tvco_addDimension(vco_score_obj, "totalcon", u),\n\t\t\tvco_addDimension(vco_score_obj, "vehicleMod", g),\n\t\t\tvco_addDimension(vco_score_obj, "topicPV", p),\n\t\t\tvco_addDimension(vco_score_obj, "vco", m),\n\t\t\tvco_addDimension(vco_score_obj, "intercept", s),\n\n\t\t\tcheck_deviceType_vco(),\n\t\t\tcheck_pageview_metrics_vco(),\n\t\t\tcheck_channel_vco(),\n\t\t\tcheck_configurator_session_duration_vco(),\n\t\t\tcheck_session_duration_vco(),\n\t\t\tcheck_model_viewed_vco(),\n\t\t\tcheck_configPV_vco(),\n\t\t\tcheck_sessionDuration_SL_vco(),\n\t\t\tcheck_user_visit_number_vco(),\n\t\t\tcheck_distinctPage_CV1_vco(),\n\t\t\tcheck_distinctPage_CV2_vco(),\n\t\t\tcheck_unique_configurator_sections_vco(),\n\t\t\tcheck_total_configurator_sections_vco(),\n\t\t\tcheck_vehicle_model_interaction_vco(),\n\t\t\tcheck_topics_page_visited_vco(),\n\t\t\tscorefinal_vco(),\n\n\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\tshouldSendScore = !0\n\t\telse {\n\t\t\tsetTimeout(function() {\n\t\t\t\tshouldSendScore = !0\n\t\t\t}, 3e4)\n\t\t}\n\t}\n\n\n\tvar score_obj = {},\n\t\trfi_score_obj = {},\n\t\trfo_score_obj = {},\n\t\ttda_score_obj = {},\n\t\tvco_score_obj = {},\n\t\tshouldSendScore = !1,\n\t\tisScoreSame = !1,\n\t\tshouldCalculateScore = !0,\n\t\tshouldDisplayScore = !1,\n\t\tURL = document.location.href,\n\t\trawScore, finalScore, rawScore_rfi, finalScore_rfi, rawScore_rfo, finalScore_rfo, rawScore_tda, finalScore_tda, rawScore_vco, finalScore_vco, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n\twindow.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init(), init_rfi(), init_rfo(), init_tda(), init_vco()\n\n}()',
language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLada8a63447804145b12847c85481475c",name:"TPT - GR - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb603cbc3addd42f2b843c55558919d0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL542dc98f880b4b0fb7ac8f2d7080013c",name:"TPT - CZ - AEM - Facebook - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC305a9d131e0c45b18422b8f5657c7da9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd33804db4e945ad87be6a271b2905e5",name:"TPT - AU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa7d71458b1be40c69941074d693120e0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa32f1ecab0964c9ba98e05c3b7242c60",name:"TPT - PL - AEM - GTagDC - Video - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc163c367b9e54e22ab39b96bb6730880-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc69b741f2ca648fb818bd946e38510c0",name:"TPT - MX - AEM - IgnitionOne - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3715b2ce3c184003ba4344840e618250-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa466935960524f35842b2f87d392db64",name:"TPT - RO - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3cd22d27b0d148f491072de64d637257-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4340911d09a341989b944da7ccf4c680",name:"TPT - IT - AEM - GTagDC - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC79b3b33a7f114456a617b5203d19ac25-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4197f741607643c4919c386b5a624eed",name:"TPT - NO - AEM - Doubleclick - Histrory Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC01295fe894394426abe7fb163b256d35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL129feccd43b84e4eaba2757c2d2ba7ee",name:"TPT - FR - AEM - Facebook - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe1ce9879747447e3b33c7e3270b29494-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc161db6119354c4d94438ac2d2b325f1",name:"TPT - GR - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb1fab34260a2497e814d54e0fb8a217b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL04ff2fbade684818930cf29771400d8c",name:"TPT - BE - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC791983d371014d8093d25d481ed5505e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL17a14dcf01934bd68c62145af46592c0",name:"DCR - All - AEM - AA - My CE",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_interaction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var o=_satellite.getVar("snapshotDL"),s=_satellite.getVar("smartPreviousValueManager"),n=o.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(a);var i=_satellite.getVar("setDefaultProductVariables");i.category="new vehicle",i.merchEvars.eVar53="new car",i.merchEvars.eVar54="build to order",a.products=i.toString(),a.prop59=o.get("product.-1.attributes.configID"),a.eVar59=o.get("product.-1.attributes.configLink"),a.eVar135=o.get("page.pageInfo.devEnv"),a.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,s.update("pageName",a.prop1);var r=_satellite.getVar("AA-componentDefaultValues");a.prop2=o.get("page.category.pageType"),a.prop3=o.get("page.category.primaryCategory"),a.prop5=o.get("page.category.subCategory02"),a.prop19=o.get("component.-1.componentInfo.componentName"),a.prop42=r.primaryCat||"datalayer field empty",a.prop43=r.subCat||"datalayer field empty",a.prop44=o.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=o.get("event.-1.eventInfo.eventName"),d=o.get("event.-1.eventInfo.effect"),l=o.get("event.-1.eventInfo.cause"),u=o.get("event.-1.eventInfo.eventAction");a.eVar18="",a.prop12=o.get("event.-1.eventInfo.timeStamp"),a.prop13="bmw",a.prop50=o.get("event.-1.eventInfo.element"),a.prop54=o.get("event.-1.category.primaryCategory"),a.prop57=u.replace("phone","p h o n e"),a.prop58=o.get("event.-1.eventInfo.eventPoints"),a.eVar17=o.get("user.-1.profileInfo.visitorID"),a.eVar71=o.get("event.-1.attributes.requestedURL"),a.eVar136="2020 - 06- 15 MyCE","MyCE Error"==c?(a.eVar34="nsc > "+d.replace("phone","p h o n e"),a.prop51=c.replace("phone","p h o n e"),a.prop52="datalayer field missing",a.prop53="backend 3rd party",a.prop55=l.replace("phone","p h o n e"),a.prop56="error",a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932")):(c=c.indexOf("click")>-1?c:c+" clicked",a.eVar34="nsc > "+c.replace("phone","p h o n e"),a.prop51=d.replace("phone","p h o n e"),a.prop52="default",a.prop53="ux",a.prop55=l.replace("phone","p h o n e"),a.prop56="interaction",a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")),a.linkTrackVars=a.apl(a.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59")}catch(o){_satellite.getVar("catchblock",t)(a,e)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL2bdb5b10cae04184ae56040b4854c645",name:"TPT - UK - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8c41cb9b2074406eb65bc64099c53175-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL81b86f007377443c87676cf384d99969",name:"TPT - RO - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC368de7b8a5f74dae89a516bc6f39e7ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8f653d0c4cd840f186beb47333d11097-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLadf13fabde414b3d9c5632a5d0501dcc",name:"TPT - SE - AEM - Add Cookie - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1c0a9a7237b040c188bec834deb16a4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b863cf534d24552bab341bcb058ee45",name:"TPT - MY - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6a624e1277eb4c3ca30a0e83768de02e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb638105b3858402aac72c8c978df6819",name:"TPT - GR - AEM - Doubleclick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdd92b8f5a99d4809bd12cf0e627df205-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL01c517ec061d4412833894d5f6cc0eae",name:"TPT - NZ - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC249289b207924bb19bb22bc3bd678ffc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd06fad9a382b46188233de6bff0989b2",name:"TPT - DE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC646b3fabb92545ada558153b19d3c54f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ca691006901403dbaf6c0dd1b34c124",name:"TPT - DE - AEM - Psyma User Survey - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,a){var o=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){o=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){o||a()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m156.bmw-int1.com"},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int\\d+.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb0186e52521444caabb57761cb2cdef2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL65310879cffe42baa0f987388abede9c",name:"TPT - FI - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf2bfb32b54bc476283921460d44ca8f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe990e969e5fd405da3cbc224deb3d81a",name:"TPT - PL - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9f01ec2a82fc4f67984de48d46311163-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd6393b6ec5a94a5d930fa836b3f34abb",name:"TPT - FI - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1d3013282a234fd28ac5b37721bae655-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6eda6a8576f04cb7b516929afc4f3d07",name:"TPT - LU - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC42b51ece8e3845d3bfda36305bdd8977-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC69dac9f6e30642d3a42112fab20e7a62-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLac9752628331405aac3b235ac5a4fadd",name:"TPT - NL - AEM - Facebook - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCae29d889edb3410e83ad49a1adaebda5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf81c954d5a0c48308e447dc7792dfe3e",name:"TPT - MY - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC424c4b8feee84cc79b1ca508442eb1dd-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4cba8ea2084f43fca5d3529977075d8a-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCed07871bc5b647848979d5b1e086ef53-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd61bc3b714974b92bc82f8921fec8a4f-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL87f888c3d56d406cbcdb850cb80b3613",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfiguratorBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4496bcfbd7d445d5a766e79e8e373f00-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL70f529c4e2aa4a24911dfdc71a0e1d54",name:"TPT - IT - AEM - GTagDC - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc0c04bf251044ec7822c2265acc30618-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53e879f9ae714b0d8eb0383f842a883a",name:"TPT - DE - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfe809cbf94f84860bde64661076fd8f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa54bebf488d64e5a870689d7456e93d8",name:"TPT - AT - AEM - Facebook - iFrame TDA Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC54bcbe9f4eb34614acd0ac11664ea769-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabe32d9cd8734d5d97d027ea12ac3f13",name:"TPT - NO - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd5a8620cf29b44648d9c12c148033b45-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53208837e7dd4f0485a61d2508b5ffbd",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS General - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_general"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC546be641a7de473eb0edc860a6e2f916-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9abfc2e1ca44f0c9b84b5caa5bb5248",name:"TPT - RO - AEM - Adwords - Site search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ro/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC78043388d4a041f198670f964e43c3a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC612deff4fb8745e6a1160f545fb72bd2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc15d671d21f14e4f8f73902395e79ae2",name:"TPT - CH - AEM - DoubleClick - Dealer-Partner_Loctor_Selection - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1da0034eae464674960efebcb4ec88c0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c6fb5a567604362905b4e1845c8a188",name:"TPT - NL - AEM - Facebook - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa4196159a76746b3a5c51939db1bddab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8c8f0c92df774d7dae15102853fd6a09",name:"TPT - CZ - AEM - Webchat - All Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"webcz"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8770e71dfd7a414b99ec04a1a6cbec19-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf65597df05334eb080b43eda6b092157",name:"TPT - SI - AEM - Adform - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfa7758b437eb467692210484cca1b4cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL959c1e78ecae4c668ac3aa89a7016cc6",name:"TPT - SG - AEM - Adform - Multiple - Save configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#disclaimer > div.h5vco-clearfix.ng-scope > div > ul > li:nth-child(2)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/configurator.html",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC51ca5e6985a24f4083a3d18250b41f7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL128c86b78dbc4735a817f5543091d072",name:"TPT - AT - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7e81b8f31f464de387cf5aa8a709f00b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL13bf125475fa4ddc89e2d942e38d3586",name:"TPT - AT - AEM - IgnitionOne - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3ebbe573b58342dba8a7268514a67186-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL969ed5872baf433999484c5f7f124f0f",name:"TPT - PL - AEM - Facebook - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8bad48ba400b4f55a1999d35500b5319-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL56d845f94e5e4589903b337ff9077e31",name:"TPT - SI - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5f7a30e3d0244dc1ae5d8377ba8789ca-source.min.js",
language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe29d3f737da94f70aa290b992a190495",name:"TPT - SG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCafce984ead804234a1cb00d8dabf3eb5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL01d87506c7db49af8c536c69546c5e6d",name:"PLR - All - NSC - All - Custom Code - Set TPT ExecutionFlag",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%splitConsentEnabled%",rightOperand:"false"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7ed00956b59544c79b22bf1090be1742-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1ec6cd31814d499e8d36ff245eeef82b",name:"TPT - SK - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC43f716df40934120bc1abdc9cbdf2ea5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6363d5fbb77e4a208a2207fbe2e0720f",name:"TPT - SK - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa16f316a0e454274b54808916f6090b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d7f88fcbff048f08b95ba7fe8cc690f",name:"TPT - IE - AEM - Adwords - Dealer Locator Overlay Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/fastlane/dealer-locator.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC30ee4b9fc6c549608a9ca6241a45ee06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL14d64324a2ac41cf830d186f11a1fc8e",name:"TPT - SI - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC94f0249a1fd5483e92a37234cfd46f60-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLf3f6a05b7cce42bb959177886cd3c6aa",name:"TPT - IE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a8de1ea074045babfb93d1555699aa5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL36343c1482e14b11bbd7b3121d782f06",name:"TPT - NO - AEM - Adform - BrochureDownload - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6a226e3826ac4501833f8c24c6ae0d7c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL633078dc4cbe45f2af8596987262c94c",name:"TPT - DE - AEM - Facebook - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC66ce5b8995a44157a2b5a05ca8ced94b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc0d9cb79990c438499a80af26b2e8ef1",name:"TPT - DE - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html",valueIsRegex:!0}]},negate:!0,timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/angebotsanfrage/angebot-anfordern.html",valueIsRegex:!0}]},negate:!0,timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/shop/dcs/",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb36170f045f44e8895b80f467fcc3f3f-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL2d351f703e914462a7f8be4501311942",name:"TPT - LU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdb62236c85b5476996414f85cb1e7319-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4e0bae94557c4dd5aed8f88be05b393b-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0e1eb0a879ff422e8db74b1322bbc6f4-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL6a95f36dd0af45a595ec29ba2dd3ca49",name:"TPT - BR - AEM - Inbenta Chatbox - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCce364efbb8b2413c8e5f194474701d58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL77b0312b3ae24d148f3dde6532009293",name:"TPT - BR - AEM - Facebook - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCce2320ffdc2540d2befa8f40ea42a1c8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e52a46cb4a0403eb592467c2146bfe0",name:"TPT - PT - AEM - GTagDC - Shop - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1ca97cc9511b46b3b7d657afc6779603-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1975ebeae6d24e7d9085100c8da43efd",name:"TPT - NL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf565dfd008f34efd8cfbb7148badd26b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL124758dfebd64e8c8d0debdb5e635b31",name:"TPT - HU - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa4970a9ea4dd4a2f97109f14f39d4e0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL42f074d7eabd4dcdb10c9e57892c0825",name:"TPT - RU - AEM - Submit Button Pixel - iFrame TDA Forms - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd1e689b55238432e90fd5414fcb3b757-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6195a846df74ee29df9c63be060999c",name:"HT - All - All Pages - Custom Script - p15r check",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:-100}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/*processingWrapper legacy version used in certain TPT*/\nwindow.processingWrapper = window.processingWrapper || { \n    overwrite: true,\n    register : function (processingId, callback) {\n    window.p15r.push({\n        action: 'register',\n        processingId : processingId,\n        callback : callback,\n    })\n    }, \n    execute : function (processingId, procParams) {\n    window.p15r.push({\n        action: 'execute',\n        processingId : processingId,\n        params: procParams,\n    })\n    }\n}\n/*Main epaas promise that request a function to be executed when the consentcontroller fired the event \"consentcontroller.api.initialized\".\nThe function resolve the promise.\n*/\nvar ePaasPromise =   new Promise(function(resolve,reject){\n    var isEpaasPromiseAlreadyResolved = false;\n    ((window.consentcontroller && window.consentcontroller.api) || window).addEventListener('consentcontroller.api.initialized', function(){\n        isEpaasPromiseAlreadyResolved = true;\n        console.log('epaas promise is resolved');\n        (window.p15r = window.p15r || []).push({\n            action: 'register',\n            processingId : 'Consentcontroller', \n            callback: function(){  \n            resolve(true);\n            console.log('p15r promise is resolved');\n            }\n        }, {\n            action: 'execute',\n            processingId : 'Consentcontroller'\n        });\n    })\n    setTimeout(function(){\n    if(!isEpaasPromiseAlreadyResolved){\n        reject();\n    }    \n    }, 5000); // this timeout is to make sure the if epaaS is not loaded within 5 seconds, then reject the promise(can be changed)\n\n})\nePaasPromise.catch(function(err){ // consentcontroller issue\n    console.log('epaas promise is rejected')\n    return false;\n})\nreturn ePaasPromise",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  _satellite.logger.info('ASYNC: Forcing evaluation of adobe.optIn')\n  if(_satellite.getVar('isAdobeAnalyticsAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.ANALYTICS,true);\n    adobe.optIn.approve(adobe.OptInCategories.ECID,true);\n  }\n  if(_satellite.getVar('isTargetAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.TARGET,true);\n  }\n  if(_satellite.getVar('isAAMAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.AAM,true);\n  }\n  adobe.optIn.complete();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"rule\",\n        name: \"HT - All - All Pages - Custom Script - p15r check\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL8f880f70db734095b6ddb76a8ba15fa8",name:"TPT - IN - AEM - Search Tag - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5d17454538684d98a709d81ba747198b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9388facb098f46e8a904a10d3bdc169e",name:"TPT - IT - AEM - Adwords - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".login-box__button-text.login-box__submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC987c13f052f8425f9118e085096db5b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC80e0316e2a104c49b28b20e86174882e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe59cdb5e993b484c960e67213d1f018a",name:"TPT - RO - AEM - DoubleClick - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3035022518e44270866338576aebbdac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d35b6f8998b45f5be7cc8195a2dfe9f",name:"TPT - BE - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC099289d8eec94c8093e599bd05c076b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL107e3cf7152a4c3cbde58e6896930619",name:"TPT - SE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCddc0b6a4c68d446b86420c9103744632-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe93cee5917b4d86b6173b5964148163",name:"TPT - CZ - AEM - DoubleClick - Configurator History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - CZ - DBM Tag Configurator Steps err \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC137087766fd44432866ce50b61b8a7d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf814d885726a45aca0f6651d72c5705c",name:"TPT - JP - AEM - EBiS - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC315ec783b0494a5f89f62a85ac518980-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd34f1f9448e04ff591188460e0ce7fb6",name:"TPT - RO - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa048382d993c4954af9ea9dd1994870d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfa8944034efc41cda405c1557f5fa6d8",name:"TPT - LU - AEM - DoubleClick - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb9532579b8924e0989c44b60673ba991-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeca59d3507fc4310a8e08c9eeb00a426",name:"TPT - SG - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72094c23e7fd492f9f1f278c7d73a8b2-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC14b32de338d943279f0c1d4cd8826f8a-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL0e03494deb9c475d80a74e36964f07b5",name:"TPT - AT - AEM - Facebook - Pricelist Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/pricelists\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa926dc989e474bdd845a3d6a275fc4b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3de3006482e64368be3fc226c49aeb00",name:"TPT - PT - AEM - GtagDC - Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC421573be0b48464ba60f55dec2253bd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81699fbbd8f845f19be1c130d366b4b2",name:"TPT - IE - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC85205352a01345d3b8d1cb307011e2e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f3e5cb0c0f549cba5ddddb60272539d",name:"TPT - RU - AEM - DoubleClick - Started Accessory Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcfa571b0100048aa9b4d32aa4bb62de6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL484c53300b6d463bbd85b539af59eea9",name:"TPT - DE - AEM - Pinterest - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9d7ce90ac96346a59cd437953a150bbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59160ba6cd434855ac343680360104aa",name:"TPT - NL- CON - Adwords - Configuration_Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"gtag_adwords_configuration_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl/nl_NL/configure/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC263a62c9615b4b90b3aaeeb7024549ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6e688771c942493a934374cf55ab6e52",name:"TPT - NL - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe1fcb6cf91aa4194894e619e828abc10-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL416605902e30421c93b6368212d77092",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC06e9b1c8b3794633bf3a1c0397ef47c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdbb762533ea84802b095fabc2e7f530d",name:"TPT - SK - AEM - Doubleclick - DBM_Tag_Configurator_Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - SK - DBM Tag Configurator Steps err \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4a46fc3db76348429867a49a447b6e0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59a4dea81c364b72a615ae158a2b8399",name:"TPT - SI - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC881172dbf21845c595bb22eb8c6a38f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee3cf6c5540f468780325875ee816e4f",name:"TPT - BG - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbdc67cefe5094133ae57399b62b6b9d0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a5ee921b64c48bd9134fe63e132bc8d",name:"TPT - JP - AEM - Twitter - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbfc3664d8cf34fdf8a1b69ca8e8014f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd2d8f5a8e74743e2ae8c6f7920bdeb66",name:"TPT - BE - AEM - Adform - Form Submission - RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbd029bbf26904368bd545bccbeba54ad-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b5bead9ebd04c8887808d96a30c86a4",name:"TPT - DE- AEM - Adform - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC639e6724e2d34e27a73d027842ee9767-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb0316fb1db4843a6ab0f8be802722a30",name:"TPT - CZ - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7b686ded7d294b33a48ed1238db91651-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL183fab8361e5444da1b006ca1a974dd0",name:"TPT - FI - AEM - Adform - Yritysmyynti Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautot",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{
modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4 Laakkosen sivuilta",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/yritysmyynti.html",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6e1dd9a4937e49059a67febbd5fbc1b7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3dc317863a734f55a1f13db2cdaf7b80",name:"TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab4df8660b724bfd9fc444075cebafda-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaaf0536cd8d2413bb5caa2e6e187a93b",name:"TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0e25f84984c34dd09c37f6223c417fa1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40522d1eceb94aa38e41ed8de4ec6ad3",name:"TPT - BE - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8ae0fb17f5cd40cabd92d70c4a06a428-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL147d65457d074be7b7c3b14f42dce080",name:"TPT - FI - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8f69803cd4864553babc8ebf46d27998-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabf4eee068d44a19b8b6e1ae1472dc55",name:"TPT - PT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC909aebe2783e46cda69d028e4faf4ff0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda300fa5779a4460b86f0d94b2c6631a",name:"TPT - SK - AEM - Facebook - Multiple - PLR - p15r[l] copy",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC43055fa277164e9a8b1f8120d6f7a1ad-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf61665774e354bbd950ceacb1809e9a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd81f58436a2d4c918420ced482ad4cb0",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0ffcfc22adc1499d93c73184351effdc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL26d9f64cb3c44425bb7b44362752c4c0",name:"TPT - IT - AEM - Adform - TDA Form Finish - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9ea502ae8769439c831ce81d126b9925-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaf293cb983ec41cebf1f5d8f2a400a35",name:"TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9a424412332b460bb3adc06af4786e0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a7e56ec71b74640985f54fada94324c",name:"TPT - BE - AEM - Facebook - RFI - FormView - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC10b2e902e7f84fa989033d527ed3de0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe42d74cdf0bc4086b6e7f0dc63e736b2",name:"TPT - BG - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeef444ce73cb464d81b4c05e61a64024-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL86f0cd63c4d04f14b51b40a2e3a410fc",name:"TPT - IT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC39895d609a6740749ab58a1416cb52c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed1946afa8ca45f8be6a13e9bca5042e",name:"DCR - All - AA - Custom Code - TRON Visualizer",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON:visualizer",(function(t){void 0!==t.detail&&"error"!=t.detail.event.name&&(_satellite.setVar("tronVisualizer",t.detail),console.log("tron visualizer Executed"),e())})),window.addEventListener("TRON:video player",(function(t){void 0!==t.detail&&"error"!=t.detail.event.name&&(_satellite.setVar("tronVisualizer",t.detail),console.log("tron Video Executed"),e())}))}catch(e){_satellite.logger.error("Tron Custom Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var a=_satellite.getVar("tronVisualizer"),o=a.event.effect,s=a.event.speed,n=a.component.name,i=a.custom.mediaTotalLength,r=a.custom.mediaCurrentTime;if(s=a.event.speed,_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setTronDefaultVariableGeneric")(t),"video player"==n){switch(o){case"media started":t.events=t.apl(t.events,"event351");break;case"media milestone 10%":t.events=t.apl(t.events,"event352");break;case"media milestone 25%":t.events=t.apl(t.events,"event353");break;case"media milestone 50%":t.events=t.apl(t.events,"event354");break;case"media milestone 75%":t.events=t.apl(t.events,"event355");break;case"media milestone 95%":t.events=t.apl(t.events,"event356")}t.events=t.apl(t.events,"event357="+i),t.events=t.apl(t.events,"event358="+r),t.events=t.apl(t.events,"event970="+s)}if("visualizer"==n){switch(o){case"3D view started":t.events=t.apl(t.events,"event311,event313");break;case"3D view ended":t.events=t.apl(t.events,"event315,event313");break;default:t.events=t.apl(t.events,"event313")}s>0&&(t.events=t.apl(t.events,"event970="+s)),t.events=t.apl(t.events,t.events)}_satellite.setVar("tronVisualizer",""),t.events=t.apl(t.events,t.events),t.linkTrackVars=t.apl(t.linkTrackVars,"events"),t.linkTrackEvents=t.events}catch(a){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(a)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLf19bec05f3794006895fbf6dc35935d9",name:"TPT - AT - AEM - Facebook - BMW Lifestyle Collection - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/content/dam/bmw/marketAT/bmw_at/topics/offers-and-services/bmwlifestyle2020/BMW_Lifestyle_Catalogue_2020_1.pdf.asset.1600159738677.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-lifestyle-2020/bmw-lifestyle.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaea6c4991c3a4facb0247a87cd4652f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f25d844b2ba4aea98fab376da9e334d",name:"TPT - AT - AEM - Pinterest - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4ca9a59a9a024a39bd758dd89ff51940-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b7919c07290495d8970666635c67145",name:"TPT - HU - AEM - Facebook - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8745cf58ea854c2c9ecd5864dfbf6404-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc047d5e7e5ba4bcaae1693020ef1f3d4",name:"TPT - NO - AEM - Adform - Kampanjer series click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC076db3be23a9421bb982e29a202594d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6ebee3863420479f934a8ed9d6764df6",name:"TPT - UK - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,a){var o=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){o=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){o||a()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk$",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC86b0d4e605e74958b16b8a882a654a4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc8c9be53839446e0a6b4715494f9b368",name:"TPT - TH - AEM - GtagAW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC80db35d36a7c43488f720be8477e184b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL79079d97bac5486d9b399bb7d4a8ef97",name:"TPT - ZA - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc5c4d17b22c44a87b065e9af4306d16f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbf70f5f946774f0c9f8d1243ae038d97",name:"TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC90d9782846514029a6192bd5adaed920-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa5f6658c93db4243bbda8df973649392",name:"TPT - MT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb9e32ef5282445f280bb385b51adba54-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f2ebeaef3204ec38cb0ab6ab152d8dd",name:"TPT - BE - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC79e6a84809b84c479078c3057e689ca5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9c3e60013cf241898d692ba77749c6ac",name:"TPT - KR - AEM - Mathtag - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC64631be401d445ef9151a4d37679016c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL67a0d059a8b5449581055f56baa36083",name:"DCR - ALL - NSC - AA - Ignition One Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ignitionOneTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var a=e.detail&&e.detail.ignitionOneData?e.detail.ignitionOneData.eventType:window.ignitionone.eventType,o=e.detail&&e.detail.ignitionOneData?e.detail.ignitionOneData.formType:window.ignitionone.formType;o=o&&"contact"==o.toLowerCase()?"RFC":o,window.ignitionone.previousFormType=window.ignitionone.formType,window.ignitionOne=window.ignitionOne||{},window.ignitionOne=Object.assign(window.ignitionOne,window.ignitionone),delete window.ignitionone.previousFormType,_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL");switch(t.prop5="dedicated forms",t.prop6="ignitionOne",t.prop9="step 1/1",t.prop10=window.ignitionOne.isCombo?"combo forms":"dedicated forms",t.prop41="pop-up",t.prop42="locally developed",t.prop43="forms",t.prop53="ignitionOne",t.prop56="form","Impression"!=a&&"impression"!=a||(t.prop8="form started",t.prop16="ignitionOne form",t.eVar34="nsc > form started"),"Start"!=a&&"start"!=a||(t.prop8="first form interaction",t.prop16="ignitionOne form",t.eVar34="nsc > first form interaction"),"End"!=a&&"end"!=a||(t.prop8="form finished",t.prop16="request success",t.eVar34="nsc > form finished"),t.prop1=s.get("page.pageInfo.pageName").indexOf("nsc > ")>-1?s.get("page.pageInfo.pageName"):"nsc > "+s.get("page.pageInfo.pageName"),t.prop2="form",t.prop3=o,t.prop7="generic",t.prop11=o,t.prop19=o,t.prop28="virtual page",t.prop29=s.get("page.pageInfo.version"),t.prop54=o,t.eVar4=s.get("page.pageInfo.destinationUrl"),t.eVar135=s.get("page.pageInfo.devEnv"),a){case"Start":var n={TDA:"event5,event6",RFI:"event5,event6",RFC:"event5,event6",RFO:"event5,event6",ROI:"event5,event6","FS RFO":"event33,event34","not set":""};t.events=t.apl(t.events,n[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[o]);break;case"Impression":var i={TDA:"event3,event4,event85,event86",RFI:"event3,event4,event45,event46",RFC:"event3,event4,event33,event34",RFO:"event3,event4,event61,event62",ROI:"event3,event4","FS RFO":"event3,event4,event102,event103","not set":""};t.events=t.apl(t.events,i[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,i[o]);break;case"End":var r={TDA:"event15,event16,event87,event88",RFI:"event15,event16,event47,event48",RFC:"event15,event16,event35,event36",RFO:"event15,event16,event63,event64",ROI:"event15,event16","FS RFO":"event15,event16,event104,event105","not set":""};t.events=t.apl(t.events,r[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,r[o])}t.linkTrackVars+="prop1,prop2,prop3,prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop19,prop28,prop29,prop41,prop42,prop43,prop53,prop54,prop56,eVar4,eVar7,eVar8,eVar34,eVar135,prop33,eVar28,prop31,eVar14"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Ignition One",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLa65432381a05489f8440c8875c35cf21",name:"TPT - ES - AEM - Amazon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCad304579990f4a4d8752cdc50511754c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3227454faad944b1abd4df09276aaf0a",name:"TPT - JP - AEM - Line - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC24f1ef5da16e4b4cab4176b7c9beb255-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c5c9a93705542fab82d81c69db770fe",name:"TPT - NL - AEM - Bing - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc57f125f30bc48c68ee49c0e04f3ef26-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL232777e23e0942b989dcc3ff9c70b52b",name:"TPT - ZA - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,a){var o=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){o=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){o||a()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.co.za"]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe01a35ea72034572b6b29ec9ead97687-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4848a9451c9d49d2af14e02aa5f22305",name:"TPT - NO - AEM - Adform - Kampanjer Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Oversikt over alle BMW (i |)kampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Kontakt din forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfe8e6d6723f4450cafd95893f7423a12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL332be87612b3459a8846c76823d071b1",name:"TPT - IE - AEM - Gtag_DC - Build Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en_IE/configure/G30",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdf53f7b52ef046189f6f29a8abdf3046-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaa34d07da2964c6ca51b3670e183d19d",name:"TPT - DE - AEM - Criteo Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4275286b2ff142b79dee43e6a5b3ba2a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc5bab6fab5244bca8f439ea61b98dfe",name:"TPT - BE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcd66c8099a804101a8722df058883bb6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d723421cbe44486be513b6de521942d",name:"TPT - IE - AEM - Adwords - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{
value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8dca149765f84bd3a8311b737f237a14-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL69db932991c046d28915df0ee53cb2c6",name:"TPT - AT - AEM - Facebook - Catalog Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/brochures\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1c02ce4e11a1479097bb22ee32c10f5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41beee0cafb042998e05651bd1eb0ef9",name:"TPT - DE - AEM - GTagDC - DLO State Stamdalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC707a660260b44b8981cf32ab6b388e61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL51d1dcf53cb2483a9f6edd6346e01dcb",name:"TPT - IT - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0f54c1d9e1194d74ba00fb04e20db882-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL318a6f97f3c744508ee8ff5fdf28c553",name:"DCR - All - AEM - AA - Onsite Search",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.eventAction"),n=a.get("event.-1.eventInfo.cause"),i=a.get("event.-1.eventInfo.effect"),r=a.get("component.1.componentInfo.componentName"),c=a.get("component.-1.attributes.onsiteSearchResults"),d=(a.get("component.-1.attributes.onsiteSearchType"),a.get("component.-1.category.subCategory01"),a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")));if(_satellite.getVar("setDefaultVariables",e)(t),t.prop56="search",t.prop53="content",t.eVar34="",t.prop51=r,t.prop54="onsite search",t.prop55=c,t.prop19="onsite search",t.prop42="nsc website",t.prop43="search",t.eVar136="2021 - 02- 19 onsite search",t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.prop13="bmw",t.prop1=t.pageName=-1==d.indexOf("nsc >")?"nsc > "+d:d,t.prop28="simulated page"==a.get("page.category.pageType")?"virtual page":"real page",t.prop44=a.get("component.-1.componentInfo.componentID",a.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop53="content",t.prop24=c,t.prop57=a.get("event.-1.eventInfo.eventAction"),t.prop52=n,t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.evar71=s,t.events=t.apl(t.events,"event331,event332"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event331,event332"),"search intent"==i){t.prop56="search",t.prop53="content",t.prop52="default",t.prop57=n,t.prop51=a.get("event.-1.category.subCategory1"),t.eVar34=prefix+i,t.prop55=a.get("event.-1.attributes.searchResults"),a.get("event.-1.category.primaryCategory");var l=a.get("event.-1.attributes.searchTerm");t.events=t.apl(t.events,"event917,event918,event331,event332"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event331,event332")}a.get("page.category.primaryCategory").indexOf("Error")>-1?(t.prop56="error",t.prop53="web links",t.eVar34="nsc > "+d,t.events=t.apl(t.events,"event925,event926,event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event926,event931,event932")):"More Search Results"==o&&(t.eVar34="nsc > onsite search more results clicked",t.prop55=t.prop24=i,t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918"));for(var u=a.get("component"),m=0;m<u.length;m++)if(u[m].attributes&&u[m].attributes.onsiteSearch&&"General"===u[m].attributes.onsiteSearch){var b="true";break}"true"==b&&(t.prop51=u[m].componentInfo.componentName,t.prop55=t.prop24=u[m].attributes.onsiteSearchResults,t.prop57=a.get("event.-1.eventInfo.eventAction"),t.eVar34="nsc > onsite search results shown",t.events=t.apl(t.events,"event925,event926,event331,event332"),t.prop44=u[m].componentInfo.componentID,l=u[m].attributes.onsiteSearchTerm,t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event926,event331,event332"));var g=_satellite.getVar("searchDefaultProduct"),f=_satellite.getVar("setDefaultProductVariables");f.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),f.merchEvars.eVar53="new car",t.products=f.toString(),t.products+=",search;search;;;;"+g+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+a.get("event.-1.attributes.onsiteSearch")+"|eVar33="+l,t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop56,prop53,eVar34,prop51,prop54,prop55,prop19,prop42,prop43,eVar136,eVar17,prop13,prop1,prop28,prop44,eVar134,eVar34,prop24,prop57,prop52,prop58,eVar71")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL0ad4ff17ad8a4497ba39a5ed388a8ce2",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfigurator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72e2a015d04b454cb1587604fa7ccfba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1872bd2ed8714da39de4976afb0f6f66",name:"DCR - All - AEM - AA - DCS PV",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var o=_satellite.getVar("snapshotDL");t.prop27=o.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",o.get("page.pageInfo.pageID")),t.eVar135=o.get("page.pageInfo.sysEnv"),t.prop50="page title",t.prop17=t.prop44=t.eVar71=t.prop54=t.prop11=t.prop7=t.prop8=t.prop6=t.prop55=t.prop51=t.prop24=t.prop52=t.eVar34=t.prop57=t.prop56=t.prop58=t.prop12=t.prop53=t.eVar23=t.eVar24="","undefined"==t.products&&(t.products=""),t.prop1=o.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,o.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL,t.pageType="errorPage",t.prop1=t.pageName),t.prop4=o.get("page.category.subCategory1"),t.linkTrackVars+="prop4";try{null==_satellite.getVar("campaign")&&window.location.href.indexOf("?")>-1&&(t.campaign=t.Util.getQueryParam("tl"))}catch(t){_satellite.logger.log(e.$rule.name+t)}if(t.eVar61=t.eVar62=t.campaign,t.linkTrackVars+="eVar61,eVar62",t.eVar151=o.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=o.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=o.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=o.get("component.-1.attributes.referringComponent"),t.eVar155=o.get("cart.attributes.offerID"),t.eVar156=o.get("page.attributes.checkoutID"),a.update("pageName",t.prop1,!0),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop44=o.get("component.-1.componentInfo.componentID"),t.prop19="digital checkout solution",a.update("pagePrimaryCategory",t.prop19,!0),a.update("componentSubcategory1",t.prop43,!0),a.update("url",t.eVar4,!0),t.eVar14=a.get("url"),a.update("pathName",t.eVar12),t.eVar29=a.get("pathName"),t.prop31=a.get("pagePrimaryCategory"),t.prop33=a.get("pageName"),t.eVar28=a.get("componentSubcategory1"),"sales > dcs: order-confirmation"==o.get("page.pageInfo.pageName")){var s=o.get("page.attributes.checkoutID");t.events=t.apl(t.events,"purchase"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"purchase"),t.purchaseID=s}if(t.events.indexOf("purchase")>-1&&(t.prop11="orders (new vehicle)",t.linkTrackVars=t.apl(t.linkTrackVars,"prop11")),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var n=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(n),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash")),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL0e8b8ea639bc4a0f8aa92bbd92ac6455",name:"TPT - PL - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk_in"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC217c002ac9d140e3b0611ee7db980328-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLad9b9d88b64a4c118c725768e991da72",name:"TPT - IN - AEM - Lotame - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC42c7a640acca4beb882ce6cc5de680b5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0b31803d59b34e85ba077dba23a2e8e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9458957b3584d5c83c256dac88b8aaa",name:"TPT - NO - AEM - Floodlight - TDA Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/kontakt/bestill-provekjoring.html"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"local > form finished"==e.detail.snapshotDL.snapshot.event[0].eventInfo.effect}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7fc00cbdb4134c37ad005aee4234504e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5d5936d538df439893bc69d49da39469",name:"TPT - PL - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb37c4ff60c6d416ea2e20c5a7d5b85c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1e5dd65ed7b2474284c954584ce0c621",name:"TPT - ES - AEM - Ignition One - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"ES"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/campanas/plan-moves-2020.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0c0b1e53fbec486e996f2ae67c063cb6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL253662931f6940d68a86f852cc70bb86",name:"TPT - DE - AEM - BMW Connected Appstore Cookie Drawer (without p15r) - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.de",valueIsRegex:!0},{value:"m156.bmw-int3.com",valueIsRegex:!0},{value:"m156.bmw-int9.com",valueIsRegex:!0},{value:"m14.bmw-int1.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/faszination-bmw/connecteddrive/bmw-connected"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC30c3f3463fe94b15af5dc6e975dfc555-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8f12d4d63ac84e26a199fc654020aef0-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e3eb64626e94d758e849daf1725dbe4",name:"TPT - ZA - AEM - Adform - X3 Inspire Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#top-of-content > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta.show-for-large-up > div > div > div.show-for-large-up > ul > li:nth-child(1) > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/x-series/X3/2019/bmw-x3-inspire",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7ad7b50f43a040f4b0720c8e2e4e8d24-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL947bb161e417487aa7a183311886cfd9",name:"TPT - DE - AEM - Adobe Campaign Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b5db109de7f4ca8975f846f7ff3ca64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLde64e2be51794d84991a7977254c479b",name:"TPT - FI - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC613fa1f12ef349d4a00481c2669389c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4aa854cb285947d2904711a6aa380508",name:"TPT - BE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5bdac55750974ab2b28bde4ad9dc16c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL54c4d770aed84c07b0ed1fdbf8f547fb",name:"TPT - RU - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb3e38fc96fc24111bcd4943dc9d14340-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbda89db499244df6b33ab0445db2261a",name:"TPT - AT- AEM - Adform - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3b16c92a18014bdabeddb558981480b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e24281cc5e14cf4abb66abe1d31c010",name:"TPT - SE - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc0d67f2ee9c443c7824c60f54c4e77d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLebed7b0186d840438466eabd93e6d1e8",name:"TPT - BE - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8989ba41d0f6414ab8373dd62af1405a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f14158ebe684a28b52d53a0b3843cea",name:"TPT - SI - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc0b1ac47848d4d098cd27469a9f4b768-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9582f2d8c81042fbac7df5725b4bad6c",name:"TPT - NO - AEM - Adform - Services & Accessories - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe72063d6f8a14b05a829a31974ac332f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd0cbb1dd09b04c2983594415b5c92f8c",name:"TPT - UK - AEM - Klick2Contact - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8c4fed0e3479447290d85b252f39ef4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f892d02b7f94d4c9820b9a422159afa",name:"TPT - NL - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1f84823f1bd345dc8dc42b11c83ea453-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL572cf6ae559b46d7ad1bd258f27f1d56",name:"TPT - DE - AEM - Facebook - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC61860398bea54b6297921454954a2f1a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba29c01b37024099a88227e118d66638",name:"PLR - ALL - NSC - AA - share MID with IUCP",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd041f15661f64ff0825344a1adbbdb0b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf540ce7daa1b49e3aab7d74dd667459f",name:"TPT - GR - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC98301a4c4382468abd6ca281663483fe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd254daa2e09c4e22b963d45ecbd0ba0a",name:"TPT - NZ - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC341d61f434c447dca5781eaac4e113c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b2be7a4a04549f59e1028dc6ea31594",name:"DCR - ALL - NSC - AA - UXN Navigation and Generic Click Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"email"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"call"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_tooltip"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tap_hover"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"salesbar"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);for(var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.effect"),n=a.get("event.-1.attributes.videoLength"),i=o&&"object"!=typeof o?o.split("L").length:0,r=t.Util.cookieRead("gcdmToken"),c="",d=a.get("event.-1.attributes.relatedComponent.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),l=a.get("event.-1.category.primaryCategory"),u="nsc > ",m=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),b=a.get("event.-1.category.primaryCategory"),g=a.get("component"),f=0;f<g.length;f++)if(Object.keys(g[f]).length>0&&g[f].componentInfo.componentID===a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"))return void(t.abort="true");if(["line_component","multicontent","new_pre_configuration","offers","new_gallery","uxs-highlight","all-models-list"].indexOf(m)>-1)return void(t.abort="true");t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),("tap_and_hold"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&"datalayer field missing"!=a.get("product")&&"datalayer field empty"!=a.get("product")&&a.get("product")!=[]||"datalayer field empty"!=a.get("product.-1.productInfo.productName")&&"datalayer field missing"!=a.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(t),t.prop42="nsc website",t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.prop2=a.get("page.category.pageType"),t.prop3=a.get("page.category.primaryCategory"),t.prop4=a.get("page.category.subCategory01"),t.prop5=a.get("page.category.subCategory02"),t.prop1=a.get("page.pageInfo.pageName"),"digital > new car stock locator"==a.get("component.-1.componentInfo.componentName")?t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "):t.prop1.indexOf(u)<0&&(t.prop1=u+t.prop1),t.prop28=a.get("page.attributes.virtualPage"),t.prop29=a.get("page.pageInfo.version");try{r&&(t.prop40="logged-in"),""==r&&(t.prop40="not logged-in")}catch(e){}if(t.prop56="interaction",t.eVar34=o&&"object"!=typeof o?o:"datalayer field missing",t.eVar34.indexOf(u)<0&&(t.eVar34=u+t.eVar34),t.prop57=a.get("event.-1.eventInfo.eventAction"),
a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timeStamp"),t.prop54=a.get("event.-1.category.primaryCategory",a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),t.prop55=a.get("event.-1.category.subCategory01"),t.prop50=a.get("event.-1.eventInfo.element"),t.eVar71=a.get("event.-1.eventInfo.target"),d&&"Navigation"==d&&"Navigation"==l?(t.prop52=a.get("event.-1.eventInfo.cause"),t.eVar136="2020 - 06- 15 user_centric_navigation",t.eVar137="AEM6",t.prop53="ux",t.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,eVar136,eVar137,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"):(t.prop52=a.get("event.-1.eventInfo.eventType",a.get("event.-1.category.eventType")),t.prop53="open_content"==e.identifier||"open_image"==e.identifier||"open_tooltip"==e.identifier||"tap_hover"==e.identifier?"ux":"success",t.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"),"open_navigation"==e.identifier&&2==i&&"Navigation"==d)c="event917,event918,event919,event920";else if("internal_click"==e.identifier&&2==i&&"Navigation"==d&&"Navigation"==l)c="event917,event918,event919,event920";else switch(c="event917,event918",e.identifier){case"start_video":c+=",event351";break;case"email":c+=",event901,event902";break;case"call":c+=",event913,event914";break;case"tap_hover":if(s&&parseInt(s)&&n&&parseInt(n)){var p=parseInt(s)/parseInt(n);p>=.1&&(c+=",event352"),p>=.25&&(c+=",event353"),p>=.5&&(c+=",event354"),p>=.75&&(c+=",event355"),p>=.95&&(c+=",event356")}c+=",event351,event909,event910";break;case"open_image":if("tap_and_hold"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){c+=",event909,event910";break}}if("user_centric_navigation"==t.prop19&&(c+=",event919,event920"),"close_layer"!=e.identifier&&"open_layer"!=e.identifier&&"open_navigation"!=e.identifier||("visualizer"==a.get("event.-1.attributes.relatedComponentName")?(t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),t.prop19=t.prop54="visualizer",t.prop42="configuration",t.prop53="ux",t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop52=a.get("event.-1.eventInfo.cause"),t.linkTrackVars+=",prop51",["inactivity","error","buildability conflict"].indexOf(o.toLowerCase())<0&&(c+=",event313,event314")):"model_navigation_hp"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.prop56="interaction",t.prop53="ux",t.prop43="navigation",t.eVar34=o+" clicked",t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),t.prop42="nsc website",t.prop13="bmw",t.prop44=a.get("component.-1.componentInfo.componentName"),t.eVar134="web",t.prop27=a.get("page.pageInfo.pageID"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop3=a.get("component.-1.componentInfo.componentName"),t.eVar135=a.get("page.pageInfo.devEnv"),t.eVar71=a.get("event.-1.eventInfo.target"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),t.eVar136="2020 - 06- 15 model_navigation_hp",t.linkTrackVars+=",prop51")),("Outbound click"!=a.get("event.-1.eventInfo.eventAction")&&"Internal click"!=a.get("event.-1.eventInfo.eventAction")||"salesbar"!=a.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))&&"salesbar"!=e.identifier||(c="event917,event918,event921,event922",t.prop43="navigation",t.prop56="interaction",t.eVar34=o+" clicked",t.prop52="default",t.prop53="ux",t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop13="bmw",t.eVar134="web",t.prop27=a.get("page.pageInfo.pageID"),t.eVar71=a.get("event.-1.eventInfo.target"),t.prop3=a.get("component.-1.componentInfo.componentName"),t.prop2=a.get("page.category.pageType"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=a.get("page.pageInfo.devEnv"),"new car"==a.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),"Outbound click"==a.get("event.-1.eventInfo.eventAction")&&o.indexOf("test")>-1&&o.indexOf("drive")>-1&&(t.prop11="tda",t.prop8="form start intention",t.linkTrackVars+=",prop11,prop8",c+=",event1,event2"),t.eVar136="2020 - 06- 15 salesbar",t.linkTrackVars+=",prop51,prop2,prop3,prop52,prop19,prop44,prop13,eVar34,eVar134,prop27,eVar135,eVar54,eVar17,eVar136,prop53"),"tap_and_hold"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&("tap_hover"==e.identifier||"open_image"==e.identifier)){t.eVar34=t.eVar34+" clicked",t.prop3=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),t.prop51=a.get("event.-1.eventInfo.eventName"),t.prop52="default",t.prop19=a.get("component.-1.componentInfo.componentName"),t.prop42="nsc website",t.prop43="content",t.prop13="bmw",t.eVar134="web",t.prop27=a.get("page.pageInfo.pageID"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.eVar135=a.get("page.pageInfo.devEnv"),"new car"==a.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 tap_and_hold","tap_hover"==e.identifier&&(t.prop38="video",t.prop39=a.get("event.-1.attributes.videoLength"));var v=_satellite.getVar("setDefaultProductVariables");v.category="new vehicle",v.id=a.get("product.-1.productInfo.productId",a.get("event.-1.category.mmdr"));var h=a.get("event.-1.category.mmdr");v.merchEvars.eVar10=h,v.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar52=a.get("product.-1.productInfo.productName"),v.merchEvars.eVar53="new car",t.products=v.toString(),t.linkTrackVars+=",prop51,prop52,prop38,prop39,prop42,prop43,prop44,eVar135,eVar54,eVar55,eVar51,eVar48,eVar17,eVar136,products"}"visualizer"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.eVar34=a.get("event.-1.eventInfo.eventName.en")),"visualizer"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.eVar34=a.get("event.-1.eventInfo.eventName.en")),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),"Precon Overlay"===b&&(t.prop53="",t.prop54="",t.eVar34=""),t.events=t.apl(t.events,c),t.linkTrackEvents=t.apl(t.linkTrackEvents,c),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1),t.prop74="bmw .next - nsc|dcr - all - nsc - aa - uxn navigation and generic click tracking"}catch(a){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(a)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL3b2ba4f605734eea85fec408e0d20ee6",name:"TPT - PT - AEM - Adform - iFrame RFC Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6c0fee4b7af8424c8c9a2de25190ab12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44eb818eb9a9413ab52961fbb8c52812",name:"TPT - BG - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb826e6c5947548ed9dca88a113fc0f66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba7d29b818b04a219b2771bb46d28b86",name:"TPT - CH - AEM - DoubleClick - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd56ab07add9445659e9b5e48b222f874-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL319c082490e747f8a5db07236fa9fa15",name:"TPT - NL - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC523ba52ad5cf490d9f57c4753ce265ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc92f6511d8a43e1971bbbc7c51541ea",name:"TPT - IT - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,a){var o=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){o=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){o||a()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it$",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC22d68bde5d3a435f8a79bd027c8e1905-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6098a0f15ab14587a428b2018a7fe14e",name:"TPT - AU - AEM - GTagDC - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2dd39d62477549a396cbe5cd2cb7bbc9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa37ac853f33d4d0a945e91fde90fe814",name:"TPT - LU - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc769533fd2e94bee93eba746aeefcf35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd163643b340c49c0a718ea758d051d2b",name:"TPT - BE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3f04da7ad25e4547ae19b29039f9007c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3a0282b8501e427da30e19b718e738e7",name:"TPT - SK - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2157279921fd41c1a555e9225afa0919-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b0d34dff97c41c9af06c036d0ab7f81",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7cc4fb58a8bc4bde95941133495dc264-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3f244e45df1542968f9a789e83bd75c8",name:"TPT - KR - AEM - AddingBoldStyle - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd74050e14d1f425294fa7f76d7815fbb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c8e9d1393fe4d76bf27f800297a2c9f",name:"TPT - BR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC85f7a18ea7484d8b83ea97287cefee91-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f96cfbb30024459b30037945034dc5a",name:"TPT - NO - AEM - Adform - Used Car Search - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"BMW bruktbils\xf8k",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCec7e6d7783914e20998ffff7963b73b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL97f45c17591245c8bb3d387c2ca1c1e8",name:"TPT - ZA - AEM - Adform - Test Drive Click - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Book a test drive",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9b21e42903044f76b9744a82b4c3abee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL66f1e7af92cf4e8bae7b8bdabb3aa244",name:"DCR - LU - All Models -  Adobe Target - Send Visitor Reco ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC662618586c8e49c4b7872a150896a154-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4068ba1d1607426c8a36faa12cd6195b",name:"TPT - ES - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa9f37bf8905e4e53878e8fdc9f5be94a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff4b065101894333b5699387229ed5ae",name:"TPT - ES - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa8c3f91252834bd0926e795d1e41d05b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL294e0834dc6a4123badc3f7dbf6c8adc",name:"TPT - FR - AEM - Facebook - Site Search - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC925e8e63d228464686c11838aa394667-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb22b7085a44a4fdf87adfe3c82691f7c",name:"TPT - NL - AEM - Facebook - Site Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf2e164755d174b989e141af6db6cdd69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb36d84aa57a849ac89a79d4592137155",name:"TPT - IN - AEM - TDA Form Submit/ Success - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa8197476892e4b34a1672a09bceea093-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL514f1f540311494fbadb65df4812f5a0",name:"TPT - ID - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC74072d92cbbf4ca8a18d4e2a63356bbf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb45b924d96314c6b964827da0dd2fd4b",name:"TPT - ES - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf27860e222a74445b1320442cf2fbad2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80400b98288b4cb7a8809c6e596a265e",name:"TPT - RO - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC65d9be9b062449138f6a6d596dcf2902-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ca094a0d715420c9a4581e9982778de",name:"TPT - SK - AEM - Facebook - Form Submission - RFC Submission - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"sk/publicPools/success-pool/success-page-rfc.html.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4fff141ce2554459a6f41f1b63611303-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53b7897c2ebc4871b51313b479afbb2a",name:"TPT - IE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3dbf78188b204422ab448b44506dd972-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed2bbd52c2094e59b9016979eb57eac9",name:"TPT - IT - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.col-sm-3 a.car-version,div.col-sm-3 a.car-version span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/test-drive-now/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeb09b5dd2e30420b9b3a4c305134dda1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cea8ef350d0490eab2f233cbc0ba79c",name:"TPT - SG - AEM - Precision - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC23c532c624604f6eb07ee2c1b84f5eab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLce38fb6567f0465db51839d42028f767",name:"TPT - AT - AEM - Pinterest - TDA - FormSubmit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/success-pool/success-page-tda.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC260d292fe9394409a327f193881e9dfe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44443cfd9e31467d9ec10eb30f2a0a9d",name:"TPT - NL - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCadfe53b2e34e4e3cb4d7a7edd16c48eb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLada6bea1a0fa4dc8a6efec937529d2ce",name:"TPT - UK - AEM - Xandr - RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC926c4ff0ebe84231b5d85db4cd0c6294-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ec0577764f14061b1833e1b484b8c2a",name:"DCR - All - IFrame - AA - Local Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfp"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=_satellite.getVar("smartPreviousValueManager");if("Local-Request"!=a.get("event.-1.category.primaryCategory")&&"Local-request"!=a.get("event.-1.category.primaryCategory"))return void(t.abort="true");_satellite.getVar("setDefaultVariables",e)(t);var s=a.get("event.-1.category.subCategory01"),n=a.get("event.-1.category.subCategory02"),i=a.get("event.-1.category.subCategory03"),r=a.get("event.-1.category.subCategory04"),c=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName")),d=a.get("event.-1.attributes.dealerInfo",a.get("event.-1.attributes.dealerinfo")),l=a.get("event.-1.eventInfo.eventName"),u=a.get("event.-1.attributes.fuelType");-1!=u.indexOf("|")&&(u=u.replace(/\|/g,"~")),t.events="",t.prop19="local form",t.prop42="locally developed",t.prop43="forms",t.prop56="form",t.eVar34=-1==l.indexOf("nsc >")?"nsc > "+l:l,t.prop8=l,
t.prop53=t.prop6="local form",t.prop11=s.toUpperCase(),t.prop7=n,t.prop18=i,t.prop16=a.get("event.-1.attributes.stepName"),t.eVar9=a.get("event.-1.eventInfo.target"),void 0!==d&&(t.eVar41=d.substring(0,d.indexOf("|")),t.eVar42=d.substring(d.indexOf("|")+1,d.indexOf("_")),t.eVar40=d.substring(d.indexOf("_")+1)),"form"==t.prop56&&(t.prop53=t.prop11);var m={RFS:"service",RFA:"accessory"},b=_satellite.getVar("setDefaultProductVariables");b.id=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr")),b.category=m[s]||"new vehicle";var g=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr"));if(g&&-1==g.indexOf("/")){var f=/[a-z]{1}[0-9]{2}/i,p=g.match(f);g=p&&p.length?p[0].toUpperCase():"datalayer field empty"}var v=a.get("event.-1.attributes.motorization");if(v){var h=/[0-9]{3}[a-z]{1}/i,_=/xdrive[0-9]{2}[a-z]{1}/i,P=/sdrive[0-9]{2}[a-z]{1}/i;p=v.match(h)||v.match(_)||v.match(P),v.indexOf("i3 (120 ah)")>-1||v.indexOf("i3 (120ah)")>-1||v.indexOf("i3 120ah")>-1?v="i3 (120 ah)":v.indexOf("i3s (120 ah)")>-1||v.indexOf("i3s (120ah)")>-1||v.indexOf("i3s 120ah")>-1?v="i3s (120 ah)":p&&p.length&&(v=p[0].toUpperCase())}switch(b.merchEvars.eVar53="New Cars"==r?"new car":"Used Cars"==r?"used car":"datalayer field empty",b.merchEvars.eVar52=a.get("event.-1.attributes.productName",a.get("product.-1.attributes.modelName")),b.merchEvars.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),b.merchEvars.eVar10=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr")),b.merchEvars.eVar51=a.get("event.-1.attributes.bodyType",a.get("product.-1.attributes.bodyType")),b.merchEvars.eVar57=a.get("event.-1.attributes.hybridVersion"),b.merchEvars.eVar50=a.get("event.-1.attributes.serie"),b.merchEvars.eVar56=u,b.merchEvars.eVar58=v,t.products=b.toString(),t.prop2=a.get("page.category.pageType",a.get("event.-1.attributes.relatedPageCategory.pageType")),t.prop3=a.get("page.category.primaryCategory",a.get("event.-1.attributes.relatedPageCategory.primaryCategory")),t.prop4=a.get("page.category.subCategory01",a.get("event.-1.attributes.relatedPageCategory.subCategory01")),t.prop5=a.get("event.-1.attributes.relatedPageCategory.primaryPurpose"),t.prop1=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timestamp"),t.prop52=a.get("event.-1.eventInfo.cause"),t.prop54=t.prop55=s,t.prop50=a.get("event.-1.eventInfo.element"),t.eVar71=a.get("event.-1.eventInfo.target"),t.eVar39=a.get("page.attributes.outletName"),t.eVar20=a.get("user.-1.segment.userSelectedCountry"),t.eVar23=a.get("user.-1.segment.userSelectedPreferredContactMethod"),t.eVar24=a.get("user.-1.segment.userSelectedGender"),t.eVar25=a.get("user.-1.segment.userSelectedYearofBirth"),t.eVar26=a.get("user.-1.segment.userSelectedCurrentVehicle"),l){case"Form Start":var j={Lead:"event17,event18",Handraiser:"event21,event22",RAO:"event25,event26",RFA:"event29,event30",RFC:"event33,event34",RFCD:"event37,event38",RFD:"event41,event42",RFI:"event45,event46",Download:"event49,event50",Postal:"event57,event58",RFO:"event61,event62",RFP:"event65,event66",RFS:"event69,event70",ROI:"event73,event74",Newsletter:"event81,event82","Keep Me Informed":"event77,event78",TDA:"event85,event86","Online TDA":"event89,event90",Registration:"event93,event94",CAMPAIGN:"event97,event98","FS RFO":"event101,event102",Loan:"event105,event106","Operational Lease":"event109,event110","Private Lease":"event113,event114",Quote:"event117,event118",Insurance:"event121,event122","not set":""};t.events=t.apl(t.events,j[s]),t.linkTrackEvents=t.apl(t.linkTrackEvents,j[s]),t.events=t.apl(t.events,j[n]),t.linkTrackEvents=t.apl(t.linkTrackEvents,j[n]),t.events=t.apl(t.events,j[i]),t.linkTrackEvents=t.apl(t.linkTrackEvents,j[i]),t.events=t.apl(t.events,"event3,event4"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event3,event4"),"RFI"==s&&"Generic"==n&&(t.events=t.apl(t.events,"event53,event54"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event53,event54")),t.eVar34="nsc > form started",t.prop8="form started";break;case"Form Success":var y={Lead:"event19,event20",Handraiser:"event23,event24",RAO:"event27,event28",RFA:"event31,event32",RFC:"event35,event36",RFCD:"event39,event40",RFD:"event43,event44",RFI:"event47,event48",Download:"event51,event52",Postal:"event59,event60",RFO:"event63,event64",RFP:"event67,event68",RFS:"event71,event72",ROI:"event75,event76",Newsletter:"event83,event84","Keep Me Informed":"event79,event80",TDA:"event87,event88","Online TDA":"event91,event92",Registration:"event95,event96",CAMPAIGN:"event99,event100","FS RFO":"event103,event104",Loan:"event107,event108","Operational Lease":"event111,event112","Private Lease":"event115,event116",Quote:"event119,event120",Insurance:"event123,event124","not set":""};t.events=t.apl(t.events,y[s]),t.linkTrackEvents=t.apl(t.linkTrackEvents,y[s]),t.events=t.apl(t.events,y[n]),t.linkTrackEvents=t.apl(t.linkTrackEvents,y[n]),t.events=t.apl(t.events,y[i]),t.linkTrackEvents=t.apl(t.linkTrackEvents,y[i]),t.events=t.apl(t.events,"event15,event16"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event15,event16"),"RFI"==s&&"Generic"==n&&(t.events=t.apl(t.events,"event55,event56"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event55,event56")),t.eVar34="nsc > form finished",t.prop8="form finished";break;case"First Interaction":t.events=t.apl(t.events,"event5,event6",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event5,event6",","),t.eVar34="nsc > form first interaction",t.prop8="form first interaction";break;case"Form Step 1":case"Form Step 2":case"Form Step 3":case"Form Step 4":case"Form Step 5":t.events=t.apl(t.events,"event7,event8",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event7,event8",","),t.eVar34="nsc > "+l,t.prop8=l;break;case"Local Form Interaction":t.events=t.apl(t.events,"event9,event10",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event9,event10",","),t.eVar34="nsc > form interactions",t.prop8="form interactions"}o.update("pageName",t.prop1),t.linkTrackVars+="events,prop42,prop43,prop56,prop19,eVar34,prop53,eVar6,prop8,prop11,prop7,prop18,prop16,eVar9,products,prop2,prop3,prop4,prop5,prop6,prop1,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar39,eVar20,eVar23,eVar24,eVar25,eVar26,eVar41,eVar42,eVar40"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-subCategory01%",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLfad357b097bd40458569ccb2f9bdea9f",name:"TPT - IE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC81962602ea4540c492880e2bb91437d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b41b445a6384673975b9d48ad79caa2",name:"TPT - DK - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"(/DK/da/BMWI|/DK/da/BMW_BMWM)",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC21d7b4b317db4d4488100a441f41377c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL141133f765934ed9b8e8fa28b69a4034",name:"TPT - NO - AEM - Adform - SiteSearch - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC59f63b7588774cf984e21c261d99bb81-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a2b4ef38a604cdcbabfc4b4de85d868",name:"TPT - BG - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe71ae249342f4735801363229a22f4c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf4e6fa35d1e24844a239999992593515",name:"TPT - BG - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdcb1b6042dd7480e96faa80f6b84a601-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaee8d8936b624937a0334078dab43a48",name:"TPT - SI - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC20bc4dd19d884f429f30f843c7b2b1c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd95eba9caf1f420f873a018d5f55e435",name:"TPT - HU - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC428aabb479a6422681701adaaa49e77a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL982a3dbde64c4499873d60c4bd681f80",name:"TPT - PL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3b3949b9894f419b990d2c1ad2f03558-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5b5f91b2ea0748e4859c74c41ea4c507-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL750056c9e4f547159353f98369fd48e2",name:" TPT - IE - AEM - Gtag_DC - PHEV Enquire Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/retailer-enquiry.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6fa1a1c6f92a44d0999af32b32b491cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fd06ede222d4daaa06c22602a093dd6",name:"TPT - SK - AEM - Facebook - Form Submission - RFC FormView - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3c5a40e7dd504840a17fab78ae43b0ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3c137ac2de34219a1652d8a0b87090d",name:"TPT - NL - AEM - Facebook - Multiple Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC688e38d22362489cb3ba4c9d2ba73a71-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e8c22d3333047ceaa5b0ba493e110b2",name:"TPT - DE - AEM - Linkedin - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5a3378da0ca642c281e688e2e5b3cc23-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe86bccdf39124c31997ba55c9571bf1f",name:"TPT - CH - AEM - Adwords - SummaryDownloadPDF - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[bm-safe-click="downloadPDFPrint($event)"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd482d518846d44f49a145f11d8803ee0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed3dd4ea93a0441680ec50a839b6b660",name:"TPT - CZ - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe6a4a9ab24664c7382c1d95ff03ed50d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe821eafe652f4541bca3ac487c91ef85",name:"TPT - NL - AEM - Adform - Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc6ec308f61304aea98f435d3442db9d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb87ed0b947634406a10275fe24d3b891",name:"TPT - FI - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0798b109ec6e4fbca4da07b223dc7947-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb4b33a710fac445e8910f86d286d7a03",name:"TPT - SK - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC187b65de7706467394bca4c3499de31c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc45cf15f2ef4676930455d9af622ba1",name:"TPT - NL - AEM - Bing - iFrame NSF Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5ff9cc25010344d580b2553e114a06c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcd487bd6a0c406a9064e4772a304bfb",name:"TPT - GR - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC659d624087d44ba097b6b2bc3ab1a302-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3d2d518c9f3c4c79902d7d3a5a8d7532",name:"TPT - NO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC895e4ca283984fb18788dc29c16cc3bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcfd95bd9c91847c69dccfd8077ca7b96",name:"TPT - NO - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9874111a2c1f432680e97ba94180a90f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL61e1f6068cea4e53b95ea7a846fc0d3c",name:"TPT - FI - AEM - Adform - ConfigurationLand - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/rakenna-oma-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0cba5435283346f684463e17ec9de414-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLab8f2fdf40014b23b098d9a90fe7dc5f",name:"DCR - All - AEM - AA - LCI",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"new_pre_configuration"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_image"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.eventName"),s=a.get("event.-1.eventInfo.eventAction"),n=(a.get("event.-1.eventInfo.cause"),a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),i=(a.get("component.-1.category.subCategory01"),a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"))),r=+new Date,c=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");if("small_teaser"!=n&&"multicontent"!=n&&"new_pre_configuration"!=n&&"offers"!=n&&"line_component"!=n&&"new_gallery"!=n&&"highlight"!=n&&"uxs-highlight"!=n)return void(t.abort="true");_satellite.getVar("setDefaultVariables",e)(t),"Close image"==s||"Open layer"==s||"Open navigation"==s||"Open showroom"==s||"Internal click"==s||"Open image"==s||"Open content"==s||"Outbound click"==s||"Download"==s?(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")):"Download"==s?(t.events=t.apl(t.events,"event917,event918,event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event903,event904")):"Contact Form"==o?(t.events=t.apl(t.events,"event1,event2"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event1,event2")):"Call Center"==o?(t.events=t.apl(t.events,"event913,event914"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event913,event914")):"Start video"==s&&(t.events=t.apl(t.events,"event917,event918,event351"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event351")),t.prop19="virtual page"===c?"new car stock locator":a.get("component.-1.componentInfo.componentName"),t.prop56="interaction",t.prop53="ux",t.eVar34="nsc > "+o+" clicked",t.prop52="default",t.prop1=t.pageName=-1==i.indexOf("nsc >")?"nsc > "+i:i,t.prop5=a.get("page.category.subCategory02"),t.prop2=a.get("page.category.pageType"),t.prop28="virtual"==a.get("page.category.pageType")?"virtual page":"",t.prop57=a.get("event.-1.eventInfo.eventAction"),a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(parseInt(a.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.prop12=a.get("event.-1.eventInfo.timestamp",r),t.eVar71=a.get("event.-1.eventInfo.target"),t.prop50=a.get("event.-1.eventInfo.element"),t.prop54=a.get("event.-1.category.primaryCategory"),t.eVar17=a.get("user.-1.profileInfo.visitorID"),t.prop3=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),t.prop55=a.get("component.-1.category.subCategory01"),t.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID",a.get("component.-1.componentInfo.componentID")),"multicontent"==t.prop19?t.eVar136="2020 - 06- 15 multi_content":"new_pre_configuration"==t.prop19?t.eVar136="2020 - 06- 15 new_pre_configuration":"offers"==t.prop19?t.eVar136="2020 - 06- 15 showroom":"line_component"==t.prop19?t.eVar136="2020 - 06- 15 line_component":"highlight"==t.prop19||"uxs-highlight"==t.prop19?t.eVar136="2020 - 06- 15 uxs-highlight":"new_gallery"==t.prop19&&(t.eVar136="2020 - 06- 15 new_gallery");var d=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr",a.get("event.-1.category.mmdr"))),l=_satellite.getVar("setDefaultProductVariables");l.id=a.get("event.-1.attributes.mmdr",a.get("product.-1.attributes.mmdr",a.get("product.-1.productInfo.productID"))),l.category="new vehicle",l.merchEvars.eVar52=a.get("event.-1.attributes.productName",a.get("product.-1.attributes.modelName",a.get("product.-1.productInfo.productName"))),l.merchEvars.eVar60=a.get("event.-1.attributes.manufacturer",a.get("product.-1.productInfo.manufacturer")),l.merchEvars.eVar10=d,l.merchEvars.eVar53="new car",t.prop51=a.get("event.-1.eventInfo.eventPoints"),t.products=l.toString(),t.prop74="bmw .next - nsc|dcr - all - aem - aa - lci","download"==e.identifier&&(t.events=t.apl(t.events,"event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903,event904")),t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop19,prop44,prop56,prop51,prop53,eVar34,prop52,prop19,prop1,prop5,prop2,prop57,prop58,prop12,eVar71,prop50,prop54,eVar17,eVar136,prop55")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"LCI",linkType:"o"},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:5e3,delayNext:!0}]},{id:"RL5ae4a7de48ff4b408912e18f2145ea50",name:"TPT - UK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC88726a2b30f141468f30bb84513ee104-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ccc2979f97a47cab67e445938d7dfd9",name:"HT - All - NSC - Multiple - Fire Mbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return Boolean(_satellite.getVar("AT-property"))||new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname)}catch(o){var a={from:"Condition",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,a)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.navigator.userAgent",value:"Googlebot",valueIsRegex:!0},negate:!0,timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.targetGlobalSettings = {\n\n    telemetryEnabled: false\n};",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (_satellite.getVar('topLevelDomain') !== 'bmw.de' && _satellite.getVar('topLevelDomain') !== 'bmw.it'&& _satellite.getVar('topLevelDomain') !== 'bmw.fr'&& _satellite.getVar('topLevelDomain') !== 'bmw.co.uk')\n    return; //Don't run the CS integration script on non-whitelisted markets\n\n/*\n *Name: Adobe Target CS Integration\n *Version: 1.5\n */\n(function() {\n    var tvp = \"AB_AT_\";\n    var tokens = \"\";\n\n    function sendToCS(csKey, csValue) {\n        csKey = tvp + csKey;\n\n        _uxa.push([\"trackDynamicVariable\", {\n            key: csKey,\n            value: csValue\n        }]);\n    }\n\n    function removeDuplicates(myArr, prop) {\n        var mappedObj = {};\n        return myArr.filter(function(obj, pos, arr) {\n            var val = obj[prop]\n            if (mappedObj[val]) {\n                return false;\n            }\n            return (mappedObj[val] = true);\n        });\n    }\n\n    function init() {\n        if (window.CS_CONF) {\n\n            CS_CONF.integrations_handler = CS_CONF.integrations_handler || {};\n            CS_CONF.integrations_handler.adobe_target_tokens = [];\n\n            var uniqueTokens = removeDuplicates(tokens, \"activity.name\");\n            if (uniqueTokens) {\n                uniqueTokens.forEach(function(token) {\n                    var campaignName = token[\"activity.name\"];\n                    var experienceName = token[\"experience.name\"];\n\n                    CS_CONF.integrations_handler.adobe_target_tokens.push({\n                        'CampaignName': campaignName,\n                        'ExperienceName': experienceName\n                    });\n\n                    sendToCS(campaignName, experienceName);\n                });\n            }\n        }\n    }\n\n    function callback() {\n        if (!disableCallback) {\n            disableCallback = true;\n            init();\n\n            if (window.CS_CONF) {\n                CS_CONF.integrations = CS_CONF.integrations || [];\n                CS_CONF.integrations.push(\"Adobe Target\");\n            }\n        }\n    }\n\n    var disableCallback = false;\n\n    function getEventData(e) {\n        if (e && e.detail && e.detail.responseTokens) {\n            tokens = e.detail.responseTokens;\n\n            window._uxa = window._uxa || [];\n            _uxa.push([\"afterPageView\", callback]);\n        }\n    }\n\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, getEventData);\n})();\n//Adobe Target CS Integration End",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"var targetParamsManager = _satellite.getVar('AT-TargetParamsManager');\n\ntargetParamsManager.mergeParams({\n    'at_property': _satellite.getVar('AT-property')\n});\n\n// The data element 'AT-AffinityParams' returns a custom object containing categories defined by BMW for calulating the affinity using profile scripts\nvar affinityParams = _satellite.getVar('AT-AffinityParams');\n//The second parameter to mergeParams sets \"once\" : \"true\" meaning that the values will be sent via only one target call\ntargetParamsManager.mergeParams(affinityParams , true);\n\nwindow.targetPageParamsAll = function() {\n    return targetParamsManager.getParams();\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body{opacity:0px}",bodyHidingEnabled:!1},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLb4bf92d77c0e451582b84c748842f7a6",name:"TPT - BG - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC26abbc008e1a42469581c433b3d6dcd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbd145ceb0ee34ebc9f6d84a238689f1e",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Settle - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_settle"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2e567bed6bc248c4a6c08847ff7b05c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cd9f981039e42ffb2568b4e8756d184",name:"TPT - IT - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa1dedce0e17c4b98be51329531e7e437-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41d32ec89d2b42eb97d57387599cbfc4",name:"TPT - RO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeaebf424cf6a4cc68d56b19712e50652-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19fb4725f55a43e19bea1f21c3b477e6",name:"TPT - CY - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.cy",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf65de7510e4946f0bd71cb273d4f3d46-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72fbda0d568245d78310d0c6717a71e3",name:"TPT - AR - AEM - Adwords - Click bot\xf3n mail Contact us - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"es/footer/footer-section/contact-us.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9bf67d67e3b749279c02ed4a4b308ad5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f54d044f7224b32b94918c1a03845ed",name:"TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCce1b37f0cbeb44bfbdeb6cc1f4a0fc1c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL293204a51f8a4b5d85e4d6ac2f857264",name:"TPT - JP - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC396d08cb4446487785d7138e5e8531b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e4fe87498da48b386d2d476b63ecacf",name:"TPT - IE - AEM - Adwords - TDA - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc91449ad7ece463fa8271b2f5b5ae789-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cbc631f66ad4e8e936598f39b4f8de6",name:"TPT - NL - AEM - IgnitionOne - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9241fbd123554bcf8d49e80b689fd785-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1e883a3bb61744339854eb3323b8180b",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC25425e4d9e154227be8e9e6268568789-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fa78b9722e74a9eb13f663ee81c942a",name:"TPT - AT - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC25cb2633ec9240028cff5a2d4b60e0b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b103e7027d247ce8d25f3d27b976980",name:"TPT - DK - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf9d4547e6eea4e6e9c211f283bfd8d8b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6cbb40c9b78f49fd926d7b467756fe41",name:"TPT - DE - AEM - ContentSquare - Popup Save configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popup_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC02a6107f0f2f4ea4a0deed923ae59a26-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb0266c9ead8d4650b59efe8b3ca7ad98",name:"TPT - NO - AEM - Floodlight - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/bygg-din-bmw.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC70bc0f899ed444c4abb3b5b547b3cc29-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd3fa2630bdbd425e8853e7dcc10605f0",name:"TPT - DE - AEM - ContentSquare - Confirm Save Configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"confirm_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC530a881edcce43579b09ae8eeef7967f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4ba82b0095b14e07b2ba4b3c8416257c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd09c0f67caa545dbae20454b65ffc569",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC59f50a3243be4b788745cf17f8d3cadd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9dc072b2b01e48d098a6a14ee6511fb9",name:"TPT - LU - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbffaed0f99984d3db96c742c3df37e3f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7e7206cd4814965816fd24a30bdfd49",name:"TPT - ES - AEM - Yahoo - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40fe3ee7656c42f3bba8aa56710bc947-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb5f631c00d2c4486b0e5b3089a6e0ede",name:"TPT - BE - AEM - Facebook - Site Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCab0b894bc7934718b793c1c85fd1f023-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a7d15e8e5bd4358b04a9618b28430f0",name:"TPT - BE - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1fd9f5fbc28948698a082e9b0e9d1f51-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0dfda7dbbdf34cf1881a322da856d1f2",name:"TPT - CA - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf5532e535352492f9b2bd44a7c0dd42f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80ea616a99a34037b42a969330ea8c9e",name:"TPT - AU - AEM - GtagDC - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCca64f998eab0454997d0d4e80fb6117b-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d19a59ed677401fac60036bb4404a54",name:"TPT - SK - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sk/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd3923db87edd4ed7b527971ef4628fbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfdc4ee192cdb4f118d90f3c406a530c9",name:"TPT - JP - AEM - Adform - iFrame TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe5a727ca48a448dfbd06c67b93213037-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0aa7d5f7c7e4cf5a22d240c540f446e",name:"TPT - SK - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa052aa108bee4df89dffc3e818cfba3b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2e6ae271f67340b39c53e69c189bbcc1",name:"TPT - HU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC451044a9adad4ad6ae69e6bbfbfae444-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLca02064813544ec581f418d4d57a220c",name:"TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),a=t[t.length-1].toUpperCase();"UK"==a&&(a="GB"),"COM"==a&&(a="DE");var o={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:20,CES:0,Psyma:60,Other:20}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}}};if(("KR"==a||"GB"==a||"FR"==a||"DE"==a)&&(null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e])?(npsValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0),"KR"==a||"GB"==a||"FR"==a||"DE"==a)return null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e])?(cesValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL").get("page.pageInfo.pageName"),t=_satellite.getVar("topLevelDomain");return!("all-models"!=e&&"nsc > all-models"!=e&&"konfigurator"!=e&&"nsc > konfigurator"!=e&&"configurateur"!=e&&"nsc > configurateur"!=e&&"configurator"!=e&&"nsc > configurator"!=e&&"all-models-con-entry"!=e&&"nsc > all-models-con-entry"!=e||"bmw.de"!=t&&"bmw.co.uk"!=t&&"bmw.fr"!=t&&"bmw.co.kr"!=t||(console.log("condition fulfilled"),0))}catch(e){var a={from:"TPT",type:"Rule",name:"TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF"};_satellite.logger.error(e,a)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC37b18766d5794a83818c6f62203df307-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcb25805508c54187bdad28ff40e0b7e0",name:"TPT - CZ - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk_ini"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC674e92629817449391b988746f3c9357-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3d117d7a06344485ae25cfcea47fb5eb",name:"TPT - AT - AEM - Adform - Brochure form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb658e0bfd584407d8bbb1a6442133ac9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4bab2c80db724ed2b5a75438df765b9a",name:"TPT - GR - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/el/publicPools/success-pool/success-page-tda.business-forms.html|/publicPools/success-pool/success-page-rfo.business-forms.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf6ca65558519472fb43017333c3296bd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL964abf44a41d4c9894288b81f9f5e60e",name:"TPT - SI - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC737abe8806fd484aabe9037f188844a8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3654f5a4c2546af908a2bae57874c16",name:"TPT - IE - AEM - Adwords - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb2ed46cef8ee4d55a93f7f2e2b44b879-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd76b1ccef42d408e828a53d6b2578e8d",name:"TPT - TH - AEM - GtagAW - RFO Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbe25f6e0567142b184cb1318594cf59f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLe96d23af462e45ebb97122fae63d3722",name:"TPT - NL - AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5bee9bbaed58478ba3578f772211efed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba191a6d140040499637f133cd760f11",name:"TPT - SK - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbce945d8c5df4746883fe2f1e207348e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdf012a295df94ba3a1121a48757fd9d5",name:"TPT - MY- AEM - Affle - RFI Forms Submit - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/iX3/2021/keep-me-informed-confirmation.html"},{value:"/en/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0c2ae4b212a347cf806c7427c5888744-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f3256ee6a08441a9b8d14477133ea94",name:"TPT - RO - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9d106964f66e44b8a6a125f65b10eabe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5f3c46cfb7c94113b7fece2cac41f2ec-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa41e501fedb14632811081254d3af182",name:"TPT - NL - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa6c6549c3e7d49b6983620e65ca8fe13-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d48bce0d8534d8282487a24015572ef",name:"TPT - DE - AEM - Adobe Campaign Pixel - BMW Submit Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formregistration .multistepline__submit div:nth-child(2) button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8b378f5073ab4ad880f08b5f0c7cf3ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9415f6d733cf448e968ce941fccdf6b9",name:"TPT - UK - AEM - Facebook - iFrame Form RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6b6b724c75ab4b24820ba71f9ac8a043-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c4fd1048c024b5db63f7fd95a4eada3",name:"DCR - All - AA - TRON - PV",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tron_pageview"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{
source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.pageInfo.destinationURL",window.location.href),s=_satellite.getVar("smartPreviousValueManager"),n=new Date,i=n.getHours()<=9?"0"+n.getHours():n.getHours(),r=n.getMinutes()<=9?"0"+n.getMinutes():n.getMinutes(),c=n.getSeconds()<=9?"0"+n.getSeconds():n.getSeconds(),d=n.getUTCHours()<=9?"0"+n.getUTCHours():n.getUTCHours(),l=n.getUTCMinutes()<=9?"0"+n.getUTCMinutes():n.getUTCMinutes(),u=n.getUTCSeconds()<=9?"0"+n.getUTCSeconds():n.getUTCSeconds(),m=_satellite.getVar("searchDefaultProduct");if(t.referrer=a.get("page.pageInfo.referringURL"),t.pageType="error"==a.get("page.category.pageType")?"errorPage":a.get("page.category.pageType"),t.pageName=a.get("page.pageInfo.pageName"),t.prop1=a.get("page.pageInfo.pageName"),t.prop2=a.get("page.category.pageType"),t.prop3=a.get("page.category.primaryCategory"),t.prop4=a.get("page.category.subCategory1"),t.prop5=a.get("page.category.subCategory2"),t.prop13=a.get("page.attributes.brand"),t.prop27=a.get("page.pageInfo.pageID"),t.prop28=a.get("page.pageInfo.variant"),t.prop29=a.get("page.pageInfo.version"),t.prop30=a.get("page.category.subCategory3"),t.prop46=a.get("page.pageInfo.author"),t.eVar7=a.get("page.pageInfo.language"),t.eVar8=a.get("page.pageInfo.geoRegion"),t.eVar18=a.get("page.pageInfo.pageTitle",document.title),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop19=a.get("component.componentInfo.componentName",a.get("component.-1.componentInfo.componentName")),t.prop41=a.get("component.category.componentType",a.get("component.-1.category.componentType")),t.prop42=a.get("component.category.primaryCategory",a.get("component.-1.category.primaryCategory")),t.prop43=a.get("component.category.subCategory1",a.get("component.-1.category.subCategory1")),t.prop44=a.get("component.componentInfo.componentID",a.get("component.-1.componentInfo.componentID")),t.prop45=a.get("component.attributes.componentVersion",a.get("component.-1.attributes.componentVersion")),t.eVar134=a.get("component.attributes.touchpoint",a.get("component.-1.attributes.touchpoint")),t.prop51=a.get("event.category.subCategory2",a.get("event.-1.category.subCategory2")),t.prop52=a.get("event.eventInfo.cause",a.get("event.-1.eventInfo.cause")),t.prop53=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type")),t.prop54=a.get("event.category.primaryCategory",a.get("event.-1.category.primaryCategory")),t.prop55=a.get("event.category.subCategory1",a.get("event.-1.category.subCategory1")),t.prop56=a.get("event.eventInfo.eventName",a.get("event.-1.eventInfo.eventName")),t.prop57=a.get("event.eventInfo.eventAction",a.get("event.-1.eventInfo.eventAction")),t.eVar9=a.get("event.attributes.iframeURL",a.get("event.-1.attributes.iframeURL")),t.eVar34=a.get("event.eventInfo.effect",a.get("event.-1.eventInfo.effect")),t.eVar71=a.get("event.eventInfo.attributes.requestedURL",a.get("event.-1.eventInfo.attributes.requestedURL")),t.eVar35=a.get("dealer.dealerInfo.dealerOutletBuno",a.get("dealer.-1.dealerInfo.dealerOutletBuno")),t.eVar39=a.get("dealer.dealerInfo.dealerOutletName",a.get("dealer.-1.dealerInfo.dealerOutletName")),t.eVar40=a.get("dealer.dealerInfo.dealerOutletID",a.get("dealer.-1.dealerInfo.dealerOutletID")),t.eVar41=a.get("dealer.dealerInfo.dealerGroupName",a.get("dealer.-1.dealerInfo.dealerGroupName")),t.eVar42=a.get("dealer.dealerInfo.dealerGroupID",a.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar43=a.get("dealer.attributes.selectionState",a.get("dealer.-1.attributes.selectionState")),t.prop40=a.get("user.profile.attributes.loggedInStatus",a.get("user.-1.profile.-1.attributes.loggedInStatus")),t.eVar15=a.get("user.profile.profileInfo.type",a.get("user.-1.profile.-1.profileInfo.type")),t.eVar16="object"==typeof a.get("user.segment",a.get("user.-1.segment"))?"datalayer field empty":a.get("user.segment",a.get("user.-1.segment")),"object"==typeof t.eVar16&&(t.eVar16="datalayer field empty"),t.eVar17=a.get("user.profile.profileInfo.profileID",a.get("user.-1.profile.-1.profileInfo.profileID")),t.eVar19=a.get("user.profile.address.stateProvince",a.get("user.-1.profile.-1.address.stateProvince")),t.eVar20=a.get("user.profile.address.country",a.get("user.-1.profile.-1.address.country")),t.eVar21=a.get("user.profile.profileInfo.language",a.get("user.-1.profile.-1.profileInfo.language")),t.eVar136=a.get("version"),t.eVar120=a.get("cart.cartID"),t.eVar122=a.get("cart.price.currency")||a.get("transaction.total.currency"),t.eVar123=a.get("transaction.attributes.paymentMethod"),t.eVar125=a.get("transaction.transactionID"),t.server=location.host,t.prop14=d+":"+l+":"+u,t.prop15=i+":"+r+":"+c,t.prop31=s.get("pagePrimaryCategory"),t.prop32=s.get("pageSubCategory01"),t.prop33=s.get("pageName"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.prop50="page title",t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.campaign=_satellite.getVar("campaign"),t.eVar4=o,o.length>255&&(t.eVar5=o.substring(255,o.length)),t.eVar6=document.referrer.split("/")[2],t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar14=s.get("url"),t.eVar28=s.get("componentSubcategory1"),t.eVar29=s.get("pathName"),t.eVar61=t.eVar62=t.campaign,t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar132=window.navigator.userAgent,t.eVar137="AEM6",t.eVar161="datalayer field missing",t.eVar162="datalayer field missing",t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),s.update("pageSubCategory01",t.prop4),s.update("pagePrimaryCategory",t.prop19),s.update("url",t.eVar4),s.update("jcrPath",window.location.pathname),s.update("pathName",t.eVar12),s.update("pageName",t.prop1),s.update("componentSubcategory1",t.prop43),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var b=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(b),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}var g=a.get("event.eventInfo.eventPoints",a.get("event.-1.eventInfo.eventPoints","0"));t.events=t.apl(t.events,"event970="+g),a.get("event.eventInfo.eventName",a.get("event.-1.eventInfo.eventName")).indexOf("form")>-1&&(t.prop6=a.get("page.category.primaryCategory"),t.prop7=a.get("event.category.subCategory1",a.get("event.-1.category.subCategory1")),t.prop8=a.get("event.eventInfo.effect",a.get("event.-1.eventInfo.effect")),t.prop9=a.get("event.attributes.form.stepAmounts",a.get("event.-1.attributes.form.stepAmounts")),t.prop10=a.get("event.attributes.form.formVariant",a.get("event.-1.attributes.form.formVariant")),t.prop11=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type")),t.prop16=a.get("event.attributes.form.stepName",a.get("event.-1.attributes.form.stepName")),t.prop17=a.get("event.attributes.form.rfxID",a.get("event.-1.attributes.form.rfxID")),t.prop18=a.get("event.category.subCategory2",a.get("event.-1.category.subCategory2")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18",","));var f=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type"));"video"!=f&&"audio"!=f||(t.prop36=a.get("event.category.subCategory1",a.get("event.-1.category.subCategory1")),t.prop36=t.prop36.indexOf("%")>-1?t.prop36.slice(0,-1).split("_").slice(0,-1).join("_"):t.prop36,t.prop37=a.get("event.category.subCategory2",a.get("event.-1.category.subCategory2")),t.prop38=a.get("event.eventInfo.type",a.get("event.-1.eventInfo.type")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop36,prop37,prop38",","));var p=a.get("event.attributes.search.unit",a.get("event.-1.attributes.search.unit")),v=a.get("event.attributes.search.state",a.get("event.-1.attributes.search.state")),h=a.get("event.attributes.search.label",a.get("event.-1.attributes.search.label")),_=a.get("event.attributes.search.term",a.get("event.-1.attributes.search.term"));"datalayer field missing"!=_&&"datalayer field empty"!=_&&(t.products+=",search;search;;;;"+m+"eVar30="+p+"|eVar31="+v+"|eVar32="+h+"|eVar33="+_),_satellite.getVar("setTronProductString")(t),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events,","),t.linkTrackVars=t.apl(t.linkTrackVars,"referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar15,eVar16,eVar17,eVar19,eVar20,eVar21,eVar18,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar39,eVar40,eVar41,eVar42,eVar43,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events",",")}catch(t){_satellite.logger.error(t,e.$rule.name)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL77e98447da82421daaa87f00b2c84e6b",name:"TPT - CA - AEM - Facebook - Configure Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/topics/details/bmw-ukl.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d1b7fc9bb9343e8a98f6a1b1d13e258-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed1841c29c2849119bd02d7393678418",name:"TPT - ES - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC51c3b9883acf447e9f60a3f2ff6ba1ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b22c5174bff4a7590f472afd1a21ab9",name:"TPT - IE - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0a6833ce4c8649ba9608ab9fe155522d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a5f4dd521af4744b46ecda6dcce3498",name:"TPT - IT - AEM - Facebook - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC21083e0a96a1423f934d547c5cdcb9e3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa34c9a3e79ed484b9b8afbcafea8b7bf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb12e485923f14aaa98d187ff4fe40cf2",name:"TPT - TH - AEM - Taboola - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC30144a6ece5f4dcd94a59836a7f1cf76-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa5c7e22cc7184ec698c01e25bc30dae7",name:"TPT - RO - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0f3a32a7cda94c9d9014fb16f60dce1e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff437d0578e54de78a7ea024ad2a0950",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCebdd0bd7550641ba9f06c79fa1d1a10e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c159b74bd4345e1ba70d0d26c743303",name:"TPT - PT - AEM - Facebook - FormTracking - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd22f063c395744d18b6f0093ea292f0f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL54720c19923448e491ccf86c46c141b5",name:"TPT - RU - AEM - MailRU - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcb206264fd8d49ca95cb7d0b8b840e67-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbc038731cf4a4bb9997924c9c22c4ed3",name:"TPT - CA - AEM - Facebook - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3185be47fdc14edca244213bf23f9e41-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0bd8b3302bd24cf1a2ac6603a4fd372b",name:"TPT - NL - AEM - Gtag DC/AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC52f7fd7440da4da796267a9800d95af3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeacd431e0c9041959dc80b7ad01e5e49",name:"TPT - NO - AEM - Adobe Campaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC12db73d83a3a4024aecd5ce110be9f6f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4f5fedad318453095e1a716c5221bb9",name:"TPT - TH - AEM - GtagAW - TDA Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d5d36dac131441bb8684dbeab611ebe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLd15164e7ed814157bf38a84e9c1c5365",name:"TPT - UK - AEM - GTagDC - Register for Updates Form Submit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2963_dc.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC87754c1361724fae9e6cabd7559ec6bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2fe25787014b4c7ba5987842f80a1eda-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf0d72f1ec92249438b0b4a2e6484b084",name:"TPT - CZ - AEM - Sklik - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6bd0431a4eee474f825295c97c701b62-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb26fb37e269841c89d2e2dc1f57d1fde",name:"TPT - UK - AEM - QuantCast - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC231bd14bcec94dba8719e6b4179f70be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83170d0d9ab749f6afc9c7e93cf0fadb",name:"TPT - ES - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa3c240b7cdd24bd8b230eea9712d370e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d1e1d9050fc47cb989ce32ebaecef6a",name:"TPT - FI - AEM - Adwords - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5e1ae99a42de427a895586aefc3ecfc1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83a3243f16c742beb71388855ab7f910",name:"TPT - SE - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0f26fb31053d44379f32205bb16264bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94c9ee43b1324ce0a2cae7e3dba9bed5",name:"TPT - JP - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.co.jp/ja/topics/service-and-accessory/accessories/catalog/downloads.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd5df7be7e9b746ff990ec7f482d94499-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb94aa358bd9f47d8a54a5bc24953f228",name:"TPT - AT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0471cf2a93dc45d598eb1c9bd9406452-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL95f41e428c1d410eb7d940fbb9ecff21",name:"TPT - CA - AEM - DoubleClick - Lifestyle Find a Retailer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tw-no-underline tw-m-0 tw-text-grey-900 tw-px-200 tw-text-400 tw-whitespace-no-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){return"Find a Retailer"===this.innerHTML}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-lifestyle.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4a33b534c3974719ba08ce87ccb522e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3ff7749afea049b4bb66637d5801e2e0",name:"TPT - NO - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.no/no/ssl/finn-bmw-forhandler.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9ecf3782692f4feea97abbf158acecbf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb742eb5e7eb41de89acc93125a04ca3",name:"TPT - BG - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0c8a6edc7d884b62a2dd91ad8ce1d2a6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b54a6768c074be7bfc1f49abe7838a4",name:"TPT - SG - AEM - Lightning  Bolt - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC762a4bc3496d43a5891d7d0721ccc46e-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc8309448ad664899b96eb353ce899c29",name:"TPT - IT - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6cb44baf1bd646d596609072c20826c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3aec744ff41b4500b3099e28af781349",name:"DCR - All - AEM - AA - Tech Hub",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_filter"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_series_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_body_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_load_more"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_open"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_close"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_link"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var o=_satellite.getVar("snapshotDL"),s=_satellite.getVar("smartPreviousValueManager"),n=o.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(a);var i=_satellite.getVar("setDefaultProductVariables");i.category="new vehicle",i.merchEvars.eVar53="new car",i.merchEvars.eVar54="build to order",a.products=i.toString(),a.prop59=o.get("product.-1.attributes.configID"),a.eVar59=o.get("product.-1.attributes.configLink"),a.eVar135=o.get("page.pageInfo.devEnv"),a.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,s.update("pageName",a.prop1);var r=_satellite.getVar("AA-componentDefaultValues");a.prop2=o.get("page.category.pageType"),a.prop3=o.get("page.category.primaryCategory"),a.prop5=o.get("page.category.subCategory02"),a.prop19=o.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop42=r.primaryCat||"datalayer field empty",a.prop43=r.subCat||"datalayer field empty",a.prop44=o.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=o.get("event.-1.eventInfo.eventName"),d=o.get("event.-1.eventInfo.effect"),l=o.get("event.-1.eventInfo.eventAction"),u=o.get("event.eventInfo.cause");switch(a.prop12=o.get("event.-1.eventInfo.timeStamp"),a.prop13="bmw",a.prop50=o.get("event.-1.eventInfo.element"),a.prop52="default",a.prop53="ux",a.prop54=o.get("event.-1.category.primaryCategory"),a.prop55=c,
a.prop56="interaction",a.prop58=o.get("event.-1.eventInfo.eventPoints"),a.eVar17=o.get("user.-1.profileInfo.visitorID"),a.eVar34="nsc > "+d,a.eVar71=o.get("event.-1.attributes.requestedURL"),a.eVar136="2020 - 06- 15 tech_hub",l){default:a.prop51=l,a.prop57="internal click";break;case"tech hub series selection":a.prop51=l,a.prop57="drop-down menu";break;case"tech hub layer open":a.prop51=l,a.prop57="open content";break;case"tech hub series selection":a.prop51=l,a.prop57="close content";break;case"tech hub link":a.prop51=u,a.prop57="internal click"}a.linkTrackVars=a.apl(a.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop1,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59"),a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")}catch(o){_satellite.getVar("catchblock",t)(a,e)}}},trackerProperties:{}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Tech Hub",linkType:"o"},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:5e3,delayNext:!0}]},{id:"RL09ef61475a624ae4ae403d61d7140480",name:"TPT - PT - AEM - GTagDC - BMW Prime Subscription - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"Client-src-prime-subscription-components-DynamicTable-DynamicTable__button--1_GkB",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc2f07eddbb294bf38433c61d2eadef9e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL93fbeb1cfaa2488baf77d2933b63e36e",name:"TPT - BR - AEM - Adwords - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2c2c8c78c28440d3847925b7edf8362d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f2aef531e584f1a8eb3f32e7f64c95d",name:"TPT - BR - AEM - DoubleClick - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCacdbe9c0a5f54a82be39f9b6c0162d88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd5861a49a6c24a3c8bafaad3b6782b3c",name:"TPT - BE - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8730c8a9ef54499f92c98429d559aef8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb8d1eb7222d0414cbf8b25e2aeed03d3",name:"TPT - SG - AEM - Apex - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7774154225e245f8a57eed77a88ac0c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9528b4b0a3654df598b52acec206acf7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL34d1a59676184f20996154999bdd5e06",name:"TPT - BE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6100d25964d94ef3be5a9562ad83411a-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLa92262b5c4c3458ea40b3e842cc0c64b",name:"TPT - SK - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfc277b15817043b4b07404b054296886-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL029023be84fd4de8b71905cac8f74fb9",name:"TPT - JP - AEM - Usabilla NPS 3.5 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.co.jp"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),a=t[t.length-1].toUpperCase(),o={JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:0,Psyma:56,Other:24}}};return null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e])?(npsValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e])?(cesValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC422903b601d34c9fa5484edb40db5fc2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53b8bf17c33d4014b37141f03489cfef",name:"TPT - BE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC217822549ad84c289d9c43bcf70f2f0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd28896ecc3e44e578de558aba6516fff",name:"TPT - RU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb2553bd15a5848df8da6140dae40a10a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8dc56137eb6b466596397a1b5c6ae657",name:"TPT - NL - AEM - Adform - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC434dc7a1a4b84c1e829a9d1fd89fa6ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe996de6cf41e4d689f780898f75a0a45",name:"TPT - IE - AEM - Gtag_DC - PHEV Book Virtual Appointment Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb8b5a0d087ad4f85bf461ffdf11df808-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7fc84e237849496ebeda86491ae7b0bb",name:"TPT - FR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC116e57a9923a41c8a35a98449c6c7893-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa2868a7f8f4d40f6b47920f6d72571f9",name:"TPT - BE - AEM - Adform - Form Submission  - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/success-pool/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa0744908c4614d188956bc41f40d0a5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72560f131ebb49858e7b906564502972",name:"TPT - HU - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC022f5c52067a4ad9884348a29475ca68-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcec52a72a1214556928ff06dd8d91098",name:"TPT - AT - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5ba90c506fc243319305e62e99fa3d2a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5196fe5583ae40d49dfc8186b5cec99b",name:"TPT - DK - AEM - Hotjar - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4ccc0b842750436ab4982554675f8ab5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4bec066256104572a4828e9629179659",name:"TPT - NL - AEM - Adform - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf04e575ce0ea411f9d8c7940a62c6a37-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba3b2347da4c4d7e8b994b165f584896",name:"TPT - CH - AEM - GtagDC - TDA FormSumbmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC19d62908d9744055b82d3c300882fbde-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb29aaf4e49c34a3f9c67ba9d4ec56da2",name:"TPT - SI - AEM - Doubleclick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC03c83bf337f24709842090147411007c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd986e3f1b4344781bb09a15037d13738",name:"TPT - RO - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC07ac44fe44444a008faeb8838716421d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL942a42cf32aa490d8d22210c364dbe6a",name:"TPT - UK - AEM - GTagDC - TDA Form View - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdfe43f2a69d64f64a511afbbe4ab6675-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7a07c6710cb4d43a63676b3cc37b509",name:"TPT - LU - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"button next-best-action ds2-dlo-dealer-details--button dlo-button ng-binding ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC71cb4bc6206749e5909f781039fd7ec7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e29b8a5ddc441cb930981e765c898a7",name:"TPT - PL - AEM - Webchat Initiate - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbcb251a97905402e9d47e2f75b29df12-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8570d451d02f4e8796de68d2efc28627",name:"TPT - SG - AEM - Adform - Download catalogue - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download catalogue",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/accessories-catalogue.html",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8e957bf83845458b95628acebbd20c2b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf4817f90b5214fdbbe5123848f0ad4bb",name:"TPT - AT - AEM - Adform - Local form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc4961335b5e34d46aa90839674788029-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33a986f82e05411281579d2df6690363",name:"TPT - FR - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC19fe0a4aed4e45bd94dd8f1462e50b11-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f83991c8b1247e7bb6096e6353b22cb",name:"TPT - IT - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6e06c736a1344735853adc70b4bd4bf4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5641c44d5f7a47f694b4ad9d484251d6",name:"PLR - ALL - NSC - AA - share Campaign with IUCP",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC181b07b580334ac5ba7e2680e0b3c69e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24a7c102aebd4523bd575ee17e423945",name:"TPT - MY - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC99f94b05ec2f47f0aad1dc3daef600f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL16008337a35a4a6da83558fc3eba7dcd",name:"TPT - UK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbda0ab75dc734a6aabe220b2194e7ca4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc1ed7225f4854f8e9c2b69aa4b4e0a5e",name:"TPT - GR - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC45399708fe0b4434b05d1fcd5104b267-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa5af46038ba54c998db9afae710bdf1c",name:"TPT - NL - AEM - Adwords - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"local forms"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC323145cfdf9a4770ab392bfffbeb8e0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc027eb2b93f943b1ad40fe8414fa4b0b",name:"TPT - AU - AEM - GTagDC - BMW Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.com/en-au/offers-and-services/corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb37d7e7842bd467190a09030190b1c39-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf59212b814914b7e9905056b0ac317dc",name:"PLR - DE - AT - Vibe segments",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visit Time Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8716937b38e64fd3ae74fbea2fdfc476-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc61c6292235c4a04b064378c997e6f20",name:"TPT - IE - AEM - AdWords - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCff74a25367ab43989978f133dc0e0c9f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf9168051a68f438c9af5ba79c522fdeb",name:"TPT - BG - AEM - Adwords - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9cc450b36f604f819914915bfb61648b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL64747db9f9ab4a6280a3ab59b61d4e5a",name:"DCR - All - AEM - AA - Stock Locator Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.effect"),s=a.get("event.-1.eventInfo.eventName"),n=a.get("event.-1.attributes.searchResults");if(_satellite.getVar("smartPreviousValueManager"),t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "),t.pageName=t.prop1,t.eVar34=a.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sl > click dealer email")>0?t.eVar34="stock > click dealer email":t.eVar34=t.eVar34.replace("sl > click dealer phone","stock > click dealer phone"),t.eVar34.indexOf("sl >")<0?t.eVar34="stock > "+t.eVar34:t.eVar34=t.eVar34.replace("sl >","stock > "),o&&o.indexOf("search filter selected")>-1&&(t.prop56="search",t.prop55=n,t.prop53="vehicle"),-1!=o.indexOf("/ssl/requests/rfo")||-1!=o.indexOf("/topics/offerte")||-1!=o.indexOf("contact.bmw.fr")||-1!=o.indexOf("/checkout/cart")||-1!=o.indexOf("/forms/angebotsanfrage")||-1!=o.indexOf("/contact/campagne-stock-locator")||-1!=o.indexOf("/forms/rfo")||-1!=o.indexOf("/ko/fastlane")?(t.events=t.apl(t.events,"event375,event376"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event375,event376")):"sl > start"==s&&(t.events=t.apl(t.events,"event371,event372"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event371,event372")),_satellite.getVar("snapshotDL").get("page.pageInfo.variant"),t.prop42="stock locator",t.prop43=-1!=a.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator")?"used car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,"digital > new car stock locator"===a.get("component.0.componentInfo.componentName")?(t.prop19="central new\xa0car stock locator",t.prop54="central new\xa0car stock locator"):(t.prop19="central used\xa0car stock locator",t.prop54="central used\xa0car stock locator"),"sl > start"===(s=a.get("event.0.eventInfo.eventName"))||"sl > interactions"===s||"sl > ss: start"===s||"sl > ss: interaction"===s?t.prop56="interaction":"sl > errors"!==s&&"sl > ss: errors"!==s||(t.prop56="error"),void 0===o||-1==o.indexOf("banner slided right")&&-1==o.indexOf("vehicle details clicked")&&-1==o.indexOf("banner slided left")&&-1==o.indexOf("back")&&-1==o.indexOf("banner slided with pagination dot")&&-1==o.indexOf("ss : show vehicle details clicked")&&-1==o.indexOf("disclaimer layer closed")&&-1==o.indexOf("ss : see more vehicles clicked")&&-1==o.indexOf("show all vehicles")&&-1==o.indexOf("accordion")?void 0===o||-1==o.indexOf("dealer selection")&&-1==o.indexOf("sort lowest price")&&-1==o.indexOf("location selection")&&-1==o.indexOf("sort")?void 0===o||-1==o.indexOf("stock locator started")&&-1==o.indexOf("ss : similarity search started")&&-1==o.indexOf("disclaimer layer opened")||(t.prop53="automatic"):t.prop53="success":t.prop53="ux",t.products)t.products.indexOf("search")>-1&&(i=_satellite.getVar("setDefaultProductVariables"),t.products+=i.toString());else{var i=_satellite.getVar("setDefaultProductVariables");t.products=i.toString()}t.linkTrackVars+="prop27,prop56,prop55,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,prop33,eVar28,prop31,eVar14,prop53,prop54,products"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{
modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stocklocator",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLf3db637bd1f84995b7bb0a999261df4a",name:"TPT - PL - AEM - DoubleClick - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC27b41a0ba1494e2b98a60918549b1ce2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6e33d8af8f8546e8877f6fcdcc28448b",name:"TPT - NL - AEM - Adwords - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfb9ae48bd8c8446d836fba604fd8235e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabdf27c865064ac9b0bc9ed15841ae41",name:"TPT - AT - AEM - gTagDC- Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC00531b7fae324456a0fc3554405c03b4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2bdd17faf80f4936969671f930c74ac4",name:"TPT - CZ - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc9165403fe69494dae1623f9407b1e17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL69926e76f08d4a32ae26eae81cf16449",name:"TPT - HU - AEM - GTagDC - ValueService_FormView - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hu/topics/details/valueservice.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC33eaa6566ad64a778e6085f356b57b40-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3757b840cb444758948157b8864b8a17",name:"TPT - PL - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC09c1d8e8fcb14f749841d115f60a49be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b207935dda94ad39070d0a21a88f98c",name:"TPT - GR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcd40f7db4a65448ab6b0e7545025b285-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdb9cf9e0d0b649cb8cb7e600413c012a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa948a3c031e049589d65acf3c199a047",name:"TPT - MY - AEM - Amobee - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3c864e00cbf94c37b295587172b2dc83-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5d175189c3494e4c9cf62148073714f1",name:"TPT - SG - AEM - Adform - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC617a559a03054978a2e131ba4e56ec4f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc53c640d34b1495186e40ea8686b5e7f",name:"TPT - HU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaee516f57dec4f16bd869ba5b1ddc540-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL776afd75827f4570a6019b1defc825a0",name:"TPT - HU - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9c86a1c3b69b4db38383702ea93394f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94666a27e5b7456cb9375e4731b2baec",name:"PLR - DE - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0},{value:"/all-models",valueIsRegex:!0},{value:"/index",valueIsRegex:!0},{value:"/home",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC52507807148e49babf8022ceba7ab80c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa8967309716c4fd89424bfcf3c5704b6",name:"TPT - MY - AEM - Sizmek - Financing Rates From 0.33% (Test Drive Click) - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Test Drive",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/exclusive-offers/attractive-financing-rates.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa80b5569be614e448ee4f61f679bde2d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ded78202f4843b8aa3b82d10ca63299",name:"TPT - PL - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC021ec2611f32431e827ac32989cd295e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL008ca45c9dfc45c39179660574588eb6",name:"TPT - DE - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCecb98685e0424af79b067c69b58c9151-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3b955d1644d44e8096b789a9c9e23d7a",name:"TPT - RU - AEM - DoubleClick - Started Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC35afb097f0604173a2e719205b69592e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL67fa03674a944cb59e51372bdd24bfe7",name:"TPT - GR - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC99becb8d4c5f4bcaa32993aef4023255-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb50500c32e434917b2fffbe9f7ad5e0c",name:"TPT - IE - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC01a0f6350d764d7ab0e2e2c87fa4d433-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd1adf83b9d4e406ca940bf4b674f5ede",name:"TPT - AU - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6fe588303e8340178f4847e1742e84d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdc638276abb94ec583f684065807343f",name:"TPT - HU - AEM - Facebook - Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf0272126155a496e9aecf273d902f3de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL413557381ead4fa5ab1319a7981c97cf",name:"TPT - BE - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa63a19163c724bae87360459a0b33d5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaa0381f45a7b4c95a977306d1d10ce95",name:"TPT - IT - AEM - Floodlight - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaf5a381c3ac94e78a7fb78c2da9a8c7c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL842ebae8ea0241d9ad88e50b121415de",name:"TPT - PT - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc6aae6f7b9754234bfd745ed8e2f6701-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL08acfa593de3461cba7ddf88f128c684",name:"TPT - SK - AEM - Webchat - All Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0d66a981d6654cdbb24204aceaef3be9-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL31fa7c0fba4344a581888a68dd61be3c",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3018da4676e0497e8d4c7539f5fb9640-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c5bbdfbee7e45bda0d5c988d51b1216",name:"TPT - IE - AEM - GTagDC - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5e895c96eecb4c89815bd22fe69591cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28189e3d03e44149a7392fc848b73f88",name:"TPT - PT - AEM - Facebook - Save configuration - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div > div.row.row-show-icons > div:nth-child(8) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%URL%",rightOperand:"https://configure.bmw.pt/pt_PT/configure/F40/7K11/FEGAT,P0300,S01CB,S01DF,S01DZ,S01TK,S0230,S0240,S0249,S02PA,S02VB,S0320,S0423,S0428,S0450,S0493,S04GN,S0508,S0544,S0548,S05AQ,S05DA,S0654,S06AE,S06AF,S06AK,S06C3,S06S3,S06U2,S06UX,S06WB,S07LC,S07NH,S0845,S0889,S08KA,S08R9,S08S3,S08TF,S08WL,S09QX?expanded=true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe6986ac7ea4146ee83270f6b98dede2a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL117b1a183786430f939c2fb507497c7a",name:"TPT - IE - AEM - Adwords - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3459dcebddaf40ee9bc5c86a30d05fbe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2778d066a96a4f9cbbc77ee717db24d9",name:"TPT - SI - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa7f7740d80144b6da03b3479d55eb5bd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a2f5a94f3a841e09d2d79aec795db16",name:"TPT - FI - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.FI",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa1396d061ff942bab811faf6a87ca23a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL93f33f03e02648779762a3b431308def",name:"TPT - PL - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC92272275f5e64115a4f470225b138ec3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC814cf5c997994a12a51d10883e77b761-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL92f2b2ba3c054f55beab21120fe9d397",name:"TPT - JP - AEM - Adform - iFrame RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC71091d96cc504600a75d8c22ff31b917-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53b72850ed8e4f4c8c9e87e900a43fc2",name:"TPT - FR - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfe7f8965988f4a43abef374ee81c7d64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL163f5d2576d94ec7baeadce700772fc1",name:"PLR - LU - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models/",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC856cc1061bf34c9d91ef156f96fb2b7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba6dfb8de1a24e62b94b00f28b5cc5e6",name:"TPT - BG - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa09ded91603f4b8d83f78b8cbf7e597f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb832e568314a46d38d6ad1161eba326f",name:"TPT - SK - AEM - Adform - SiteSearch - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7aeef1aad1e243d6af6c86215d7f9045-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL83025bcb1ee54553b2c41a632ed14a55",name:"TPT - AU - AEM - DoubleClick - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9c769efc62724354acb3f8b440ac2180-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe45985d105614fc48cedd22cf994725c",name:"TPT - DE - AEM - Criteo - Reserve Vehicle - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#hCaptchaInvBtn",elementProperties:[{name:"data-callback",value:"onHCaptchaCallback"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9445a28e99c24007ae88b1a8d807a4f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f57612d305b433590e158cae651d6e6",name:"TPT - SK - AEM - Facebook - Form Submission - RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6ca4b9c788b743b09cf189fe490d6496-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4859e26dedee461085bd4aeafa5f4591",name:"TPT - NL - AEM - IgnitionOne - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC93a1abeed0f749f1b2c09b251379e1ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94827f419d264e779825c4663106673b",name:"TPT - RU - AEM - Avito - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return document.referrer.indexOf("/ru/general/premium-selection/at-a-glance.html")>-1}catch(e){return _satellite.logger.log("TPT RU Avito"+e),!1}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5790b758bf6b4d57b7b409eebabf6959-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL93c3bc30e6b446ad8e2c4f8ce7ebe8cb",name:"TPT - UK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb14218c4511c4c85b939fe0706c9f0ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd7e88261c34643e5b69249a79b38a7d3",name:"TPT - PT - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC91f851735bd74b8bbbf950999ed355cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8557cbba3598400dbe5e36c4faf71cdb",name:"TPT - SK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0bc8047c925e4a6999d968c0e7ccddfb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ada55c8ad16434f8da3f5bd6dae4d8c",name:"TPT - ES - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb6d4dbd810db4dbb8ab8bfb66523b07e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdbc739fec4364c1eae50fa436b3142ed",name:"TPT - FI - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC051ded821113439bb22019757cc2f7f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf303f61617654afbbd4db098cd78814d",name:"TPT - DE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC80bf0410c3794016a9a8362f435eef0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa33a935ec8b84b1196a033171be4c1fc",name:"TPT - AT - AEM - Facebook - 141g CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/corporate-direct-sales/modelle-141g.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72976641855a41b99ddc5914c12e6c4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfad1b6798daf42edab29f607c27f449a",name:"TPT - PL - AEM - gTagDC - Form Tracking - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6070d56fc83c4d2ebe249f9834dfea8b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d3aeeaf9d344b54a5b656f144021ae1",name:"TPT - FR - AEM - GTagDC - Site search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC297d48bf01084c1996317d7145203a8e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6e051004f37436887b322a9795e6711",name:"TPT - NL - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC58e4e3773d7347a1b3e0f85f4f0113f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL38f5378b380b45b08b2f0a66930d9a4d",name:"TPT - JP - AEM - YDN - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9c878a6380d741e99456a47154653579-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4524be293e124531bab4fc4a3cf5460d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc412789ab4f946d6a3075462cd7abd73",name:"TPT - SE - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb70ee332dd4b426f80d23e61a994001d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda804e71e8eb4a3fb4deaa619844c9b1",name:"TPT - DE - AEM - Facebook - Reserve Vehicle - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#hCaptchaInvBtn",elementProperties:[{name:"data-callback",value:"onHCaptchaCallback"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc5474d8884d041baaabd8ba46d89fc4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2e366fd5878447dc92ffdfaea31c1eb9",name:"TPT - GR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0c6fdc91aafb45f68f1e2a7ddc1492fe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL61425527813e4be2aae3bf4992b0d777",name:"TPT - BG - AEM - Facebook - Configuration Land - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bg_BG/configurator",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3d343e129969407a96b50d904880c1a6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6aa1624416784bcfaefac0cbb33d0e99",name:"TPT - NL - AEM - Adform - SignIn/SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf38a178592b041dabb28da71220297a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL23389d06ba154c109a5cc435a14c069b",name:"TPT - RO - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa4caa89a50ce414d9d77938141e8c227-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2543a9ac3b4240c5aabcb0fc0d343f43",name:"TPT - AT - AEM - Facebook - Success Page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1770604fa3de46bbac2ece1447b97fd7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b6022d0e269490f8271b8ae728ca1ad",name:"TPT - UK - AEM - Adform - iFrame RFC Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i3056_rfc.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf6584c3fa3bd4db68970d7c06f52cb96-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33e81b9ee15e4e66a93e2a1cbb4f041c",name:"TPT - JP- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2b1aefa8a784421ea89ad741162abb0a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL059427acd8024dacac9bf1d093f56409",name:"TPT - RO - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC302d57ecfa204ab48d503a8e34ea69d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29fe0d120608439c9c9f4fcf96e4184b",name:"TPT - SK - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC34a57155ee934e2f82f780babbc4baeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbee4ae9a972643b58c56c5620d00e895",name:"PLR - AT - All Models - Custom Script - Visitor Reco Target ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC671f83adb67b4575abe563118a252125-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLef1706b6ece74d6b87383e32cbb880c9",name:"TPT - MY - AEM - Gtag_DC - Multiple pages -  PLR  - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3a59a627172a4f599a4778942527a9d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeea37d3b04154cbf87feee68ab3f8617",name:"TPT - NZ - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC91de2db810e94d409f56d91ec19e0fb0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8ec16c6bd7564d1d9dbaad211f010c70",name:"TPT - BR - AEM - TikTok - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC618cdd9e0bec408e97d53a531002f152-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0530033230f94971a7dcee55b79515c2",name:"TPT - FI - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd014886ceb1f4d688fe32f7440955afc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7e18efc335d4d1c8d14286316c23b8b",name:"TPT - UK - AEM - Twitter - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4d0507afcdcb484fbad9b4e65db002f4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL78057c1035584f5eaf7f1858bf10a3cc",name:"TPT - CH - AEM - DoubleClick - ROI-SubmitForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'form[gcdm-lead-context="BMW_digital_ROI"] #brochure-submit[gcdm-form-submit]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC16fa332d549f40788ce61c90b51eba7a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6677e2c79bce412cb82c2bacf0f56908",name:"TPT - FI - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC98e055ef0ef5469995b4b7273a60078f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b9be0a39c724d26ac049eef43cd612f",name:"TPT - SE - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1ba924c97dd94837a551684cca3564d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL240f589f0f0a4586a4d93a12c39f05d7",name:"TPT - SE - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5252173bd5b2410e82796e0d7a71286e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3baa96b45ed466fa6e9273420433680",name:"TPT - RO - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC36b81ddd3e9042ae81f6c5d13401415a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc77e4e99cf143d58a8bbf96f90b82d3",name:"TPT - BE - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/success-pool/success-page-rfid.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6f1d7ecd704d4c1592d17bcc1ec2c03c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc21eab0be89a4dcbb24f1eec6262c61e",name:"TPT - FI - AEM - Adform - Vaihtoautot Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautohaku",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/premium-selection-vaihtoautot.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC12f05f05447d4b98ae53ff37a4c45fb3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2d8c64c1dfcb413b9e9cb50d3cb30c85",name:"TPT - CZ - AEM - Webchat Initiate - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdcb1fe4f45eb4c80a8cb3f49c4b863b3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5862777591a1419cb7a049ca49fddd93",name:"TPT - RU - AEM - Doubleclick - Testdrive form sent - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form",elementProperties:[{name:"id",value:"test-drive-second-form",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7ce6de1e37f24284ab95cce3af0d3e7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6721855796ee437fb52d2bf3f9f24539",name:"TPT - BG - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC762ecbfcd1e4438791e44ceede23d07f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLef638d8f8b8b455d9d804788626a99da",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc20c541a66414e61980cc0afe540063f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL38fb01de067b480e903572d86afdf23f",name:"TPT - HU - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0b5b2bb256df4d6690fd7bfcfc9b4eb7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf70e058d0342485da64b2b162f407ce6",name:"PLR - BE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models/",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC64a601b70eb3498fb8c38d296cb4a88e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbca1e7eac85643c790899a729b21d2a4",name:"TPT - MY - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC711eff862d5b467cbdaf9389cb819992-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb52faa580b004d6f9489337834b2d32d",name:"HT - All - NSC - AA - Initialize Plugins",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.getPercentPageViewed=function(e,t){var a=this,o=a.c_r("s_ppv");(o=-1<o.indexOf(",")?o.split(","):[])[0]=a.unescape(o[0]),e=e||(a.pageName?a.pageName:document.location.href),a.ppvChange=void 0===t||1==t,void 0!==a.linkType&&"o"===a.linkType||(a.ppvID&&a.ppvID===e||(a.ppvID=e,a.c_w("s_ppv",""),a.handlePPVevents()),a.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",a.handlePPVevents,!1),window.addEventListener("click",a.handlePPVevents,!1),window.addEventListener("scroll",a.handlePPVevents,!1)),a._ppvPreviousPage=o[0]?o[0]:"",a._ppvHighestPercentViewed=o[1]?o[1]:"",a._ppvInitialPercentViewed=o[2]?o[2]:"",a._ppvHighestPixelsSeen=o[3]?o[3]:"",a._ppvFoldsSeen=o[4]?o[4]:"",a._ppvFoldsAvailable=o[5]?o[5]:"")},t.handlePPVevents=function(){if("undefined"!=typeof s_c_il&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var a=s_c_il[e];break}if(a&&a.ppvID){var o=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+s,t=Math.min(Math.round(e/o*100),100);var n=Math.floor(e/s);s=Math.floor(o/s);var i="";if(!a.c_r("s_tp")||a.unescape(a.c_r("s_ppv").split(",")[0])!==a.ppvID||a.p_fo(a.ppvID)||1==a.ppvChange&&a.c_r("s_tp")&&o!=a.c_r("s_tp")){if((a.unescape(a.c_r("s_ppv").split(",")[0])!==a.ppvID||a.p_fo(a.ppvID+"1"))&&a.c_w("s_ips",e),a.c_r("s_tp")&&a.unescape(a.c_r("s_ppv").split(",")[0])===a.ppvID){a.c_r("s_tp");var r=-1<(i=a.c_r("s_ppv")).indexOf(",")?i.split(","):[];i=r[0]?r[0]:"",r=r[3]?r[3]:"";var c=a.c_r("s_ips");i=i+","+Math.min(Math.round(r/o*100),100)+","+Math.min(Math.round(c/o*100),100)+","+r+","+n}a.c_w("s_tp",o)}else i=a.c_r("s_ppv");var d=i&&-1<i.indexOf(",")?i.split(",",6):[];o=0<d.length?d[0]:escape(a.ppvID),r=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):s,0<t&&(i=o+","+(t>r?t:r)+","+c+","+(document.body.scrollHeight==(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)||e>l?e:l)+","+(n>u?n:u)+","+(s>d?s:d)),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&a.c_w("s_ppv",i)}}},t.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)}}catch(e){var a={from:"AA",type:"PLR",name:"Initialize Plugins"};_satellite.logger.error(e,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeRfl.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RLf7c80800dda249b6a82ec0b9617463dc",name:"TPT - LU - AEM - GTagDC - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7c9bd465d9e54f578b90d54479246e7a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9644a8f8f26c49fba117e47f70852f7c",name:"TPT - SK - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC440843e85af34d30a54a991d01862b79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d498df69d8b4baf9b8539adcf2c4dd5",name:"TPT - BE - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC844bc1db001149ac9aa35848cb9a607e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL326de48eb75e4e6a908b96a769987e9f",name:"TPT - SG - AEM - Adform - E-Brochure Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download e-brochure",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{
value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/m-240i-coupe.html",valueIsRegex:!0},{value:"/en/all-models/2-series/activetourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/2-series/grantourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/6-series/gran-turismo/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/8-series/convertible/2018/bmw-8-series-convertible.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X4/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X5/2018/bmw-x5-at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2018/bmw-x7-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/bmw-m2-competition.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m3-sedan/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m4-coupe/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m5-sedan/2017/bmw-m5-competition.html",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe0b6bae3ab354c268ffa6d0655ad570a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcee9a4e6e4d045efa8202c80d17b35f6",name:"TPT - CA - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2786d53c7d174468bece59c2cfb3c924-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe0bf91c1c3154ffcbb48705e8abd0eb9",name:"TPT - UK - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC11650e985f5942e384e558b7a1a9769d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLacc171dbc49640368f8c85c006e70b38",name:"TPT - IE - AEM - Facebook - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC83471872eb0f41b4824e330491d78acb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8c9ba489353d49139d327e29c0ca3c10",name:"TPT - NO - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC978fcc2a060b467b968143be67bcc5d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0fde303c91654d72a9a2acb2cf158005",name:"TPT - SI - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6f2a66c024034aaf970e7a74b7bf9f0a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbfbcb7b580434105b4d311b136461bdd",name:"TPT - UK - AEM - GTagDC - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc675f91096ab488fb39dfc7bf9de4951-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL3460aaa178f04d4e8357d5376d73eff2",name:"TPT - UK - AEM - GTagDC - TDA Form Sub - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i3223_tda.html"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcbbf01d4b6734fec8007abda40fa79b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL23dacb2108f04aa987b952678cd0c6d8",name:"TPT - PT - AEM - Facebook -  Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"#offer-progress-accordion > div:nth-child(7) > div > div > app-offer-overview > div > div > div > div > div.hidden-print > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC53a0b1ddd8a3439ea4a475b7c195bc2f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f892fe418bf48c4b102df24d016dcd3",name:"TPT - AU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Search Tag ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC13026b33b2394232ad774ae399076314-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1201fd8b89324d6e89ce6cb933031fb3",name:"TPT - RU - AEM - Netrox - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe96f05dc8e9b43ab86d60f91745a3db6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a17fdbf974d457e8e8090867ed53a39",name:"TPT - ES - AEM - Global chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/prueba",valueIsRegex:!1},{value:"/es/ssl/oferta",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/F40-KMI.html",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/RFC.html",valueIsRegex:!1},{value:"/es/informacion/promociones/ofertas",valueIsRegex:!1},{value:"/es/ssl/formulario",valueIsRegex:!1},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!1},{value:"/es/informacion/financia/financia"},{value:"/es/informacion/financia/faqs"},{value:"/es/informacion/financia/bmwfinancialservices.html"},{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!0},{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/informacion/financia/calculadora-financiera.html",valueIsRegex:!0},{value:"/es/coches-bmw/serie-2/gran-coupe/2019/",valueIsRegex:!0},{value:"/es/campanas/",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcce25d0ebbca47c7b36386607ae5a0e3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d014b570d4f48cd914de07d533e92d3",name:"TPT - PL - AEM - Adform - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC285ce32c4c3d4dff9cf6b645a61a8502-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLce69edc6544a486e8dfacaa73692e686",name:"TPT - AT - AEM - Adwords - Adobe form - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC06ca8624e46b448fbfb8b45c9eb6232e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c4373f38a32402db2d945013a4b12a7",name:"TPT - GR - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCeffb7d376a28439685c624e9f0ecb8e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ceb370a88574de6bc569e732e075ada",name:"TPT - RU - AEM - Campaign String to Cookie - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb166c87d1d694024bd3ab291c761153e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc6d4bcb801ba46a8824c15d27469735f",name:"TPT - LU - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC70bb1e2201e547c2a66ced73761efcd6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL725e2cd10863425f9bdd05905c5e2f65",name:"TPT - SK - AEM - Webchat Initiate - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC016c09e40a6c47cfbaa6fe6e29b661d6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL134419a116344d1883d28008bf418251",name:"TPT - ES - AEM - Adform - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];console.log(a),console.log(o),"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2bbf7ae2b849450291c903731d395f33-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fe404f7ae7a4ad4863f1a940badae9c",name:"TPT - DE - AEM - Outbrain - Reserve Vehicle - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#hCaptchaInvBtn",elementProperties:[{name:"data-callback",value:"onHCaptchaCallback"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb6e5bb5ba48844eda594fe4c23c8a6a4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9eae5e160c9444c9b1fe30b5f0f62a94",name:"TPT - BG - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0f670e45695a478b8425feba7f588ca9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL61151b9b5b0b4c05838b864225976c5c",name:"TPT - IE - AEM - Floodlight - Open Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbeb7a574a9b740a2adb4f8f4e7b86e27-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b0527f4a83a472b973632f6cdd7ab55",name:"TPT - AT - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC45c1b88843d542ad95bc9d00d4225420-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL923b63e6d47c4b908ad036f2044693a0",name:"TPT - IE - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1e79d724330f4f1aa4e7e7e38faf076c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL13c0e10f0c2a45da804250a0a48e14e9",name:"TPT - NL - AEM - GtagAW - RFO Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd88395a0658e4fdfba6b0104fc73722f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLeb09a4ec7f2e4790947c6b94e4ac75fa",name:"TPT - IT - AEM - Facebook - Multiple - Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var a=JSON.parse(t.data),o=a.args[1];"tracking-localform"==a.methodName&&(_satellite.setVar("LocalFormEvent",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC75f22f2cd9b8420980709c5f3ffab5c7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL30e6cae3f5bb429eb514a22b382b5fe3",name:"TPT - ES - AEM - MediaMath - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb75b80a776e84d9683a7797a06da4d6a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL12515ea662554a4789030b9ffadc236e",name:"TPT - PT - AEM - Adwords - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3bdf61d622544ff7b9687bec98b1ea5b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe18fad62be4a4b1b81877d9b9ec5027e",name:"TPT - PL - AEM - Facebook - Multiple Form Submission - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc2ad53b8adc543559eea76b03e76e655-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7cbf28c03a4546b1af8260ee18133a4c",name:"TPT - DE - AEM - ContentSquare - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd9ba9254bacc41c2ae304864e837f041-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf9e6f0a17db3484a9f003d28996cff51-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeded7038f60d4b32b21da731623254a9",name:"TPT - GR - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbcdc4c67dd5846e9973eaf2406beda1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24f6a0161b5d48a2a5d44d2fdba1aa62",name:"TPT - NO - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4c01a85fb447478b9d3ec16a6efbd18d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b7889bafb60423f9f00abe347da2750",name:"TPT - DE - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4bc3dc89af1b4e039ca37c493fc2abb6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee68a2ae00f34cad9237ae5198cd306a",name:"TPT - IT - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC58d678223ad0405991db9641466e57a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL67a5077e519a432ea72d4d6fa050d7fe",name:"TPT - NO - AEM - Adform - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6278b0e7632d41329f9c6fbfaa62ef7d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa482df59f4c14ee5bf059c06a4aee073",name:"TPT - SI - AEM - Adform - MakeAppointment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > div.ds2-main-wrapper.ds2-page--row-expanded > div > div > div > div > div > div > dlo-main > div > div.ds2-dlo-main--sidebar > dlo-sidebar > div > span > div.ds2-dlo-sidebar--dealer_details.ng-scope > dlo-dealer-details > div > div > div.ds2-dlo-panel--content-wrapper > div.ng-scope > div.ds2-dlo-dealer-details--button-container > button:nth-child(1)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9ffa4842015a49f8a5983b7d97978208-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc67c400cd7e14b2b9801675d9cedf53a",name:"DCR - AT - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC92ca55d82a094f1ebfa23370a034775b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02a38311f7df44858d6c747c64427e59",name:"TPT - PL - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",elementProperties:[{name:"title",value:"TDA"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf797aa3cfa174a7da77ca3afa4104467-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLea7c2e3b93a24f36ac0083f89289fae7",name:"TPT - UK - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC89a73b760743495aba1f2f91ea8cbdc9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2f93761acc824ba49640a8102611c523-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdd200896479945fc94eed5264f576d5c",name:"TPT - GR - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7d08e2c911c042a6968f5cacb4cc477f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8fbcbb3cf1214626a173946929810a75",name:"TPT - NO - AEM - Floodlight - RFO Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/kontakt/pristilbud.html"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"local > form finished"==e.detail.snapshotDL.snapshot.event[0].eventInfo.effect}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC78297fc64d524df2b109f013f5f44748-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6a36f8aa079247428d92e7760b2ef466",name:"TPT - SI - AEM - Facebook - Configuration Land - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sl/konfigurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9763f18b65bc4406b3c7c7b8b93d228b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda175ab07d4c427898a06683a2bcc397",name:"TPT - NL - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC79a085a7c0614f8bbd43691681ee2788-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbac094e0efaa46a793a3d2864052b07c",name:"TPT - LU - AEM - gTagDC - RFO Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8625d689995d44be89085f2f18112949-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19838f861c524c1c8126434d1a9e298a",name:"TPT - RO - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb3bb62e176c84dae806b73722d9d2281-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfebb060023ca418897716497e2d9a312",name:"TPT - NL - AEM - LinkedIn - All pages 2 - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf8c59028c6a84fc9bac2a278b80a32c0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL63e5081cd7dc484fa5f436edf21a015e",name:"TPT - BE - AEM - Adform - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC93f945931b7744aaac1445d15f3b1a64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaf43d49588014a16bdc84a26887436eb",name:"TPT - CH - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb0ad1d1a576f4aed953714c14ee46e11-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLad3d23cb48984b8aa02d14e664b220b2",name:"TPT - PT - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC56621e43323641789358d4c8f68e8a6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL725dfbd95c684347a91c43309cb5f871",name:"TPT - TH - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Facebook Pixel ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"TH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7a07acf1ccd64a8da62f22f0030dfa1d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa59ea05d373041f88c3d6de0f2b1c128",name:"TPT - LU - AEM - GTagDC - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb6652ec23b074f2fb6e1b2370553e490-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCecd2a40283f347c598c633c3f3e1c4a4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfde4d59ef9104281bd2c03b40b7239b7",name:"TPT - BR - AEM - TikTok - RFO Form Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("addEventTracking")>-1){var a=JSON.parse(t.data),o=a.args[1];"addEventTracking"==a.methodName&&(_satellite.setVar("eventtracking",o),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/integration/solicite-uma-proposta.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd33dcd5be44b4768b420d9c7ecbac331-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL86788832dd7445afb62da1067d9f5ac9",name:"TPT - GR - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCbc537107e5e0459fa00b178184a0a73d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85c0e08363fc41518f53b8d6bb18f376",name:"TPT - ES - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4ba57f4721e9492bb4627d936d1571b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf5571248521f4a888118d802f424218b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa8954a9f2e644750853964bbded3fdf7",name:"TPT - GR - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCded31e9629b84a2f95ee175a8783698a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf9413f686a67417c9d2454db07e0ebbc",name:"TPT - LU - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8b1ca03194f9428d9032569e60e1df79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6fcc19e197ca4a8c9fbff6233e0fe0b4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0326ba87fdd0455290717494885c7252",name:"TPT - SG - AEM - Adwords - Localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc87485ce6b0e458cac1b41629f350e2b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24fbd3033c3a48d3ae67c093426f857d",name:"TPT - FR - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1935f94b945543ec956d1ac2261c5247-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6ffcef6ebd0e46cf9c0339613395409a",name:"TPT - HU - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2349861298734b5e93b5947d984879ec-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL18ff8f20c14745dd90d6688ed88a69ee",name:"TPT - HU - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC74c9b2ec521e4e48b714cd811eaf6243-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC676c192bfde541518a8d835ebbdf8ab2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4d4398304af496cbdc11dc06b1960b4",name:"TPT - PT - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9ca1717ee68e4759a2bab68c2312fe73-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL07c19497085c4f91b97250efe7656448",name:"TPT - IE - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:'a[title="Book a test drive"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3cc07348d15944d2a89f1967a0d3495e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7430c6d57ce349c3ab6eae8f7fee1eb4",name:"TPT - NL - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0df691303908454093cfacd1c23b401b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6770795e1557466daab22c7ae46f0560",name:"TPT - BG - AEM - Adwords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCdd8cde9e51034219a4cbbe0bad577729-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7ef9dd68ff94ab095effdee141c7362",name:"TPT - SG - AEM - Adform - Contact email - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon--email.ds2-icon.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/corporate-direct-sales/corporate-sales-overview.html",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC47dc63cad36b47ce8ac7ef64cdbb9663-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3e683e5c0d44ca39225e920a508c01b",name:"TPT - PL - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC20ec9c834aff4d379c4a5437ad0afd96-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL173516d6009f488082aba2631942c0fe",name:"TPT - PT - AEM - Adwords - Stock Locator Checkout - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4bb055fd74cd4590a773457a29bcf340-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa376440d2f964c42ab1b8037beb4a57c",name:"TPT - IE - AEM - Gtag_DC - 5 Series Dealer Locator Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb5efab3e617e43b9851c00a34319c7b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL36e5bccb646d411f85c82ac735c02e39",name:"TPT - IE - AEM - Gtag_DC - CON_Open_Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc7c187e26e214cb982959d99ac6defa4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc04b0e12f938495b93b789eaf1ac8b06",name:"TPT - NL - AEM - GtagAW - DCS PV - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC76da29dc441a43eea8d5b5cc55c9a9ac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a7a98f460014f729760428439b7a1fe",name:"TPT - PT - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc2b8065548c14662b3a1037ac43b7e17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf21db2ea21c74600b36ff5c58bc3f75c",name:"TPT - PT - AEM - Adwords - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd0436b1bfb9743f98caa0fc8646de966-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcda9afe234bf4992ab24eb484801cebf",name:"TPT - HU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe012e5ce0ba940b68fbe8b7f88242a04-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL284cc16fdc2149fcb5a693408b7d5d31",name:"TPT - FR - AEM - Facebook - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC54ae1d59ad354610a1bed7a28cd5ea9d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL163a88890753493eb7bdef21eddfacb5",name:"TPT - BE - AEM - GTagDC - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7c16333fce3e4ce186ab6e88d6a5e216-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL750461853ff44b02b2e4ed3f305cd63e",name:"TPT - PL - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc9d32725b71045b5973e58b289a5ceba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLecbc80b9c2fa40c4b7097850c78f8e4e",name:"TPT - SK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc4cc759586444c54a3102a2d3c7bd552-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL03c780a2765f4437b39f1c4ce2e93403",name:"TPT - HU - AEM - Facebook - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hu/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC470935b9f2b7459ba47fa6a9cc58f722-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf485fa9796414f2a9fc546e35a958ce4",name:"TPT - PL - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC50c3b244f5ac41b89711ac2d01d7d239-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfa0654ef7df242eb933d5202edb67c4b",name:"TPT - ID - AEM - LinkedIn - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb90a7dc48951485880b4fff145ba306b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3345b373143d46c3b2009312d08fad5f",name:"TPT - NL - AEM - IgnitionOne - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf0808063756d4babaf85f6305fc4731d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL359c6b1968d548e5a19eb58f407c6467",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1789a064c9744b3baccd398b8e12bc30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL52eb0bfc3496424487f2f8954ef5f7bd",name:"TPT - PL - AEM - Webchat - All Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"webpl"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa571709e48bb47fb9ebe86831185177b-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc523d187f36645c6ad6f13909c7af2a7",name:"TPT - SK - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf18a9e2e41b5497a965fac90b87b967c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80564685e61843119062444c1d15170f",name:" TPT - FI - AEM - Gtag_DC - Model Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/footer/osta/hinnastot-ja-esitteet.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/content/dam/bmw/marketNORDICS/bmw_fi/ladattavat/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3c3458c05c2a4cb68bd7752aed3be9b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53894f87b69b4304ad3fae436e8ff94c",name:"TPT - BG - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3cf8e0894cc249adb94fe40067f4457e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL469413361d554bc986bf17fbe12771c5",name:"TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC95445710e5ed4e21bca59b4437df6ee7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5be7a1df006040078a8e8aa3081498d5",name:"TPT - HU - AEM - TradeDesk - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe08e5c0289634415bf9cb756e3122833-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeef9428158a84ce883ae6a973db581ec",name:"TPT - CA - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Usabilla_vs_IgnitionOne%",rightOperand:"IgnitionOne"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC854328ad2fe24a8f83178a7ba89b682e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL37ebe4fdb0fb495aa9fd78c5e67d9d05",name:"TPT - CZ - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa013c41ce034482cad338ca7fc327e44-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0d152075fba401e9c68e91564fab2a5",
name:"TPT - ES - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es/es/configurator.html"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC72bbdd41f34b466cb3623150125ccb66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8a1f431d9c84f2c9e345c03054d0a4b",name:"TPT - IE - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC989f98efb1184a24ab41957f694e635e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc2134a45037f46dfbf12bd6d7c8cb407",name:"TPT - BE - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc06cde253a6449c797489c921e1894b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a678a335fe94a4899da6f654e14fcb3",name:"TPT - SK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9e7bcc16f12a429593f054ec13381c5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7329cf2c62404206b3b13c089db014b6",name:"TPT - DE - AEM - ContentSquare - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC22290df5144a4f95ad2ba3829e0e78d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1021ca8341aa4dd8b77f74230c7d7cba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb1268be847f44aa9d994e7af2641532",name:"TPT - PL - AEM - Adform - RFC Form iFrame - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC05b85ec81efa409da5476baf55954c44-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ab5a895f5904b618a8c204915206c0d",name:"TPT - MY - AEM - Facebook meta - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf9d1cb4d242e4133958fcd8f43cac332-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6236e9d1d8df4307ae90925d9c3a2161",name:"DCR - All - AEM - AA - Bounce Timer",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bounce_timer"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.pageInfo.pageName",a.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",e)(t),0!=a.get("product").length){for(var s in a.get("product"))if(!isNaN(+s)){var n=a.get("product."+s+".attributes.mmdr",a.get("product."+s+".attributes.internalCode")),i=a.get("product."+s+".attributes.mmdrVG",a.get("product."+s+".attributes.internalCode")),r=a.get("product."+s+".attributes.modelCode");eVar10="G26E"==n||"G26E"==i||"71AW"==r||"31AW"==r?"G26E":"G70E"==n||"G70E"==i?"G70E":a.get("product."+s+".attributes.mmdr",a.get("product."+s+".attributes.internalCode"))}var c=_satellite.getVar("setDefaultProductVariables");c.id=eVar10,c.category="new vehicle",c.merchEvars.eVar52=a.get("product.-1.attributes.modelName"),c.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),c.merchEvars.eVar10=eVar10,c.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),t.products=c.toString()}t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop1"),t.events=t.apl(t.events,"event976"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event976"),t.eVar34="nsc > bounce timer",-1==t.linkTrackVars.indexOf("eVar34")&&(t.linkTrackVars+=",eVar34");var d=_satellite.getVar("AA-componentDefaultValues");"digital checkout solution"==a.get("page.category.primaryCategory")?(t.prop1=t.pageName=o,t.eVar34="sales > bounce timer",t.prop1&&t.prop1.indexOf("sales >")<0&&(t.prop1=t.pageName="sales > "+t.prop1)):d&&"configurator all models"==d.componentName?t.prop1=t.pageName="nsc > all-models-con-entry":t.prop1=t.pageName=o&&-1==o.indexOf("nsc >")?"nsc > "+o:o,t.linkTrackVars=t.rfl(t.linkTrackVars,"campaign"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar61"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar62"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar63"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar64")}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"bounce timer",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLf0b738de3cc1459fa10aa2ddbfcd1f30",name:"TPT - IE - AEM - Adwords - Get A Quote - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC04fcac08c94540a7891d11acb13c87e0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5024364d25c34cc5a67e428435dcc2ca",name:"TPT - MY - AEM - Zendesk Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2316fbc2cf4a4867a2f7821e5eadcf34-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL077f3497cbbb48d49afed0a6b9d34376",name:"TPT - SK - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfd122c6983f942ebac869388c784ea4e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL05ea0ffd31f4448ab4d5b59a46bee786",name:"TPT - SI - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb38339e93d104c0c9775942df49921ff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9101d0b96ae04c4c824f2abe5b41cadc",name:"PLR - All - AA - stageX ACDL",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"aem page loaded"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC55790ac0564f4bc49684a6f7adfd52d5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8a3e2d817500437ca2a3eb678a53f718",name:"TPT - PT - AEM - Adwords - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1d15a691133048ad9a2de429d4b2df6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLfcd942255f624e3594f4a3a393613ecb",name:"TPT - SI - AEM - GtagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCea0ed4fd2af64c0cb58d4959aabdf06b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL08efb446cb054a538cfec9d8eac21343",name:"TPT - GR - AEM - Facebook - Configuration Land - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/el_GR/configurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe0c4ebd284174569b21b9b45ea3fd4fd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL109de3baa0d741f8ac58c80663884167",name:"PLR - BE - All Models - Custom Script - Visitor Reco Target ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC03ed02f1efad41d8a22ac4713a5ab29b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcc0d994bdce04c0e80ef034045741a34",name:"TPT - RO - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC00994cb8fee343cd8e46531a801a58e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL92b9f172170c4e48918a700164152ed7",name:"TPT - NL - AEM - Linkedin - localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC92092e59fdd0451ab030975014d607a6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4564dbd2ec604241bb62e351cf187c11",name:"TPT - CH - AEM - GtagDC - Multiple Pages - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC64ab5896fbb94ea48d07df72111e4fed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL90c7f6de1e3540be96c1735832168fce",name:"TPT - CZ - AEM - Adform - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC18b7c99325244ae6a431d29e6052acdd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL572b598061b048d584f1d0013a469811",name:"TPT - UK - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1fa9ea1a90ee43de9973717328591624-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1cff93ac89fb432191902535f6736402",name:"TPT - BE - AEM - Facebook - TDA/RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf78e5dda141d47559bd3dba3857a8099-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8c2735bc124a4c06a113ffab5e8dd27a",name:"TPT - SE - Chat - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%URL%",rightOperand:"https://www.bmw.se/sv/avdelning/tj%c3%a4nster/finansiera/%c3%b6versikt.html"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC54d210791d8f44fa83852626866b4b18-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL14c72a9afded42e5bea81fbced52f0f1",name:"TPT - PL - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/forms/rfid/rfid.html']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe24d8edc67bc47529540d8e52c72e034-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe02ce2f89bf448ea327159079bc7762",name:"TPT - GR - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9fde67c81e5142cc98e0caace7683328-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL522003d6da3342fbbcea94b7833cda79",name:"TPT - FI - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3e39c6a30ffc4fba928728137e294699-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL260ab50218154452b83af6d56d1d6968",name:"TPT - PT - AEM - Floodlight - TDA Form Submit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nsc > form finished"==_satellite.getVar("snapshotDL").get("event.-1.eventInfo.effect")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC89eb7fa9f83a494c911b7667a6ed82af-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLba38c643a3254231a81b9edef03fecee",name:"TPT - NL - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9fc65fecc9d0440498f4f9331e8a108a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6af8f821331c48eeab614870943cfab5",name:"TPT - NL - AEM - Facebook - Local Form - Used Cars Tool -  DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2c3943d96a494ec5af6c0db448bf2928-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL65604849735540b0946ecd311fbea9c0",name:"TPT - TH - AEM - Web Chat Bot - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC3ef53303e469497296e5bb9c648eaaa1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc2838151e0414371a5dadf6be3dd836e",name:"TPT - PT - AEM - Floodlight - TDA Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCea52abec783b4288add7868af0c92301-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd1b9ad4ad3f24528b9cd593321b944cf",name:"TPT - AT - AEM - Facebook - Local form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC93ca6e4a9ad545d4acdb1566b4481f1f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd6458934d6646a091e9340ed66df897",name:"TPT - AT - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7d9aaa91b88443ca8733cc1df9a07d10-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL66cdc3224f994f31beec943aea6e394f",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2593f0ecffb24cfa8d51d0ac71c0e0ac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL17e2362ec42f4064882e59989606f582",name:"TPT - TH - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8a32051f35eb4ff7afc894a3ab36ea3e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7c0de88156cc42cd9b4c3dd7b161af8f",name:"TPT - NO - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7d661947cbd74563bc7a7d551dfb5c16-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d6cd1867e7e4a64a31c268c666d6bfe",name:"TPT - SI - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC49b0ee2a51e24875b674fb5fe64caf5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e92b2f5a24744dd97bb09806cec13d7",name:"TPT - MX - AEM - Retargetly - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC850eec5d245e4aa8bab73e777f180ae4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b3668e1b5474202b1e364f8fa72f991",name:"TPT - DE- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfafd409c53ba45668109da00296137d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19dc4ce63fa74ce7b268eca781355eab",name:"TPT - SK - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk_i"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd5187ec3f2ab4a43ae6cc051a2bad29a-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9af0793bb0a94382bebc4fc09e1591bd",name:"TPT - MY - AEM - Adwords - TDA Submission - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/footer/metanavigation/test-drive-request-confirmation.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC36ffecd49878453b806f4f3e2abd4be8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbcf44b93b95c4122bfd0299e47bb4c80",name:"TPT - PL - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc5645c9d79e94d8cb9309c010c3ca8a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL37ec392b01b2498a89c267aa075c2f62",name:"TPT - NZ - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc7a1132f87da47108fa7d41e996e51be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6146c930f13f47c59efbf0775cd344be",name:"TPT - HU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC57f2de9dcc5249e3b5f3eb0fc797f03e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9953de67a784bc69578efacf3b631d6",name:"TPT - RO - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2b1b7ea150884ca681731baa78ed137f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL64a298c667ae49218e3cf247ac71da56",name:"TPT - PT - AEM - Facebook - SignIn - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"div.ds2-mybmw-content.ds2-mybmw-loggedout > div:nth-child(5)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa63461a9a9e04111999c656d9bc84ef0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3a3640a27839418ea555cce1ae1b57ac",name:"TPT - PT - AEM - Facebook - TDA Form Submit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%URL%",rightOperand:"https://www.bmw.pt/pt/publicpools/success-pool/success-page-tda.html.business-forms.html?success=true"},timeout:2e3},{
modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nsc > form finished"==_satellite.getVar("snapshotDL").get("event.-1.eventInfo.effect")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7c844c1408464712bfdda5ee8fcebfaa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd405eb01a38d4627aee7da34b5fed99b",name:"DCR - All - AEM - AA - Central Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error"},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Cat\xe1logo Lifestyle"],a[title="Ver colecci\xf3n"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/Content/RoadAhead/BMWFS0190_Lessee_Privacy_Engsml_May-2021.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("snapshotDL"),o=a.get("page.category.subCategory01"),s=a.get("page.category.subCategory02"),n=a.get("page.category.subCategory03"),i=a.get("page.pageInfo.pageName"),r=a.get("event.-1.eventInfo.eventName"),c=a.get("event.-1.eventInfo.eventAction"),d=a.get("page.attributes.accessoryID"),l=a.get("product.-1.productInfo.productID"),u=a.get("transaction.transactionID"),m=a.get("page.attributes.accessoryName","generic"),b=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName");if("small_teaser"==b||"multicontent"==b||"new_pre_configuration"==b||"offers"==b||"line_component"==b||"new_gallery"==b||"highlight"==b||"uxs-highlight"==b)return void(t.abort="true");function g(){t.prop1="nsc > "+i,t.prop42="nsc website",t.prop43="forms",t.prop19="central form",t.prop56="form",t.prop6="central form",t.eVar41=a.get("page.attributes.dealerName"),t.eVar42=a.get("page.attributes.dealerID"),t.eVar39=a.get("page.attributes.outletName"),t.eVar40=a.get("page.attributes.outletID"),t.eVar20=a.get("user.-1.segment.userSelectedCountry"),t.eVar23=a.get("user.-1.segment.userSelectedPreferredContactMethod"),t.eVar24=a.get("user.-1.segment.userSelectedGender"),t.eVar25=a.get("user.-1.segment.userSelectedYearofBirth"),t.eVar26=a.get("user.-1.segment.userSelectedCurrentVehicle"),"Form Start"==i?(t.eVar34="nsc > form started",t.prop8="form started"):"Form Success"==i?(t.eVar34="nsc > form finished",t.prop8="form finished"):(t.eVar34=-1!=i.indexOf("nsc >")?i:"nsc > "+i,t.prop8=i),t.prop53="central form",t.prop11=t.prop54=o.toUpperCase(),t.prop10="dedicated forms",t.prop16=i,t.prop17=u}t.events="",_satellite.getVar("setDefaultVariables",e)(t);var f=a.get("product.-1.attributes.mmdr");function p(){var e=_satellite.getVar("setDefaultProductVariables").merchEvars;return window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")>-1?e.eVar53="new car":e.eVar53=a.get("product.-1.category.primaryCategory"),e.eVar52=a.get("product.-1.productInfo.productName"),e.eVar60=a.get("product.-1.productInfo.manufacturer"),e.eVar10=f,e.eVar51=a.get("product.-1.attributes.bodyType"),e.eVar50=a.get("product.-1.attributes.serie"),e}function v(e){switch(e){case"Form Start":var s={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98",Registration:"event93,event94,event3,event4"};t.events=t.apl(t.events,s[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,s[o]);break;case"Form Step":t.events=t.apl(t.events,"event7,event8"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event7,event8");break;case"Form Success":var n={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100",Registration:"event95,event96,event15,event16"};t.events=t.apl(t.events,n[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[o]);break;default:"Request"!=a.get("page.category.primaryCategory")&&"Requests"!=a.get("page.category.primaryCategory")||"start page"!=a.get("page.category.pageType")||"Error"==a.get("event.-1.eventInfo.eventAction")?"Request"!=a.get("page.category.primaryCategory")&&"Requests"!=a.get("page.category.primaryCategory")||"end page"!=a.get("page.category.pageType")||(n={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100"},t.prop8="form finished",t.events=t.apl(t.events,n[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[o])):(s={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98"},t.prop8="form started",t.events=t.apl(t.events,s[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,s[o]))}}if("Form validation error"==r||"Error fallback page is shown"==r||"Back"==r||"Error fallback page"==i){if(g(),t.prop56="error",t.prop52=a.get("event.-1.eventInfo.cause"),t.eVar34=-1!=r.indexOf("nsc >")?r:"nsc > "+r,t.prop53="",t.prop8="",t.prop6="",t.prop11="",t.prop10="",t.prop16="",t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932"),"datalayer field missing"!=l){(R=_satellite.getVar("setDefaultProductVariables")).id=l,R.category="vehicle";var h=p();R.merchEvars=h,t.products=R.toString()}"Error fallback page"==i?t.prop56=t.eVar34="":"Back"==r&&(t.prop56="interaction",t.prop53="ux",t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918"))}else switch(o){case"Registration":case"CR":case"RFO":case"TDA":case"RFC":g(),"datalayer field missing"!=l&&((R=_satellite.getVar("setDefaultProductVariables")).id=l,R.category="service",(h=p()).eVar84=a.get("product.-1.attributes.fin.downPayment"),h.eVar85=a.get("product.-1.attributes.fin.mileage"),h.eVar86=a.get("product.-1.attributes.fin.monthlyPayment"),h.eVar87=a.get("product.-1.attributes.fin.term"),R.merchEvars=h,t.products=R.toString()),t.prop7="generic",v(i);break;case"RFS":g(),"datalayer field missing"!=l&&((R=_satellite.getVar("setDefaultProductVariables")).id=l,R.category="service",(h=p()).eVar84=a.get("product.-1.attributes.fin.downPayment"),h.eVar85=a.get("product.-1.attributes.fin.mileage"),h.eVar86=a.get("product.-1.attributes.fin.monthlyPayment"),h.eVar87=a.get("product.-1.attributes.fin.term"),R.merchEvars=h,t.products=R.toString()),t.prop7=s+">"+n=="datalayer field missing>datalayer field missing"?"generic":s+">"+n,v(i);break;case"RFA":g(),"datalayer field missing"!=d&&((R=_satellite.getVar("setDefaultProductVariables")).id=d,R.category="after sales",h=p(),R.merchEvars=h,t.products=R.toString()),t.prop7=m,v(i);break;case"RFI":g(),"datalayer field missing"!=l&&((R=_satellite.getVar("setDefaultProductVariables")).id=l,R.category="vehicle",h=p(),R.merchEvars=h,t.products=R.toString()),t.prop7="generic",v(i),"Download your brochure"!=r&&"Download"!=c||(t.prop56="interaction",t.eVar34=-1!=r.indexOf("nsc >")?r:"nsc > "+r,t.prop53="ux",t.prop6="",t.prop11="",t.prop10="",t.prop8="",t.prop16="",t.prop7="",t.events=t.events.replace("event15,event16,event47,event48,event55,event56",""),t.events=t.apl(t.events,"event917,event918,event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event903,event904"),t.prop74="bmw .next - nsc|DCR - All - AEM - AA - Download")}"cr"!=t.prop4&&"CR"!=t.prop4||(t.prop4="campaign"),"cr"!=t.prop11&&"CR"!=t.prop11||(t.prop11="campaign",t.prop54="campaign");try{var _=document.getElementById("formrfo").getAttribute("gcdm-lead-context");if(-1!=_.indexOf("PREDOC-G26-BEVE-E")||-1!=_.indexOf("predoc-g26-beve-e")){t.prop11="roi",t.prop7=_;var P=a.get("product.-1.attributes.motorization",a.get("product.-1.attributes.engine"));if(P){var j=/[0-9]{3}[a-z]{1}/i,y=/xdrive[0-9]{2}[a-z]{1}/i,C=/sdrive[0-9]{2}[a-z]{1}/i,w=P.match(j)||P.match(y)||P.match(C);P.indexOf("i3 (120 ah)")>-1||P.indexOf("i3 (120ah)")>-1||P.indexOf("i3 120ah")>-1?P="i3 (120 ah)":P.indexOf("i3s (120 ah)")>-1||P.indexOf("i3s (120ah)")>-1||P.indexOf("i3s 120ah")>-1?P="i3s (120 ah)":w&&w.length&&(P=w[0].toUpperCase())}(R=_satellite.getVar("setDefaultProductVariables")).id="g26",R.category="vehicle",R.merchEvars.eVar10="G26",R.merchEvars.eVar56="e",R.merchEvars.eVar57="beve",R.merchEvars.eVar44=a.get("product.-1.attributes.productionYear"),R.merchEvars.eVar45=a.get("product.-1.attributes.yearOfRegistration"),R.merchEvars.eVar46=a.get("product.-1.attributes.vehicleStatus",a.get("product.-1.attributes.vehicleSelection")),R.merchEvars.eVar47=a.get("product.-1.productInfo.color",a.get("product.-1.attributes.color")),R.merchEvars.eVar48=a.get("product.-1.attributes.modelCode"),R.merchEvars.eVar49=a.get("product.-1.attributes.gearing"),R.merchEvars.eVar50=a.get("product.-1.attributes.series"),R.merchEvars.eVar51=a.get("product.-1.attributes.bodyType"),R.merchEvars.eVar52=a.get("product.-1.productInfo.productName",a.get("product.-1.attributes.modelName")),R.merchEvars.eVar53="model_navigation_hp"==a.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||a.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1?"new car":a.get("product.-1.category.primaryCategory"),R.merchEvars.eVar54=a.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1||"need analyzer"==a.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":a.get("product.-1.category.subCategory1"),R.merchEvars.eVar55=a.get("product.-1.category.subCategory2"),R.merchEvars.eVar58=P,R.merchEvars.eVar60=a.get("product.-1.productInfo.manufacturer"),R.merchEvars.eVar65=a.get("product.-1.attributes.modelName"),t.products=R.toString(),"form started"==t.prop8?(t.events=t.events.replace("event97,event98",""),t.events=t.apl(t.events,"event73,event74"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event73,event74")):"form finished"==t.prop8&&(t.events=t.events.replace("event99,event100",""),t.events=t.apl(t.events,"event75,event76"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event75,event76"))}}catch(e){_satellite.logger.error("css script error in Central Forms",e)}if(!t.products){var R=_satellite.getVar("setDefaultProductVariables");if(window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")>-1){var x=_satellite.getVar("setDefaultProductVariables").merchEvars;x.eVar53="new car",R.merchEvars=x}t.products=R.toString()}t.linkTrackVars+="events,prop42,prop52,prop43,prop4,prop74,prop19,prop56,eVar34,prop8,prop53,prop11,prop10,prop16,products,prop17,prop7,prop6,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar41,eVar42,eVar39,eVar40,eVar20,eVar23,eVar24,eVar25,eVar26,prop1,"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%pa_cat_subCategory01%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL38054d6143084db7b72340bd197da196",name:"TPT - DE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4fadb2a902574d07a3fdddc27539edb0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf4ca393fdb3443e5a5211b9fca423024-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL944eb1354e5c48c597760de541431612",name:"TPT - IT - AEM - Bing - Video Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC87327028235644bdbcd07d778e6ddb53-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa3a329e750544691bef2549125a41291",name:"DCR - All - AEM - AA - DCS Canada",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"tracking: fs ca roadahead",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL"),o=a.get("event.-1.eventInfo.effect");if(a.get("event.-1.eventInfo.eventName"),t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,t.prop4=a.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.eVar34=a.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sales >")<0&&(t.eVar34="sales > "+t.eVar34),t.eVar151=a.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=a.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=a.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=a.get("component.-1.attributes.referringComponent"),t.eVar155=a.get("cart.attributes.offerID"),t.eVar156=a.get("page.attributes.checkoutID"),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop19="digital checkout solution","sales > dcs: order submit success"==o){var s=a.get("page.attributes.purchaseID");t.events=t.apl(t.events,"purchase"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"purchase"),t.events.indexOf("purchase")>-1&&(t.prop11="orders (new vehicle)"),t.purchaseID=s}var n=_satellite.getVar("topLevelDomain");"mini.de"!=n&&"mini.fr"!=n&&"mini.be"!=n&&"mini.lu"!=n&&"mini.it"!=n&&"mini-int7.com"!=n||(t.prop13="mini"),t.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID"}catch(e){var i={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS Canada"};_satellite.logger.error(e,i)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLc9995ece0ee74d10be7afa20b9a7f4b2",name:"TPT - DE - AEM - Nero - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC75a209a8d1b44b1ba70b52fa5624fa87-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7e4e01a9379b44478810792e5a5d726f",name:"TPT - HU - AEM - GtagDC - Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8884c55d06c84419898d702d699c7ffb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d31e5b1702f4e09aeedde8cd8aa36da",name:"TPT - CZ - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCaa520e72415343228955b1d29f9f3839-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL936acc19f10d48949d6a6f037deb08d0",name:"TPT - SI - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0e3f5239bc8b43dc9f1b45cdac10bd1e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff8331b6b235459c8d00d73f1b88412f",name:"TPT - FR - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfd0c91654b224751b59b2cbee8c0267c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8e0b66f3dc5484eb338e38d49094288",name:"EBR - All - AA - stageX ACDL - PV",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron page view"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t,a){try{a=a||"datalayer field missing";for(var o=["","na","not set","n/a","not available"],s=(t=t||"").split("."),n=e,i=0;i<s.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(s[i])?n[n.length-Math.abs(parseInt(s[i]))]:n[s[i]];return"string"==typeof n&&o.indexOf(n.toLowerCase())>-1?"datalayer field empty":n||a}catch(e){console.error("Error:",e)}}try{var o=e.message,s=e.fullState,n=a(s,"page.pageInfo.destinationURL",window.location.href),i=_satellite.getVar("smartPreviousValueManager"),r=new Date,c=r.getHours()<=9?"0"+r.getHours():r.getHours(),d=r.getMinutes()<=9?"0"+r.getMinutes():r.getMinutes(),l=r.getSeconds()<=9?"0"+r.getSeconds():r.getSeconds(),u=r.getUTCHours()<=9?"0"+r.getUTCHours():r.getUTCHours(),m=r.getUTCMinutes()<=9?"0"+r.getUTCMinutes():r.getUTCMinutes(),b=r.getUTCSeconds()<=9?"0"+r.getUTCSeconds():r.getUTCSeconds(),g=(a(s,"page.attributes.brand"),a(s,"page.pageInfo.geoRegion"),a(s,"page.pageInfo.language"),a(s,"page.category.primaryCategory"),a(s,"page.pageInfo.pageName"),a(o,"eventInfo.eventName")),f=a(o,"eventInfo.reference.linkedComponent"),p=a(s,"component")[f];if(t.referrer=a(s,"page.pageInfo.referringURL"),t.server=location.host,t.pageType="error"==a(s,"page.category.pageType")?"errorPage":a(s,"page.category.pageType"),t.pageName=a(s,"page.pageInfo.pageName"),t.prop1=a(s,"page.pageInfo.pageName"),t.prop2=a(s,"page.category.pageType"),t.prop3=a(s,"page.category.primaryCategory"),t.prop4=a(s,"page.category.subCategory1"),t.prop5=a(s,"page.category.subCategory2"),t.prop13=a(s,"page.attributes.brand"),t.prop14=u+":"+m+":"+b,t.prop15=c+":"+d+":"+l,t.prop19=a(p,"componentInfo.componentName"),t.prop27=a(s,"page.pageInfo.pageID"),t.prop28=a(s,"page.pageInfo.variant"),t.prop29=a(s,"page.pageInfo.version"),t.prop30=a(s,"page.category.subCategory3"),t.prop31=i.get("pagePrimaryCategory"),t.prop32=i.get("pageSubCategory01"),t.prop33=i.get("pageName"),t.prop41=a(p,"category.componentType"),t.prop42=a(p,"category.primaryCategory"),t.prop43=a(p,"category.subCategory1"),t.prop44=a(p,"componentInfo.componentID"),t.prop45=a(p,"attributes.componentVersion"),t.prop46=a(s,"page.pageInfo.author"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.prop50="page title",t.prop51=a(o,"eventInfo.category.subCategory2"),t.prop52=a(o,"eventInfo.cause"),t.prop53=a(o,"eventInfo.type"),t.prop54=a(o,"eventInfo.category.primaryCategory"),t.prop55=a(o,"eventInfo.category.subCategory1"),t.prop56=a(o,"eventInfo.eventName"),t.prop57=a(o,"eventInfo.eventAction"),t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.campaign=_satellite.getVar("campaign"),t.eVar4=n,n.length>255&&(t.eVar5=n.substring(255,n.length)),t.eVar6=document.referrer.split("/")[2],t.eVar7=a(s,"page.pageInfo.language"),t.eVar8=a(s,"page.pageInfo.geoRegion"),t.eVar9=a(o,"eventInfo.attributes.iframeURL"),t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar14=i.get("url"),t.eVar15=a(s,"user.profile.profileInfo.type"),t.eVar16=a(s,"user.segment"),t.eVar17=a(s,"user.profile.profileInfo.profileID"),t.eVar18=a(s,"page.pageInfo.pageTitle || document.title"),t.eVar28=i.get("componentSubcategory1"),t.eVar29=i.get("pathName"),t.eVar34=a(o,"eventInfo.effect"),t.eVar61=t.eVar62=t.campaign,t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar71=a(o,"eventInfo.attributes.requestedURL"),t.eVar132=window.navigator.userAgent,t.eVar134=a(p,"attributes.touchpoint"),t.eVar135=a(s,"page.pageInfo.sysEnv"),t.eVar136=a(s,"version"),t.eVar137=a(p,"attributes.platform"),t.eVar161="datalayer field missing",t.eVar162="datalayer field missing",t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),i.update("pageSubCategory01",t.prop4),i.update("pagePrimaryCategory",t.prop19),i.update("url",t.eVar4),i.update("jcrPath",window.location.pathname),i.update("pathName",t.eVar12),i.update("pageName",t.prop1),i.update("componentSubcategory1",t.prop43),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var v=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(v),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}var h=a(o,"eventInfo.eventPoints","0");t.events=t.apl(t.events,"event970="+h,",",1),g.indexOf("form")>-1&&(t.prop6=a(o,"eventInfo.category.primaryCategory"),t.prop7=a(o,"eventInfo.category.subCategory1"),t.prop8=a(o,"eventInfo.effect"),t.prop9=a(o,"eventInfo.attributes.form.stepAmounts"),t.prop10=a(o,"eventInfo.attributes.form.formVariant"),t.prop11=a(o,"eventInfo.type"),t.prop16=a(o,"eventInfo.attributes.form.stepName"),t.prop17=a(o,"eventInfo.attributes.form.rfxID"),t.prop18=a(o,"eventInfo.category.subCategory2"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18",","));var _=a(o,"eventInfo.type");"video"!=_&&"audio"!=_||(t.prop36=a(o,"eventInfo.category.subCategory1"),t.prop37=a(o,"eventInfo.category.subCategory2"),t.prop38=a(o,"eventInfo.type"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop36,prop37,prop38",",")),_satellite.getVar("fusionEventMapping",e)(t),_satellite.getVar("fusionProductString",e)(t);var P=a(o,"attributes.search.unit"),j=a(o,"attributes.search.state"),y=a(o,"attributes.search.label"),C=a(o,"attributes.search.term");"datalayer field missing"!=C&&"datalayer field empty"!=C&&(t.products+=",search;search;;;;"+searchDefaultProduct+"eVar30="+P+"|eVar31="+j+"|eVar32="+y+"|eVar33="+C,t.linkTrackVars=t.apl(t.linkTrackVars,"eVar30,eVar31,eVar32,eVar33")),null!=t.linkTrackEvents||""!=t.linkTrackEvents?t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events,","):t.linkTrackEvents=t.events,null!=t.linkTrackVars||""!=t.linkTrackVars?t.linkTrackVars=t.apl(t.linkTrackVars,"referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar137,eVar161,eVar162,eVar171,eVar172,products,events",","):t.linkTrackVars="referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar137,eVar161,eVar162,eVar171,eVar172,products,events"}catch(t){_satellite.logger.error(t,e.$rule.name)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL33bd9cd64f704615b5dcadd7704e8636",name:"TPT - RO - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8636942d144e42c48bdf10f5c88117b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL51fabef234c34a6590ca5cbd49d3c14c",name:"TPT - JP - AEM - MicroAd - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9ce2ae0179e1490d90f60055065e196f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d488ffde3d44386ba25b7cb7c3d1db9",name:"TPT - DK - AEM - Adform - BrochureDownload-New - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){"/da/footer/k%C3%B8b/kataloger.html"==window.location.pathname&&$('a[data-event-action="clicked-download-link-btn"]').click((function(){e()}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc37e8c0efec1464e8eaf083e9f0a8446-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc2a67f3ffe77450fb99aca46d61f10d6",name:"TPT - IE - AEM - Floodlight - TradeInRequest View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"en/topics/discover/forms/trade-in-request",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC094d080de59948b29d05969cfd03392d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe8bfeca7c4f740a69e80865f9cffa4a0",name:"TPT - SK - AEM - Facebook - Configuration Land - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{
value:"/sk_SK/konfigurator.html"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC73ad1df7a7764d2aa0b1ed94707b7ab7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83a163a7ff71429c86562fec105a5b1a",name:"PLR - BE - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n            return rawScore = 1e3 / (1 + Math.exp(-i)),\n                finalScore = Math.round(100 / (1 + Math.exp(-i))),\n                _satellite.setVar("raw_score", rawScore + ""),\n                _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n        function setCookie(e, i, o, r) {\n            var t = ""\n            if (o) {\n                var n = new Date\n                if (r) {\n                    switch (r) {\n                        case "m":\n                            n.setTime(n.getTime() + 60 * o * 1e3)\n                            break\n                        case "h":\n                            n.setTime(n.getTime() + 60 * o * 60 * 1e3)\n                            break\n                        case "d":\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                            break\n                        default:\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                    }\n                    t = "; expires=" + n.toGMTString()\n                }\n            }\n\n            "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n        }\n\n        function getCookie(e) {\n            for (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n                for (var t = i[r];\n                    " " === t.charAt(0);) t = t.substring(1, t.length)\n                if (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n            }\n            return null\n        }\n\n        function getParsedCookie(e) {\n            var i = window.epaas.api.getPersistence(e);\n            //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        //////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n        function check_deviceType() {\n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.deviceType || {}))\n            navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), updateBucket(score_obj, "deviceType", e.deviceType), window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\n        }\n\n        //////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.sessionDuration || 0\n            4 >= i ? updateBucket(score_obj, "sessionDuration", "leq4") : 18 >= i ? updateBucket(score_obj, "sessionDuration", "g4_leq18") : 24 >= i ? updateBucket(score_obj, "sessionDuration", "g18_leq24") : 58 >= i ? updateBucket(score_obj, "sessionDuration", "g24_leq58") : 111 >= i ? updateBucket(score_obj, "sessionDuration", "g58_leq111") : 188 >= i ? updateBucket(score_obj, "sessionDuration", "gteq111_188") : 308 >= i ? updateBucket(score_obj, "sessionDuration", "gteq188_308") : 514 >= i ? updateBucket(score_obj, "sessionDuration", "gteq308_514") : 997 >= i ? updateBucket(score_obj, "sessionDuration", "gteq514_997") : i >= 998 && updateBucket(score_obj, "sessionDuration", "gteq998")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.sessionDuration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "sessionDuration", "leq4") : 5 == r ? updateBucket(score_obj, "sessionDuration", "g4_leq18") : 19 == r ? updateBucket(score_obj, "sessionDuration", "g18_leq24") : 25 == r ? updateBucket(score_obj, "sessionDuration", "g24_leq58") : 58 == r ? updateBucket(score_obj, "sessionDuration", "g58_leq111") : 112 == r ? updateBucket(score_obj, "sessionDuration", "gteq111_188") : 189 == r ? updateBucket(score_obj, "sessionDuration", "gteq188_308") : 309 == r ? updateBucket(score_obj, "sessionDuration", "gteq308_514") : 515 == r ? updateBucket(score_obj, "sessionDuration", "gteq514_997") : r >= 998 && (updateBucket(score_obj, "sessionDuration", "gteq998"), clearInterval(o)), i.sessionDuration = r + "", /*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n                }\n\n            }, 1e3)\n\n\n        }\n\n        ////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_configurator_session_duration || 0\n            if (i && (19 >= i ? updateBucket(score_obj, "sessionDuration_config", "leq19") : 93 >= i ? updateBucket(score_obj, "sessionDuration_config", "g19_leq93") : 244 >= i ? updateBucket(score_obj, "sessionDuration_config", "g93_leq244") : 574 >= i ? updateBucket(score_obj, "sessionDuration_config", "g244_leq574") : 575 >= i && updateBucket(score_obj, "sessionDuration_config", "gteq575")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_configurator_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "sessionDuration_config", "leq19") : 20 == r ? updateBucket(score_obj, "sessionDuration_config", "g19_leq93") : 94 == r ? updateBucket(score_obj, "sessionDuration_config", "g93_leq244") : 245 == r ? updateBucket(score_obj, "sessionDuration_config", "g244_leq574") : r >= 575 && (updateBucket(score_obj, "sessionDuration_config", "gteq575"), clearInterval(o)), i.new_configurator_session_duration = r + "", /* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n                }\n\n            }, 1e3)\n        }\n\n        //////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n        function check_channel() {\n            var e = getParsedCookie("v_reco_data")\n\n            if (e.lastChannel && "other" != e.lastChannel) updateBucket(score_obj, "lastChannel", e.lastChannel)\n            else {\n                e.lastChannel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.lastChannel = "paid_search"\n                        break\n                    } if ("other" == e.lastChannel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n                }\n                updateBucket(score_obj, "lastChannel", e.lastChannel)\n            }\n            window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n        }\n\n\n        //////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n        function check_pageview_metrics() {\n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.uniquePVs || {})),\n                t = 0,\n                n = !0,\n                a = !0\n            var hostname = window.location.host\n            if (hostname.indexOf("www.") > -1)\n                hostname = hostname.replace("www.", "")\n            var pathURL = hostname + window.location.pathname\n            i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++\n            1 >= t ? updateBucket(score_obj, "uniquePV", "eq1") : 2 == t ? updateBucket(score_obj, "uniquePV", "eq2") : 3 >= t ? updateBucket(score_obj, "uniquePV", "eq3") : 4 >= t ? updateBucket(score_obj, "uniquePV", "eq4") : 6 >= t ? updateBucket(score_obj, "uniquePV", "g5_leq6") : t > 7 && (updateBucket(score_obj, "uniquePV", "gteq7"), t > 8 && (a = !1)), a && (e.uniquePVs = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n        }\n\n        //////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n        function check_configPV() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.configPV && "yes" == e.configPV) updateBucket(score_obj, "configPV", e.configPV)\n            else if (URL.indexOf("configure.bmw.be") > -1 || URL.indexOf("/konfigurator.html") > -1) {\n                e.configPV = "yes"\n                updateBucket(score_obj, "configPV", e.configPV)\n            } else {\n                e.configPV = "no"\n                updateBucket(score_obj, "configPV", e.configPV)\n            }\n            window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n        }\n\n        //////////////////////////////////////////////campaignPV////////////////////////////////////////////////////////////////\n        function check_campaignPV() {\n            var e = getParsedCookie("v_reco_data")\n            setTimeout(function() {\n                if (s.prop43 == \'showroom\') {\n                    var o = setInterval(function() {\n                        e.campaignPV = \'true\'\n                        updateBucket(score_obj, "campaignPV", e.campaignPV)\n                        clearInterval(o)\n                    }, 1000);\n                } else {\n                    e.campaignPV = "false"\n                    updateBucket(score_obj, "campaignPV", e.campaignPV)\n                }\n\n            }, 2500);\n\n        }\n\n        //////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n        function check_sessionDuration_SL() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data")\n                if (s.prop43 == \'stocklocator-prod\' || s.prop43 == \'stocklocator_pat-prod\' || s.prop43 == \'new car stock locator\') {\n                    e.sessionDuration_SL = \'true\'\n                    updateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n                } else {\n                    e.sessionDuration_SL = "false"\n                    updateBucket(score_obj, "sessionDuration_SL", e.sessionDuration_SL)\n                }\n                window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n            }, 2500);\n        }\n\n\n        //////////////////////////////////////////////model_pages_visited////////////////////////////////////////////////////////////////////////// \n        function check_model_viewed() {\n            var e = getParsedCookie("v_reco_data"),\n                curentURL = window.location.href\n            if (curentURL.indexOf("/all-models/") > -1) {\n                var t = getParsedCookie("v_reco_data")[\'modelVisit\']\n\n                if (t > 1) {\n                    e.modelVisit = getParsedCookie("v_reco_data")[\'modelVisit\']\n\n                    1 > t ? updateBucket(score_obj, "modelVisited", "eq0") : 1 == t ? updateBucket(score_obj, "modelVisited", "eq1") : 4 >= t ? updateBucket(score_obj, "modelVisited", "g1_leq4") : t > 5 && (updateBucket(score_obj, "modelVisited", "gtew5"), t > 8), (e.modelVisited++, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\n                } else {\n                    e.modelVisit = 1\n                    updateBucket(score_obj, "modelVisit", e.modelVisit)\n                    1 > t ? updateBucket(score_obj, "modelVisited", "eq0") : 1 == t ? updateBucket(score_obj, "modelVisited", "eq1") : 4 >= t ? updateBucket(score_obj, "modelVisited", "g1_leq4") : t > 5 && (updateBucket(score_obj, "modelVisited", "gtew5"), t > 8), (e.modelVisited, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n                }\n\n            }\n\n        }\n\n        //////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n        function check_user_visit_number() {\n            var e = getParsedCookie("v_reco_data"),\n                t = _satellite.getVar(\'AT-numSessions\')\n            1 == t ? updateBucket(score_obj, "UV_number", "eq1") : 2 == t ? updateBucket(score_obj, "UV_number", "eq2") : 4 >= t ? updateBucket(score_obj, "UV_number", "g3_leq4") : 8 >= t ? updateBucket(score_obj, "UV_number", "g5_leq8") : 21 >= t ? updateBucket(score_obj, "UV_number", "g9_leq21") : t > 22 && (updateBucket(score_obj, "UV_number", "gteq22"), t > 22), e.UV_number = t, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\n        }\n\n\n        //////////////////////////////////////////////distinctPage_CV////////////////////////////////////////////////////////////////////////// \n        function check_distinctPage_CV() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data"),\n                    i = JSON.parse(JSON.stringify(e.distinctPage_CV || {})),\n                    t = 0,\n                    n = !0,\n                    a = !0\n                var category = s.prop43\n\n                if (category != \'\') {\n                    i[category] ? i[category] += 1 : i[category] = 1\n\n                    for (var h in i) t++\n                    1 >= t ? updateBucket(score_obj, "distinctPage_CV", "leq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV", "eq2") : 3 >= t ? updateBucket(score_obj, "distinctPage_CV", "eq3") : 4 >= t ? updateBucket(score_obj, "distinctPage_CV", "eq4") : 5 >= t ? updateBucket(score_obj, "distinctPage_CV", "gteq5") : t > 6 && (updateBucket(score_obj, "distinctPage_CV", "gteq5"), t > 6 && (a = !1)), a && (e.distinctPage_CV = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n                }\n\n            }, 2000);\n            updateBucket(score_obj, "finalScore", _satellite.getVar(\'final_newscore\'))\n        }\n\n        function scorefinal() {\n            setTimeout(function() {\n                var e = getParsedCookie("v_reco_data")\n                e.scorefinal = _satellite.getVar(\'final_newscore\');\n                updateBucket(score_obj, "scorefinal", e.scorefinal)\n                window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n            }, 2500);\n        }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                n = {},\n                a = {},\n                b = {},\n                c = {},\n                d = {},\n                f = {},\n                h = {},\n                j = {},\n                k = {},\n                s = {}\n            if (addDimension(s, "always_on", weight_value(-8.45108, 1)),\n\n                addDimension(i, "eq1", weight_value(0)),\n                addDimension(i, "eq2", weight_value(1.03115)),\n                addDimension(i, "eq3", weight_value(0.31654)),\n                addDimension(i, "eq4", weight_value(-0.17997)),\n                addDimension(i, "g4_leq6", weight_value(-0.47789)),\n                addDimension(i, "gteq7", weight_value(-0.52477)),\n\n                addDimension(o, "leq4", weight_value(0)),\n                addDimension(o, "g4_leq18", weight_value(2.44364)),\n                addDimension(o, "g18_leq24", weight_value(1.64676)),\n                addDimension(o, "g24_leq58", weight_value(2.72436)),\n                addDimension(o, "g58_leq111", weight_value(3.17357)),\n                addDimension(o, "gteq111_188", weight_value(3.47714)),\n                addDimension(o, "gteq188_308", weight_value(3.56107)),\n                addDimension(o, "gteq308_514", weight_value(3.56107)),\n                addDimension(o, "gteq514_997", weight_value(4.01808)),\n                addDimension(o, "gteq998", weight_value(4.04733)),\n\n                addDimension(r, "leq19", weight_value(0)),\n                addDimension(r, "g19_leq93", weight_value(-0.41774)),\n                addDimension(r, "g93_leq244", weight_value(-0.25163)),\n                addDimension(r, "g244_leq574", weight_value(0.2874)),\n                addDimension(r, "gteq575", weight_value(0.44108)),\n\n                addDimension(n, "mobile", weight_value(0.14626)),\n                addDimension(n, "misc", weight_value(0)),\n                addDimension(n, "tablet", weight_value(0)),\n                addDimension(n, "desktop", weight_value(0.65607)),\n                \n                addDimension(a, "paid_search", weight_value(1.01435)),\n                addDimension(a, "display", weight_value(0)),\n                addDimension(a, "other", weight_value(1.1207)),\n\n                addDimension(b, "eq0", weight_value(0.329901)),\n                addDimension(b, "eq1", weight_value(-0.95748)),\n                addDimension(b, "g1_leq4", weight_value(-1.23463)),\n                addDimension(b, "gtew5", weight_value(-1.33632)),\n\n                addDimension(c, "yes", weight_value(-2.42262)),\n                addDimension(c, "no", weight_value(0)),\n\n                addDimension(d, "true", weight_value(-0.83404)),\n                addDimension(d, "false", weight_value(0)),\n\n                addDimension(f, "true", weight_value(-1.04733)),\n                addDimension(f, "false", weight_value(0)),\n\n                addDimension(h, "leq1", weight_value(0)),\n                addDimension(h, "eq2", weight_value(1.75798)),\n                addDimension(h, "g3_leq4", weight_value(1.85683)),\n                addDimension(h, "g5_leq8", weight_value(2.02324)),\n                addDimension(h, "g9_leq21", weight_value(1.62735)),\n                addDimension(h, "gteq22", weight_value(1.85545)),\n\n                addDimension(j, "eq1", weight_value(0)),\n                addDimension(j, "eq2", weight_value(2.07225)),\n                addDimension(j, "eq3", weight_value(3.23174)),\n                addDimension(j, "eq4", weight_value(4.63607)),\n                addDimension(j, "gteq5", weight_value(7.0647)),\n\n                addDimension(k, "scorefinal", weight_value(0)),\n\n                addDimension(score_obj, "uniquePV", i),\n                addDimension(score_obj, "sessionDuration", o),\n                addDimension(score_obj, "sessionDuration_config", r),\n                addDimension(score_obj, "deviceType", n),\n                addDimension(score_obj, "lastChannel", a),\n                addDimension(score_obj, "modelVisit", b),\n                addDimension(score_obj, "configPV", c),\n                addDimension(score_obj, "campaignPV", d),\n                addDimension(score_obj, "sessionDuration_SL", f),\n                addDimension(score_obj, "UV_number", h),\n                addDimension(score_obj, "distinctPage_CV", j),\n                addDimension(score_obj, "scorefinal", k),\n                addDimension(score_obj, "intercept", s),\n\n                check_deviceType(),\n                check_pageview_metrics(),\n                check_channel(),\n                check_configurator_session_duration(),\n                check_session_duration(),\n                check_model_viewed(),\n                check_configPV(),\n                check_campaignPV(),\n                check_sessionDuration_SL(),\n                check_user_visit_number(),\n                check_distinctPage_CV(),\n                scorefinal(),\n\n                window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n                shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLf42a7012ef404b108f46417e38a62535",name:"TPT - SK - AEM - Facebook - Form Submission - RFO - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC82ae86fe12e14dd3b8fba5677ff0e166-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7f0e6dc8eec4d38b78d5f1adc17577b",name:"TPT - FI - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb24e0697ceed4c79bb3b842365ddc86e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85bc930c9809410ab217d2f28b63d603",name:"DCR - All - AEM - AA - Compare",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"compare_technical_data_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a,o,s,n,r,c=_satellite.getVar("snapshotDL"),d=c.get("event.-1.attributes.linkedComponent.componentInfo");for(i=0;i<c.get("component").length;i++){var l=i.toString();c.get("component."+l+".componentInfo.componentID")==d&&(_satellite.logger.log("related component - "+l),o=c.get("component."+l+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),a=c.get("component."+l+".componentInfo.componentID",c.get("component."+l+".componentInfo.componentId")),s=c.get("component."+l+".category.primaryCategory"),n=c.get("component."+l+".category.subCategory01"),r=c.get("component."+l+".category.componentType",c.get("component."+l+".componentInfo.componentType")))}t.prop55=c.get("event.-1.attributes.errorCode"),t.eVar151=c.get("event.-1.attributes.totalVehicleCount"),t.eVar34=c.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.prop41=r,t.prop42=s,t.prop43=n,t.prop44=a,t.prop19=o,t.prop1=c.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.pageName=t.prop1,t.linkTrackVars+="prop1,pageName,prop19,prop41,prop42,prop43,prop44,prop55,eVar34,eVar151"}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"compare",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL79b694277ad24637b9e5de0a66bbff52",name:"TPT - GR - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfdb7c3f196e647c1b8020c8fb3349eb3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbbfbc3fdf7e9426ebb5fcec8731bda00",name:"TPT - NL - AEM - LinkedIn - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9464d0d12e71492a86323847dc11083b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe4dcec26f59549f685979ae5d65cf0e5",name:"TPT - IE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd46a58fea619405dbc5a03564673ec63-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb4c9fe494bb74390bfdfaa61ca1458fb",name:"TPT - PT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe741a4ddae13471895d78762444ea4ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLec6994eb84d74e3093b25344c8c773ea",name:"TPT - FI - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC91862757860d4128a296e8b6388a7d7a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2e1cc2edf8ab46b59895eb5824bb7374",name:"EBR - All - AA - stageX ACDL Tron - Event",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t,a){try{a=a||"datalayer field missing";for(var o=["","na","not set","n/a","not available"],s=(t=t||"").split("."),n=e,i=0;i<s.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(s[i])?n[n.length-Math.abs(parseInt(s[i]))]:n[s[i]];return"string"==typeof n&&o.indexOf(n.toLowerCase())>-1?"datalayer field empty":n||a}catch(e){console.error("Error:",e)}}try{var o=e.message,s=e.fullState,n=a(s,"page.pageInfo.destinationURL",window.location.href),i=_satellite.getVar("smartPreviousValueManager"),r=new Date,c=r.getHours()<=9?"0"+r.getHours():r.getHours(),d=r.getMinutes()<=9?"0"+r.getMinutes():r.getMinutes(),l=r.getSeconds()<=9?"0"+r.getSeconds():r.getSeconds(),u=r.getUTCHours()<=9?"0"+r.getUTCHours():r.getUTCHours(),m=r.getUTCMinutes()<=9?"0"+r.getUTCMinutes():r.getUTCMinutes(),b=r.getUTCSeconds()<=9?"0"+r.getUTCSeconds():r.getUTCSeconds(),g=(a(s,"page.attributes.brand"),a(s,"page.pageInfo.geoRegion"),a(s,"page.pageInfo.language"),a(s,"page.category.primaryCategory"),a(s,"page.pageInfo.pageName"),a(o,"eventInfo.eventName")),f=a(o,"eventInfo.reference.linkedComponent"),p=a(s,"component")[f];if(t.referrer=a(s,"page.pageInfo.referringURL"),t.server=location.host,t.pageType="error"==a(s,"page.category.pageType")?"errorPage":a(s,"page.category.pageType"),t.pageName=a(s,"page.pageInfo.pageName"),t.prop1=a(s,"page.pageInfo.pageName"),t.prop2=a(s,"page.category.pageType"),t.prop3=a(s,"page.category.primaryCategory"),t.prop4=a(s,"page.category.subCategory1"),t.prop5=a(s,"page.category.subCategory2"),t.prop13=a(s,"page.attributes.brand"),t.prop14=u+":"+m+":"+b,t.prop15=c+":"+d+":"+l,t.prop19=a(p,"componentInfo.componentName"),t.prop27=a(s,"page.pageInfo.pageID"),t.prop28=a(s,"page.pageInfo.variant"),t.prop29=a(s,"page.pageInfo.version"),t.prop30=a(s,"page.category.subCategory3"),t.prop31=i.get("pagePrimaryCategory"),t.prop32=i.get("pageSubCategory01"),t.prop33=i.get("pageName"),t.prop41=a(p,"category.componentType"),t.prop42=a(p,"category.primaryCategory"),t.prop43=a(p,"category.subCategory1"),t.prop44=a(p,"componentInfo.componentID"),
t.prop45=a(p,"attributes.componentVersion"),t.prop46=a(s,"page.pageInfo.author"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.prop50="page title",t.prop51=a(o,"eventInfo.category.subCategory2"),t.prop52=a(o,"eventInfo.cause"),t.prop53=a(o,"eventInfo.type"),t.prop54=a(o,"eventInfo.category.primaryCategory"),t.prop55=a(o,"eventInfo.category.subCategory1"),t.prop56=a(o,"eventInfo.eventName"),t.prop57=a(o,"eventInfo.eventAction"),t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.campaign=_satellite.getVar("campaign"),t.eVar4=n,n.length>255&&(t.eVar5=n.substring(255,n.length)),t.eVar6=document.referrer.split("/")[2],t.eVar7=a(s,"page.pageInfo.language"),t.eVar8=a(s,"page.pageInfo.geoRegion"),t.eVar9=a(o,"eventInfo.attributes.iframeURL"),t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar14=i.get("url"),t.eVar15=a(s,"user.profile.profileInfo.type"),t.eVar16=a(s,"user.segment"),t.eVar17=a(s,"user.profile.profileInfo.profileID"),t.eVar18=a(s,"page.pageInfo.pageTitle || document.title"),t.eVar28=i.get("componentSubcategory1"),t.eVar29=i.get("pathName"),t.eVar34=a(o,"eventInfo.effect"),t.eVar61=t.eVar62=t.campaign,t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar71=a(o,"eventInfo.attributes.requestedURL"),t.eVar132=window.navigator.userAgent,t.eVar134=a(p,"attributes.touchpoint"),t.eVar135=a(s,"page.pageInfo.sysEnv"),t.eVar136=a(s,"version"),t.eVar137="AEM6",t.eVar161="datalayer field missing",t.eVar162="datalayer field missing",t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),i.update("pageSubCategory01",t.prop4),i.update("pagePrimaryCategory",t.prop19),i.update("url",t.eVar4),i.update("jcrPath",window.location.pathname),i.update("pathName",t.eVar12),i.update("pageName",t.prop1),i.update("componentSubcategory1",t.prop43),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var v=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(v),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}var h=a(o,"eventInfo.eventPoints","0");t.events=t.apl(t.events,"event970="+h,",",1),g.indexOf("form")>-1&&(t.prop6=a(o,"eventInfo.category.primaryCategory"),t.prop7=a(o,"eventInfo.category.subCategory1"),t.prop8=a(o,"eventInfo.effect"),t.prop9=a(o,"eventInfo.attributes.form.stepAmounts"),t.prop10=a(o,"eventInfo.attributes.form.formVariant"),t.prop11=a(o,"eventInfo.type"),t.prop16=a(o,"eventInfo.attributes.form.stepName"),t.prop17=a(o,"eventInfo.attributes.form.rfxID"),t.prop18=a(o,"eventInfo.category.subCategory2"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18",","));var _=a(o,"eventInfo.type");"video"!=_&&"audio"!=_||(t.prop36=a(o,"eventInfo.category.subCategory1"),t.prop37=a(o,"eventInfo.category.subCategory2"),t.prop38=a(o,"eventInfo.type"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop36,prop37,prop38",",")),_satellite.getVar("fusionEventMapping",e)(t),_satellite.getVar("fusionProductString",e)(t),null!=t.linkTrackEvents||""!=t.linkTrackEvents?t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events,","):t.linkTrackEvents=t.events,null!=t.linkTrackVars||""!=t.linkTrackVars?t.linkTrackVars=t.apl(t.linkTrackVars,"referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events",","):t.linkTrackVars="referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop34,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar18,eVar22,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events"}catch(t){_satellite.logger.error(t,e.$rule.name)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL18bc2f45181d434184ea42b1dfe65051",name:"TPT - BE - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC27120351a0484751aa89627b84177969-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL073912bbfcce4442aeba26607ffe7be6",name:"TPT - FI - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC50f547bdc1f8469faf7d3ef5e370a66e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8bd953960f5497ba830a77f33a26e75",name:"PLR - AT - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n\n   \n            return rawScore = 1e3 / (1 + Math.exp(-i)), finalScore = Math.round(100 / (1 + Math.exp(-i))), _satellite.setVar("raw_score", rawScore + ""), _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n\n        function getParsedCookie(e) {\n         var i=window.epaas.api.getPersistence(e);\n          //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        function check_device_type() {\n          var e = getParsedCookie("v_reco_data"),\n                 i = JSON.parse(JSON.stringify(e.device_type || {})) \n          navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.device_type = "mobile": navigator.userAgent.match(/iPad|Android|Touch/i) ? e.device_type = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.device_type = "desktop": e.device_type = "misc"),updateBucket(score_obj, "device_type", e.device_type),window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration || 0\n            59 >= i ? updateBucket(score_obj, "session_duration", "leq59") : 299 >= i ? updateBucket(score_obj, "session_duration", "g59_leq299") : 599 >= i ? updateBucket(score_obj, "session_duration", "g299_leq599") : 1799 >= i ? updateBucket(score_obj, "session_duration", "g599_leq1799") : 3599 >= i ? updateBucket(score_obj, "session_duration", "g1799_leq3599") : i >= 3600 && updateBucket(score_obj, "session_duration", "g3599")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration", "leq59") : 60 == r ? updateBucket(score_obj, "session_duration", "g59_leq299") : 300 == r ? updateBucket(score_obj, "session_duration", "g299_leq599") : 600 == r ? updateBucket(score_obj, "session_duration", "g599_leq1799") : 1800 == r ? updateBucket(score_obj, "session_duration", "g1799_leq3599") : r >= 3600 && (updateBucket(score_obj, "session_duration", "g3599"), clearInterval(o)), i.session_duration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            \n            }, 1e3)\n        }\n\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration_configurator || 0\n            if (i && (70 >= i ? updateBucket(score_obj, "session_duration_configurator", "leq70")\t : 350 >= i ? updateBucket(score_obj, "session_duration_configurator", "g70_leq1350") : i >= 351 && updateBucket(score_obj, "session_duration_configurator", "g350")), (URL.indexOf("configure.bmw") > -1|| URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration_configurator || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration_configurator", "leq70") : 71 == r ? updateBucket(score_obj, "session_duration_configurator", "g70_leq350") : r >= 351 && (updateBucket(score_obj, "session_duration_configurator", "g350"), clearInterval(o)), i.session_duration_configurator = r + "",/* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n             \n            }, 1e3)\n        }\n\n        function check_channel() {\n         \n            var e = getParsedCookie("v_reco_data")\n            \n            if (e.last_channel && "other" != e.last_channel) updateBucket(score_obj, "last_channel", e.last_channel)\n            else {\n                e.last_channel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.last_channel = "paid_search"\n                        break\n                    } if ("other" == e.last_channel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.last_channel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.last_channel = "display")\n                }\n                updateBucket(score_obj, "last_channel", e.last_channel)\n            }\n          window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n     \n        }\n\n       \n\n    function check_pageview_metrics() {\n     \n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.distinct_page_visits || {})),\n                t = 0,\n                n = !0,\n                a = !0\n     var hostname=window.location.host\n      if(hostname.indexOf("www.")>-1)\n        hostname=hostname.replace("www.","")\n    var pathURL = hostname+window.location.pathname\n           i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++ \n          2 > t ? updateBucket(score_obj, "distinct_page_category_visit", "leq1") : 2 == t ? updateBucket(score_obj, "distinct_page_category_visit", "eq2") : 4 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g2_leq4") : 7 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g4_leq7"): t > 7  && (updateBucket(score_obj, "distinct_page_category_visit", "g7"), t > 8 && (a = !1)), a && (e.distinct_page_visits= i,/*setCookie("v_reco_data", e)*/window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n)\n      \n       \n        }\n        function check_visitor_type() {\n            var e = getParsedCookie("v_reco_data")\n            e && updateBucket(score_obj, "user_type", e.user)\n          \n        }\n       function check_model_viewed() {\n              var e = getParsedCookie("v_reco_data")\n         \n              if (e.model_visited && "yes" == e.model_visited) updateBucket(score_obj, "model_visited", e.model_visited)\n              else if ( URL.indexOf("/all-models/") >-1){ \n               e.model_visited="yes"\n             updateBucket(score_obj, "model_visited", e.model_visited)\n             }\n              else{\n              e.model_visited="no"\n             updateBucket(score_obj, "model_visited", e.model_visited)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n       function check_configurator_viewed() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.con_section_visited && "yes" == e.con_section_visited) updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n             else if ( URL.indexOf("configure.bmw.at") >-1|| URL.indexOf("/konfigurator.html")>-1) {\n               e.con_section_visited="yes"\n               updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n             }\n         else{\n           e.con_section_visited="no"\n          updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)) \n       }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                t = {},\n                n = {},\n                a = {},\n                s = {},\n                b = {},\n                c = {}\n            if (addDimension(s, "always_on", weight_value(-3.662118, 1)),\n\t\t\taddDimension(i, "leq1", weight_value(0)), \n\t\t\taddDimension(i, "eq2", weight_value(1.99889)),\n\t\t\taddDimension(i, "g2_leq4", weight_value(2.502553)),\n            addDimension(i, "g4_leq7", weight_value(2.588481)),\n            addDimension(i, "g7", weight_value(3.986874)),\t\t\t\n\t\t\taddDimension(o, "leq59", weight_value(0)), \n\t\t\taddDimension(o, "g59_leq299", weight_value(2.55341)),\n\t\t\taddDimension(o, "g299_leq599", weight_value(2.449621)), \n\t\t\taddDimension(o, "g599_leq1799", weight_value(3.07738)), \n\t\t\taddDimension(o, "g1799_leq3599", weight_value(2.790434)),\n\t\t\taddDimension(o, "g3600", weight_value(2.382506)),\n\t\t\taddDimension(r, "leq70", weight_value(0)), \n\t\t\taddDimension(r, "g70_leq350", weight_value(-0.903169)), \n\t\t\taddDimension(r, "g350", weight_value(-1.248686)),\n\t\t\taddDimension(t, "new", weight_value(0)), \n\t\t\taddDimension(t, "returning", weight_value(0.092474)), \n\t\t\taddDimension(n, "mobile", weight_value(0.400441)),  \n\t\t\taddDimension(n, "desktop", weight_value(0.115943)), \n\t\t\taddDimension(a, "paid_search", weight_value(-0.326148)), \n\t\t\taddDimension(a, "display", weight_value(0)), \n            addDimension(b, "yes", weight_value(0.329901)),\n            addDimension(b, "no", weight_value(0)),\n            addDimension(c, "yes", weight_value(-1.763288)),\n            addDimension(c, "no", weight_value(0)), \n\t\t\taddDimension(score_obj, "distinct_page_category_visit", i), \n\t\t\taddDimension(score_obj, "session_duration", o), \n\t\t\taddDimension(score_obj, "session_duration_configurator", r), \n\t\t\taddDimension(score_obj, "user_type", t), \n\t\t\taddDimension(score_obj, "device_type", n),\n\t\t\taddDimension(score_obj, "last_channel", a), \n\t\t\taddDimension(score_obj, "intercept", s), \n            addDimension(score_obj, "model_visited", b),\n            addDimension(score_obj, "con_section_visited", c),\n\t\t\tcheck_device_type(), \n\t\t\tcheck_pageview_metrics() ,\n\t\t\tcheck_channel(),\n            check_model_viewed(),\n            check_configurator_viewed(),\n\t\t\tcheck_visitor_type(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(), \n\t//\t\tgetCookie("bmwdtm_hq_sid")\n               window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLade930c54a7742d49d58b9f18018b47f",name:"TPT - NL - AEM - Facebook - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa19450b467fd40099abedbe1f2727b69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a57a60fe11f4e379e9cfc96fd19b561",name:"TPT - BE - AEM - GtagAW - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC908e4b0170cb43029266967ad53ac9d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe51719d0b33c49c19b6263b00a832891",name:"TPT - NL - AEM - GtagAW - TDA Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8b2eec93a16a4e6f9dc37d419919eb74-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL7dca1b7797c647c3949587b9ee32d033",name:"TPT - NL - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC39d7df0f200e41f58c4c0f007ea8b543-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc283ad3cd0e34963beab42d22d7dcaa4",name:"TPT - MX - AEM - GoogleSearch - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5f0b344c5222462bb2d5351a141b5d03-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe0c40f0da0364dd4ac6b85592e5c185b",name:"TPT - IT - AEM - GTagDC - BookTestDrive - ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it/topics/test-drive-now/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0f078862297c4077820d4bf5eb6c617b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL325ea8f4d9834bf994d5c416b3cfb24b",name:"TPT - HU - AEM - Adwords - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe94244ed9dea4247ba4c6ca4b7b6b70a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL161ec7219828432abe4087c2ce874862",name:"TPT - PT - AEM - Facebook - Stocklocator Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.URL.includes("bmw.pt/pt/shop/dcs/comprarbmwonline/checkout")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC91539178bf354b6e8fb01519a8cb1de1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL71f61c02a9334525a2a18f6b18b15d65",name:"TPT - AT - AEM - Adform - New Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCf839ab0e0a8c471883ea4859c31cd5c5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe7162389c90f4fc085e8219228a35343",name:"TPT - DE - AEM - Facebook - Dealer Call Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".phone>.tw-font-bmw-light.tw-text-grey-900",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/neuwagensuche.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC33f539d8d5874ddb8e78be8d1a629228-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL466e9dd8c57a455dbe2ce7a76a1ba9ac",name:"PLR - LU - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCde3234dd4417494caa591dc32e16e83d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7bbe075bccb7475fafa792f1fa512050",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd7e3b29aa90c444cacfdfaea85d4b48d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL169e361cb98e4923a5ba9dde421ef6d4",name:"TPT - GR - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5724533f1b854657b8c5ed76159d38a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcbd5d0a3d3a48abbf5f8a2438b341b6",name:"TPT - PL - AEM - Adform - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCe7dcb0291511446cb5cf30c1ba7e16c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf38876834fa84bb3affc4f7fbf8e7ff2",name:"TPT - ES - AEM - Facebook - AddToWishlist - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb8e1789026ca46ce807d3593258e09d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL09ccca6c766f4b8a9ee21fa1f38741bb",name:"TPT - NO - AEM - Adform - ConfigurationLand - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/bygg-din-bmw.html"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC37e2cd262100406493d37a1a35e85c9e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5dbe3659f8674e9b9add5bfeb709f474",name:"PLR - UK - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},
leftOperand:"%topLevelDomain%",rightOperand:"bmw.co.uk"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'! function() {\n\t\t"use strict"\n\n\t\tfunction addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction rfi_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction rfo_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction tda_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction vco_addDimension(e, i, o) {\n\t\t\te[i] = o\n\t\t}\n\n\t\tfunction removeDimension(e, i) {\n\t\t\tdelete e[i]\n\t\t}\n\n\t\tfunction weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction rfi_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction rfo_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction tda_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\t\tfunction vco_weight_value(e, i) {\n\t\t\treturn {\n\t\t\t\tweight: e,\n\t\t\t\tvalue: i || 0\n\t\t\t}\n\t\t}\n\n\n\t\tfunction updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = calculateScore(score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction rfi_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? rfi_score_obj[i][t].value = 1 : rfi_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = rfi_calculateScore(rfi_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction rfo_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? rfo_score_obj[i][t].value = 1 : rfo_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = rfo_calculateScore(rfo_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction tda_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? tda_score_obj[i][t].value = 1 : tda_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = tda_calculateScore(tda_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\n\t\tfunction vco_updateBucket(e, i, o) {\n\t\t\tvar r = e[i]\n\t\t\tfor (var t in r) t == o ? vco_score_obj[i][t].value = 1 : vco_score_obj[i][t].value = 0\n\t\t\tif (shouldCalculateScore) {\n\t\t\t\tvar n = vco_calculateScore(vco_score_obj)\n\t\t\t\tshouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n\t\t\t}\n\t\t}\n\n\t\tfunction calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction rfi_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction rfo_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction tda_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction vco_calculateDimensionScore(e, i) {\n\t\t\tvar o = 0,\n\t\t\t\tr = e[i]\n\t\t\tfor (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\t\t\treturn o\n\t\t}\n\n\t\tfunction calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += calculateDimensionScore(e, o)\n\t\t\treturn rawScore = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score", rawScore + ""),\n\t\t\t\t_satellite.setVar("final_newscore", finalScore + "")\n\t\t}\n\n\t\tfunction rfi_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += rfi_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_rfi = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_rfi = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_rfi", rawScore_rfi + ""),\n\t\t\t\t_satellite.setVar("final_newscore_rfi", finalScore_rfi + "")\n\t\t}\n\n\t\tfunction rfo_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += rfo_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_rfo = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_rfo = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_rfo", rawScore_rfo + ""),\n\t\t\t\t_satellite.setVar("final_newscore_rfo", finalScore_rfo + "")\n\t\t}\n\n\t\tfunction tda_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += tda_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_tda = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_tda = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_tda", rawScore_tda + ""),\n\t\t\t\t_satellite.setVar("final_newscore_tda", finalScore_tda + "")\n\t\t}\n\n\t\tfunction vco_calculateScore(e) {\n\t\t\tvar i = 0\n\t\t\tfor (var o in e) i += vco_calculateDimensionScore(e, o)\n\t\t\treturn rawScore_vco = 1e3 / (1 + Math.exp(-i)),\n\t\t\t\tfinalScore_vco = Math.round(100 / (1 + Math.exp(-i))),\n\t\t\t\t_satellite.setVar("raw_score_vco", rawScore_vco + ""),\n\t\t\t\t_satellite.setVar("final_newscore_vco", finalScore_vco + "")\n\t\t}\n\n\t\tfunction setCookie(e, i, o, r) {\n\t\t\tvar t = ""\n\t\t\tif (o) {\n\t\t\t\tvar n = new Date\n\t\t\t\tif (r) {\n\t\t\t\t\tswitch (r) {\n\t\t\t\t\t\tcase "m":\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 60 * o * 1e3)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase "h":\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 60 * o * 60 * 1e3)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase "d":\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tn.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n\t\t\t\t\t}\n\t\t\t\t\tt = "; expires=" + n.toGMTString()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t"true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n\t\t}\n\n\t\tfunction getCookie(e) {\n\t\t\tfor (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n\t\t\t\tfor (var t = i[r];\n\t\t\t\t\t" " === t.charAt(0);) t = t.substring(1, t.length)\n\t\t\t\tif (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n\t\t\t}\n\t\t\treturn null\n\t\t}\n\n\t\tfunction getParsedCookie(e) {\n\t\t\tvar i = window.epaas.api.getPersistence(e);\n\t\t\t//   var i = getCookie(e)\n\t\t\treturn JSON.parse(i) || {}\n\t\t}\n\n\t\tfunction getParameterByName(e, i) {\n\t\t\ti || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n\t\t\tvar o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n\t\t\t\tr = o.exec(i)\n\t\t\treturn r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n\t\t}\n\n\t\tfunction listener(e, i) {}\n\n\n\t\t//BINOMIAL Start\n\t\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration() {\n\t\t\tshouldDisplayScore = !0\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration || 0\n\t\t\t19 >= i ? updateBucket(score_obj, "sessionDuration", "leq19") : 39 >= i ? updateBucket(score_obj, "sessionDuration", "g20_leq39") : 81 >= i ? updateBucket(score_obj, "sessionDuration", "g40_leq81") : 145 >= i ? updateBucket(score_obj, "sessionDuration", "g82_leq145") : 243 >= i ? updateBucket(score_obj, "sessionDuration", "g146_leq243") : 423 >= i ? updateBucket(score_obj, "sessionDuration", "g244_leq423") : 871 >= i ? updateBucket(score_obj, "sessionDuration", "g424_leq871") : i >= 812 && updateBucket(score_obj, "sessionDuration", "gteq872")\n\t\t\tvar o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\t\tr++, 1 == r ? updateBucket(score_obj, "sessionDuration", "leq19") : 20 == r ? updateBucket(score_obj, "sessionDuration", "g20_leq39") : 40 == r ? updateBucket(score_obj, "sessionDuration", "g40_leq81") : 82 == r ? updateBucket(score_obj, "sessionDuration", "g82_leq145") : 146 == r ? updateBucket(score_obj, "sessionDuration", "g146_leq243") : 244 == r ? updateBucket(score_obj, "sessionDuration", "g244_leq423") : 424 == r ? updateBucket(score_obj, "sessionDuration", "g424_leq871") : r >= 872 && (updateBucket(score_obj, "sessionDuration", "gteq872"), clearInterval(o)), i.sessionDuration = r + "", window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\t\tfunction check_pageview_metrics() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar hostname = window.location.host\n\t\t\tif (hostname.indexOf("www.") > -1)\n\t\t\t\thostname = hostname.replace("www.", "")\n\t\t\tvar pathURL = hostname + window.location.pathname\n\t\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\t\tfor (var s in i) t++\n\t\t\t1 == t ? updateBucket(score_obj, "uniquePV", "eq1") : 2 == t ? updateBucket(score_obj, "uniquePV", "eq2") : 4 >= t ? updateBucket(score_obj, "uniquePV", "g3_leq4") : 5 == t && (updateBucket(score_obj, "uniquePV", "gteq5"), t > 6 && (a = !1)), a && (e.uniquePV = i, /*setCookie("v_reco_data", e)*/ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV1() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? updateBucket(score_obj, "distinctPage_CV1", "eq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV1", "eq2") : 3 == t ? updateBucket(score_obj, "distinctPage_CV1", "eq3") : 7 >= t ? updateBucket(score_obj, "distinctPage_CV1", "g4_leq7") : 8 >= t ? updateBucket(score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (updateBucket(score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV2() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop43\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? updateBucket(score_obj, "distinctPage_CV2", "eq1") : 2 == t ? updateBucket(score_obj, "distinctPage_CV2", "eq2") : 3 == t ? updateBucket(score_obj, "distinctPage_CV2", "gteq3") : t > 4 && (updateBucket(score_obj, "distinctPage_CV2", "gteq3"), t > 4 && (a = !1)), a && (e.distinctPage_CV2 = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), updateBucket(score_obj, "deviceType", e.deviceType), window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}\n\n\t\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\t\tfunction check_channel() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\tif (e.lastChannel && "other" != e.lastChannel) updateBucket(score_obj, "lastChannel", e.lastChannel)\n\t\t\telse {\n\t\t\t\te.lastChannel = "other"\n\t\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t\t}\n\t\t\t\tupdateBucket(score_obj, "lastChannel", e.lastChannel)\n\t\t\t}\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}\n\n\t\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\tfunction check_configPV() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'configurator-prod\') {\n\t\t\t\t\te.configPV = \'yes\'\n\t\t\t\t\tupdateBucket(score_obj, "configPV", e.configPV)\n\t\t\t\t} else {\n\t\t\t\t\te.configPV = "no"\n\t\t\t\t\tupdateBucket(score_obj, "configPV", e.configPV)\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\tfunction check_sessionDuration_SL() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar check_SL = s.prop19\n\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = +e.sessionDuration_SL || 0\n\t\t\t\tif (i && (3 >= i ? updateBucket(score_obj, "sessionDuration_SL", "g0_leq3") : 99 >= i ? updateBucket(score_obj, "sessionDuration_SL", "g4_leq99") : 398 >= i ? updateBucket(score_obj, "sessionDuration_SL", "g100_leq398") : i >= 397 && updateBucket(score_obj, "sessionDuration_SL", "gteq399")), (check_SL.indexOf("stock locator") > -1 || check_SL.indexOf("stocklocator") > -1)) var o = setInterval(function() {\n\t\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\t\tr = +i.sessionDuration_SL || 0\n\t\t\t\t\t\tr++, 1 == r ? updateBucket(score_obj, "sessionDuration_SL", "g0_leq3") : 4 == r ? updateBucket(score_obj, "sessionDuration_SL", "g4_leq99") : 133 == r ? updateBucket(score_obj, "sessionDuration_SL", "g100_leq398") : r >= 399 && (updateBucket(score_obj, "sessionDuration_SL", "gteq399"), clearInterval(o)), i.sessionDuration_SL = r + "", /* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n\t\t\t\t\t}\n\n\t\t\t\t}, 1e3)\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_user_visit_number() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t\tif (t == 1) {\n\t\t\t\te.BUV_number = \'new\'\n\t\t\t\tupdateBucket(score_obj, "BUV_number", e.BUV_number)\n\t\t\t} else {\n\t\t\t\te.BUV_number = \'return\'\n\t\t\t\tupdateBucket(score_obj, "BUV_number", e.BUV_number)\n\t\t\t}\n\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_unique_configurator_sections() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\n\t\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t\t} else if (category.indexOf(\'colours\') > -1) {\n\t\t\t\t\t\tcategory = \'colours\'\n\t\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t\t} else if (category.indexOf(\'mirror_caps\') > -1) {\n\t\t\t\t\t\tcategory = \'mirror_caps\'\n\t\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\t\tcategory = \'con\'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t1 >= t ? updateBucket(score_obj, "uniconsec", "g0_leq1") : 4 >= t ? updateBucket(score_obj, "uniconsec", "g2_leq4") : 5 >= t ? updateBucket(score_obj, "uniconsec", "gteq5") : t > 6 && (updateBucket(score_obj, "uniconsec", "gteq5"), t > 6 && (a = !1)), a && (e.uniconsec = i, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e)))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////model_series_interaction////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_series_interaction() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\tupdateBucket(score_obj, "modelIn", e.modelIn)\n\t\t\t\t} else {\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\te.modelIn = \'true\'\n\t\t\t\t\t\tupdateBucket(score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\t\tupdateBucket(score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_topics_page_visited() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\t\te.topicPV = \'true\'\n\t\t\t\t\tupdateBucket(score_obj, "topicPV", e.topicPV)\n\n\t\t\t\t} else {\n\t\t\t\t\te.topicPV = "false"\n\t\t\t\t\tupdateBucket(score_obj, "topicPV", e.topicPV)\n\t\t\t\t}\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//BINOMIAL end\n\n\t\t//RFO start\n\n\t\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration_rfo() {\n\t\t\tshouldDisplayScore = !0\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration || 0\n\t\t\t19 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "leq19") : 39 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g20_leq39") : 81 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g40_leq81") : 145 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g82_leq145") : 243 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g146_leq243") : 423 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g244_leq423") : 871 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g424_leq871") : i >= 812 && rfo_updateBucket(rfo_score_obj, "sessionDuration", "gteq872")\n\t\t\tvar o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\t\tr++, 1 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "leq19") : 20 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g20_leq39") : 40 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g40_leq81") : 82 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g82_leq145") : 146 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g146_leq243") : 244 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g244_leq423") : 424 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration", "g424_leq871") : r >= 872 && (rfo_updateBucket(rfo_score_obj, "sessionDuration", "gteq872"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\t\tfunction check_configurator_session_duration_rfo() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration_config || 0\n\t\t\tif (i && (28 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "leq28") : 189 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "g29_leq189") : i >= 191 && rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "gteq190")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\t\tr++, 1 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "leq28") : 21 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "g29_leq189") : 190 == r && (rfo_updateBucket(rfo_score_obj, "sessionDuration_config", "gteq190"), clearInterval(o)), i.sessionDuration_config = r + "", /* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data", JSON.stringify(i))\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\t\tfunction check_pageview_metrics_rfo() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar hostname = window.location.host\n\t\t\tif (hostname.indexOf("www.") > -1)\n\t\t\t\thostname = hostname.replace("www.", "")\n\t\t\tvar pathURL = hostname + window.location.pathname\n\t\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\t\tfor (var s in i) t++\n\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "eq2") : 4 >= t ? rfo_updateBucket(rfo_score_obj, "uniquePV", "g3_leq4") : 5 == t && (rfo_updateBucket(rfo_score_obj, "uniquePV", "gteq5"), t > 6 && (a = !1)), a && (e.uniquePV = i)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV1_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "eq3") : 7 >= t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "g4_leq7") : 8 >= t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (rfo_updateBucket(rfo_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV2_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop43\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "gteq3") : t > 4 && (rfo_updateBucket(rfo_score_obj, "distinctPage_CV2", "gteq3"), t > 4 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType_rfo() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), rfo_updateBucket(rfo_score_obj, "deviceType", e.deviceType)\n\t\t}\n\n\t\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\t\tfunction check_channel_rfo() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\tif (e.lastChannel && "other" != e.lastChannel) rfo_updateBucket(rfo_score_obj, "lastChannel", e.lastChannel)\n\t\t\telse {\n\t\t\t\te.lastChannel = "other"\n\t\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t\t}\n\t\t\t\trfo_updateBucket(rfo_score_obj, "lastChannel", e.lastChannel)\n\t\t\t}\n\n\t\t}\n\n\t\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\tfunction check_configPV_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'configurator-prod\') {\n\t\t\t\t\te.configPV = \'yes\'\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "configPV", e.configPV)\n\t\t\t\t} else {\n\t\t\t\t\te.configPV = "no"\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "configPV", e.configPV)\n\t\t\t\t}\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\tfunction check_sessionDuration_SL_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar check_SL = s.prop19\n\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = +e.sessionDuration_SL || 0\n\t\t\t\tif (i && (3 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "g0_leq3") : 99 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "g4_leq99") : 398 >= i ? rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "g100_leq398") : i >= 397 && rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "gteq399")), (check_SL.indexOf("stock locator") > -1 || check_SL.indexOf("stocklocator") > -1)) var o = setInterval(function() {\n\t\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\t\tr = +i.sessionDuration_SL || 0\n\t\t\t\t\t\tr++, 1 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "g0_leq3") : 4 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "g4_leq99") : 133 == r ? rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "g100_leq398") : r >= 399 && (rfo_updateBucket(rfo_score_obj, "sessionDuration_SL", "gteq399"), clearInterval(o)), i.sessionDuration_SL = r + ""\n\t\t\t\t\t}\n\n\t\t\t\t}, 1e3)\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_user_visit_number_rfo() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t\t1 == t ? rfo_updateBucket(rfo_score_obj, "UV_number", "eq1") : 2 == t ? rfo_updateBucket(rfo_score_obj, "UV_number", "eq2") : 4 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g3_leq4") : 10 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g5_leq10") : 35 >= t ? rfo_updateBucket(rfo_score_obj, "UV_number", "g11_leq35") : t > 37 && (rfo_updateBucket(rfo_score_obj, "UV_number", "gteq36"), t > 37), e.UV_number = t, window.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t}\n\n\n\t\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_unique_configurator_sections_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\n\t\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t\t} else if (category.indexOf(\'colours\') > -1) {\n\t\t\t\t\t\tcategory = \'colours\'\n\t\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t\t} else if (category.indexOf(\'mirror_caps\') > -1) {\n\t\t\t\t\t\tcategory = \'mirror_caps\'\n\t\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\t\tcategory = \'con\'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t1 >= t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "g0_leq1") : 4 >= t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "g2_leq4") : 5 >= t ? rfo_updateBucket(rfo_score_obj, "uniconsec", "gteq5") : t > 6 && (rfo_updateBucket(rfo_score_obj, "uniconsec", "gteq5"), t > 6 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////model_series_interaction(In progress)////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_series_interaction_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "modelIn", e.modelIn)\n\t\t\t\t} else {\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\te.modelIn = \'true\'\n\t\t\t\t\t\trfo_updateBucket(rfo_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\t\trfo_updateBucket(rfo_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_topics_page_visited_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\t\te.topicPV = \'true\'\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "topicPV", e.topicPV)\n\n\t\t\t\t} else {\n\t\t\t\t\te.topicPV = "false"\n\t\t\t\t\trfo_updateBucket(rfo_score_obj, "topicPV", e.topicPV)\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//RFO end\n\n\t\t//RFI Start\n\n\t\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration_rfi() {\n\t\t\tshouldDisplayScore = !0\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration || 0\n\t\t\t19 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "leq19") : 39 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g20_leq39") : 81 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g40_leq81") : 145 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g82_leq145") : 243 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g146_leq243") : 423 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g244_leq423") : 871 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g424_leq871") : i >= 812 && rfi_updateBucket(rfi_score_obj, "sessionDuration", "gteq872")\n\t\t\tvar o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\t\tr++, 1 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "leq19") : 20 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g20_leq39") : 40 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g40_leq81") : 82 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g82_leq145") : 146 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g146_leq243") : 244 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g244_leq423") : 424 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration", "g424_leq871") : r >= 872 && (rfi_updateBucket(rfi_score_obj, "sessionDuration", "gteq872"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\t\tfunction check_configurator_session_duration_rfi() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration_config || 0\n\t\t\tif (i && (28 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "leq28") : 189 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "g29_leq189") : i >= 191 && rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "gteq190")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\t\tr++, 1 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "leq28") : 21 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "g29_leq189") : 190 == r && (rfi_updateBucket(rfi_score_obj, "sessionDuration_config", "gteq190"), clearInterval(o)), i.sessionDuration_config = r\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\t\tfunction check_pageview_metrics_rfi() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar hostname = window.location.host\n\t\t\tif (hostname.indexOf("www.") > -1)\n\t\t\t\thostname = hostname.replace("www.", "")\n\t\t\tvar pathURL = hostname + window.location.pathname\n\t\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\t\tfor (var s in i) t++\n\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "eq2") : 4 >= t ? rfi_updateBucket(rfi_score_obj, "uniquePV", "g3_leq4") : 5 == t && (rfi_updateBucket(rfi_score_obj, "uniquePV", "gteq5"), t > 6 && (a = !1)), a && (e.uniquePV = i)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV1_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "eq3") : 7 >= t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "g4_leq7") : 8 >= t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (rfi_updateBucket(rfi_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV2_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop43\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "gteq3") : t > 4 && (rfi_updateBucket(rfi_score_obj, "distinctPage_CV2", "gteq3"), t > 4 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType_rfi() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), rfi_updateBucket(rfi_score_obj, "deviceType", e.deviceType)\n\t\t}\n\n\t\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\t\tfunction check_channel_rfi() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\tif (e.lastChannel && "other" != e.lastChannel) rfi_updateBucket(rfi_score_obj, "lastChannel", e.lastChannel)\n\t\t\telse {\n\t\t\t\te.lastChannel = "other"\n\t\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t\t}\n\t\t\t\trfi_updateBucket(rfi_score_obj, "lastChannel", e.lastChannel)\n\t\t\t}\n\n\t\t}\n\n\t\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\tfunction check_configPV_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'configurator-prod\') {\n\t\t\t\t\te.configPV = \'yes\'\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "configPV", e.configPV)\n\t\t\t\t} else {\n\t\t\t\t\te.configPV = "no"\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "configPV", e.configPV)\n\t\t\t\t}\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\tfunction check_sessionDuration_SL_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar check_SL = s.prop19\n\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = +e.sessionDuration_SL || 0\n\t\t\t\tif (i && (3 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "g0_leq3") : 99 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "g4_leq99") : 398 >= i ? rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "g100_leq398") : i >= 397 && rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "gteq399")), (check_SL.indexOf("stock locator") > -1 || check_SL.indexOf("stocklocator") > -1)) var o = setInterval(function() {\n\t\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\t\tr = +i.sessionDuration_SL || 0\n\t\t\t\t\t\tr++, 1 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "g0_leq3") : 4 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "g4_leq99") : 133 == r ? rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "g100_leq398") : r >= 399 && (rfi_updateBucket(rfi_score_obj, "sessionDuration_SL", "gteq399"), clearInterval(o)), i.sessionDuration_SL = r + ""\n\t\t\t\t\t}\n\n\t\t\t\t}, 1e3)\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_user_visit_number_rfi() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t\t1 == t ? rfi_updateBucket(rfi_score_obj, "UV_number", "eq1") : 2 == t ? rfi_updateBucket(rfi_score_obj, "UV_number", "eq2") : 4 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g3_leq4") : 10 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g5_leq10") : 35 >= t ? rfi_updateBucket(rfi_score_obj, "UV_number", "g11_leq35") : t > 37 && (rfi_updateBucket(rfi_score_obj, "UV_number", "gteq36"), t > 37), e.UV_number = t\n\t\t}\n\n\n\t\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_unique_configurator_sections_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\n\t\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t\t} else if (category.indexOf(\'colours\') > -1) {\n\t\t\t\t\t\tcategory = \'colours\'\n\t\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t\t} else if (category.indexOf(\'mirror_caps\') > -1) {\n\t\t\t\t\t\tcategory = \'mirror_caps\'\n\t\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\t\tcategory = \'con\'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t1 >= t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "g0_leq1") : 4 >= t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "g2_leq4") : 5 >= t ? rfi_updateBucket(rfi_score_obj, "uniconsec", "gteq5") : t > 6 && (rfi_updateBucket(rfi_score_obj, "uniconsec", "gteq5"), t > 6 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////model_series_interaction(In progress)////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_series_interaction_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "modelIn", e.modelIn)\n\t\t\t\t} else {\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\te.modelIn = \'true\'\n\t\t\t\t\t\trfi_updateBucket(rfi_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\t\trfi_updateBucket(rfi_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_topics_page_visited_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\t\te.topicPV = \'true\'\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "topicPV", e.topicPV)\n\n\t\t\t\t} else {\n\t\t\t\t\te.topicPV = "false"\n\t\t\t\t\trfi_updateBucket(rfi_score_obj, "topicPV", e.topicPV)\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//RFI end\n\n\t\t//tda Start\n\n\t\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration_tda() {\n\t\t\tshouldDisplayScore = !0\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration || 0\n\t\t\t19 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "leq19") : 39 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g20_leq39") : 81 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g40_leq81") : 145 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g82_leq145") : 243 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g146_leq243") : 423 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g244_leq423") : 871 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration", "g424_leq871") : i >= 812 && tda_updateBucket(tda_score_obj, "sessionDuration", "gteq872")\n\t\t\tvar o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\t\tr++, 1 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "leq19") : 20 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g20_leq39") : 40 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g40_leq81") : 82 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g82_leq145") : 146 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g146_leq243") : 244 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g244_leq423") : 424 == r ? tda_updateBucket(tda_score_obj, "sessionDuration", "g424_leq871") : r >= 872 && (tda_updateBucket(tda_score_obj, "sessionDuration", "gteq872"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\t\tfunction check_configurator_session_duration_tda() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration_config || 0\n\t\t\tif (i && (28 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "leq28") : 189 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "g29_leq189") : i >= 191 && tda_updateBucket(tda_score_obj, "sessionDuration_config", "gteq190")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\t\tr++, 1 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "leq28") : 21 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_config", "g29_leq189") : 190 == r && (tda_updateBucket(tda_score_obj, "sessionDuration_config", "gteq190"), clearInterval(o)), i.sessionDuration_config = r\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\t\tfunction check_pageview_metrics_tda() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar hostname = window.location.host\n\t\t\tif (hostname.indexOf("www.") > -1)\n\t\t\t\thostname = hostname.replace("www.", "")\n\t\t\tvar pathURL = hostname + window.location.pathname\n\t\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\t\tfor (var s in i) t++\n\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "uniquePV", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "uniquePV", "eq2") : 4 >= t ? tda_updateBucket(tda_score_obj, "uniquePV", "g3_leq4") : 5 == t && (tda_updateBucket(tda_score_obj, "uniquePV", "gteq5"), t > 6 && (a = !1)), a && (e.uniquePV = i)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV1_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "eq3") : 7 >= t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "g4_leq7") : 8 >= t ? tda_updateBucket(tda_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (tda_updateBucket(tda_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV2_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop43\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? tda_updateBucket(tda_score_obj, "distinctPage_CV2", "gteq3") : t > 4 && (tda_updateBucket(tda_score_obj, "distinctPage_CV2", "gteq3"), t > 4 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType_tda() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), tda_updateBucket(tda_score_obj, "deviceType", e.deviceType)\n\t\t}\n\n\t\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\t\tfunction check_channel_tda() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\tif (e.lastChannel && "other" != e.lastChannel) tda_updateBucket(tda_score_obj, "lastChannel", e.lastChannel)\n\t\t\telse {\n\t\t\t\te.lastChannel = "other"\n\t\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t\t}\n\t\t\t\ttda_updateBucket(tda_score_obj, "lastChannel", e.lastChannel)\n\t\t\t}\n\n\t\t}\n\n\t\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\tfunction check_configPV_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'configurator-prod\') {\n\t\t\t\t\te.configPV = \'yes\'\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "configPV", e.configPV)\n\t\t\t\t} else {\n\t\t\t\t\te.configPV = "no"\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "configPV", e.configPV)\n\t\t\t\t}\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\tfunction check_sessionDuration_SL_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar check_SL = s.prop19\n\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = +e.sessionDuration_SL || 0\n\t\t\t\tif (i && (3 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_SL", "g0_leq3") : 99 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_SL", "g4_leq99") : 398 >= i ? tda_updateBucket(tda_score_obj, "sessionDuration_SL", "g100_leq398") : i >= 397 && tda_updateBucket(tda_score_obj, "sessionDuration_SL", "gteq399")), (check_SL.indexOf("stock locator") > -1 || check_SL.indexOf("stocklocator") > -1)) var o = setInterval(function() {\n\t\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\t\tr = +i.sessionDuration_SL || 0\n\t\t\t\t\t\tr++, 1 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_SL", "g0_leq3") : 4 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_SL", "g4_leq99") : 133 == r ? tda_updateBucket(tda_score_obj, "sessionDuration_SL", "g100_leq398") : r >= 399 && (tda_updateBucket(tda_score_obj, "sessionDuration_SL", "gteq399"), clearInterval(o)), i.sessionDuration_SL = r + ""\n\t\t\t\t\t}\n\n\t\t\t\t}, 1e3)\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_user_visit_number_tda() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t\t1 == t ? tda_updateBucket(tda_score_obj, "UV_number", "eq1") : 2 == t ? tda_updateBucket(tda_score_obj, "UV_number", "eq2") : 4 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g3_leq4") : 10 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g5_leq10") : 35 >= t ? tda_updateBucket(tda_score_obj, "UV_number", "g11_leq35") : t > 37 && (tda_updateBucket(tda_score_obj, "UV_number", "gteq36"), t > 37), e.UV_number = t\n\t\t}\n\n\n\t\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_unique_configurator_sections_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\n\t\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t\t} else if (category.indexOf(\'colours\') > -1) {\n\t\t\t\t\t\tcategory = \'colours\'\n\t\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t\t} else if (category.indexOf(\'mirror_caps\') > -1) {\n\t\t\t\t\t\tcategory = \'mirror_caps\'\n\t\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\t\tcategory = \'con\'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t1 >= t ? tda_updateBucket(tda_score_obj, "uniconsec", "g0_leq1") : 4 >= t ? tda_updateBucket(tda_score_obj, "uniconsec", "g2_leq4") : 5 >= t ? tda_updateBucket(tda_score_obj, "uniconsec", "gteq5") : t > 6 && (tda_updateBucket(tda_score_obj, "uniconsec", "gteq5"), t > 6 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////model_series_interaction(In progress)////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_series_interaction_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "modelIn", e.modelIn)\n\t\t\t\t} else {\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\te.modelIn = \'true\'\n\t\t\t\t\t\ttda_updateBucket(tda_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\t\ttda_updateBucket(tda_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_topics_page_visited_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\t\te.topicPV = \'true\'\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "topicPV", e.topicPV)\n\n\t\t\t\t} else {\n\t\t\t\t\te.topicPV = "false"\n\t\t\t\t\ttda_updateBucket(tda_score_obj, "topicPV", e.topicPV)\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\t\t//tda end\n\n\t\t//CFE Start\n\t\t//////////////////////////////////////////////session_duration/////////////////////////////////////////////////////////////\n\t\tfunction check_session_duration_vco() {\n\t\t\tshouldDisplayScore = !0\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration || 0\n\t\t\t19 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "leq19") : 39 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g20_leq39") : 81 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g40_leq81") : 145 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g82_leq145") : 243 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g146_leq243") : 423 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g244_leq423") : 871 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration", "g424_leq871") : i >= 812 && vco_updateBucket(vco_score_obj, "sessionDuration", "gteq872")\n\t\t\tvar o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration || 0\n\t\t\t\t\tr++, 1 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "leq19") : 20 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g20_leq39") : 40 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g40_leq81") : 82 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g82_leq145") : 146 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g146_leq243") : 244 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g244_leq423") : 424 == r ? vco_updateBucket(vco_score_obj, "sessionDuration", "g424_leq871") : r >= 872 && (vco_updateBucket(vco_score_obj, "sessionDuration", "gteq872"), clearInterval(o)), i.sessionDuration = r + ""\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t////////////////////////////////////////////////session_duration_configurator///////////////////////////////////////////////\n\t\tfunction check_configurator_session_duration_vco() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = +e.sessionDuration_config || 0\n\t\t\tif (i && (28 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "leq28") : 189 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "g29_leq189") : i >= 191 && vco_updateBucket(vco_score_obj, "sessionDuration_config", "gteq190")), (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\telse {\n\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\tr = +i.sessionDuration_config || 0\n\t\t\t\t\tr++, 1 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "leq28") : 21 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_config", "g29_leq189") : 190 == r && (vco_updateBucket(vco_score_obj, "sessionDuration_config", "gteq190"), clearInterval(o)), i.sessionDuration_config = r\n\t\t\t\t}\n\n\t\t\t}, 1e3)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_pages_visited/////////////////////////////////////////////////////////      \n\t\tfunction check_pageview_metrics_vco() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.uniquePV || {})),\n\t\t\t\tt = 0,\n\t\t\t\tn = !0,\n\t\t\t\ta = !0\n\t\t\tvar hostname = window.location.host\n\t\t\tif (hostname.indexOf("www.") > -1)\n\t\t\t\thostname = hostname.replace("www.", "")\n\t\t\tvar pathURL = hostname + window.location.pathname\n\t\t\ti[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n\t\t\tfor (var s in i) t++\n\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "uniquePV", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "uniquePV", "eq2") : 4 >= t ? vco_updateBucket(vco_score_obj, "uniquePV", "g3_leq4") : 5 == t && (vco_updateBucket(vco_score_obj, "uniquePV", "gteq5"), t > 6 && (a = !1)), a && (e.uniquePV = i)\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop1////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV1_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV1 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop1\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "eq2") : 3 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "eq3") : 7 >= t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "g4_leq7") : 8 >= t ? vco_updateBucket(vco_score_obj, "distinctPage_CV1", "gteq8") : t > 9 && (vco_updateBucket(vco_score_obj, "distinctPage_CV1", "gteq8"), t > 9 && (a = !1)), a && (e.distinctPage_CV1 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////unique_page_category_visited_prop43////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_distinctPage_CV2_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.distinctPage_CV2 || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\t\t\t\tvar category = s.prop43\n\n\t\t\t\tif (category != \'\') {\n\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "eq2") : 3 == t ? vco_updateBucket(vco_score_obj, "distinctPage_CV2", "gteq3") : t > 4 && (vco_updateBucket(vco_score_obj, "distinctPage_CV2", "gteq3"), t > 4 && (a = !1)), a && (e.distinctPage_CV2 = i)\n\t\t\t\t}\n\t\t\t}, 2600);\n\t\t}\n\n\t\t//////////////////////////////////////////////check_deviceType /////////////////////////////////////////////////////////////\t\t\n\t\tfunction check_deviceType_vco() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\ti = JSON.parse(JSON.stringify(e.deviceType || {}))\n\t\t\tnavigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.deviceType = "mobile" : navigator.userAgent.match(/iPad|Android|Touch/i) ? e.deviceType = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.deviceType = "desktop" : e.deviceType = "misc"), vco_updateBucket(vco_score_obj, "deviceType", e.deviceType)\n\t\t}\n\n\t\t//////////////////////////////////////////////lastChannel///////////////////////////////////////////////////////////////////\n\t\tfunction check_channel_vco() {\n\n\t\t\tvar e = getParsedCookie("v_reco_data")\n\n\t\t\tif (e.lastChannel && "other" != e.lastChannel) vco_updateBucket(vco_score_obj, "lastChannel", e.lastChannel)\n\t\t\telse {\n\t\t\t\te.lastChannel = "other"\n\t\t\t\tfor (var i = 0; i < queryPaidParameters.length; i++)\n\t\t\t\t\tif (getParameterByName(queryPaidParameters[i], URL)) {\n\t\t\t\t\t\te.lastChannel = "paid_search"\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} if ("other" == e.lastChannel) {\n\t\t\t\t\tvar o = getParameterByName("tl", URL) || ""\n\t\t\t\t\t0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.lastChannel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.lastChannel = "display")\n\t\t\t\t}\n\t\t\t\tvco_updateBucket(vco_score_obj, "lastChannel", e.lastChannel)\n\t\t\t}\n\n\t\t}\n\n\t\t//////////////////////////////////////////////configPV/////////////////////////////////////////////////////////////////\n\t\tfunction check_configPV_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'new car configurator\' || s.prop43 == \'configurator-prod\') {\n\t\t\t\t\te.configPV = \'yes\'\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "configPV", e.configPV)\n\t\t\t\t} else {\n\t\t\t\t\te.configPV = "no"\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "configPV", e.configPV)\n\t\t\t\t}\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////sessionDuration_SL////////////////////////////////////////////////////////////////\n\t\tfunction check_sessionDuration_SL_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar check_SL = s.prop19\n\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = +e.sessionDuration_SL || 0\n\t\t\t\tif (i && (3 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_SL", "g0_leq3") : 99 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_SL", "g4_leq99") : 398 >= i ? vco_updateBucket(vco_score_obj, "sessionDuration_SL", "g100_leq398") : i >= 397 && vco_updateBucket(vco_score_obj, "sessionDuration_SL", "gteq399")), (check_SL.indexOf("stock locator") > -1 || check_SL.indexOf("stocklocator") > -1)) var o = setInterval(function() {\n\t\t\t\t\tvar e = _satellite.getVar("isAdobeAnalyticsAllowed")\n\t\t\t\t\tif ("false" == e) clearInterval(o)\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar i = getParsedCookie("v_reco_data"),\n\t\t\t\t\t\t\tr = +i.sessionDuration_SL || 0\n\t\t\t\t\t\tr++, 1 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_SL", "g0_leq3") : 4 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_SL", "g4_leq99") : 133 == r ? vco_updateBucket(vco_score_obj, "sessionDuration_SL", "g100_leq398") : r >= 399 && (vco_updateBucket(vco_score_obj, "sessionDuration_SL", "gteq399"), clearInterval(o)), i.sessionDuration_SL = r + ""\n\t\t\t\t\t}\n\n\t\t\t\t}, 1e3)\n\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////UV_number////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_user_visit_number_vco() {\n\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\tt = _satellite.getVar(\'AT-numSessions\')\n\t\t\t1 == t ? vco_updateBucket(vco_score_obj, "UV_number", "eq1") : 2 == t ? vco_updateBucket(vco_score_obj, "UV_number", "eq2") : 4 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g3_leq4") : 10 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g5_leq10") : 35 >= t ? vco_updateBucket(vco_score_obj, "UV_number", "g11_leq35") : t > 37 && (vco_updateBucket(vco_score_obj, "UV_number", "gteq36"), t > 37), e.UV_number = t\n\t\t}\n\n\n\t\t//////////////////////////////////////////////unique_configurator_sections////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_unique_configurator_sections_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data"),\n\t\t\t\t\ti = JSON.parse(JSON.stringify(e.uniconsec || {})),\n\t\t\t\t\tt = 0,\n\t\t\t\t\tn = !0,\n\t\t\t\t\ta = !0\n\n\t\t\t\tif (URL.indexOf("configure.bmw") > -1 || URL.indexOf("konfigurator.html") > -1) {\n\t\t\t\t\tvar category = s.prop1\n\n\t\t\t\t\tif (category.indexOf(\'engines\') > -1) {\n\t\t\t\t\t\tcategory = \'engines\'\n\t\t\t\t\t} else if (category.indexOf(\'precon\') > -1) {\n\t\t\t\t\t\tcategory = \'precon\'\n\t\t\t\t\t} else if (category.indexOf(\'accessories\') > -1) {\n\t\t\t\t\t\tcategory = \'accessories\'\n\t\t\t\t\t} else if (category.indexOf(\'basic_equipment\') > -1) {\n\t\t\t\t\t\tcategory = \'equipment\'\n\t\t\t\t\t} else if (category.indexOf(\'colours\') > -1) {\n\t\t\t\t\t\tcategory = \'colours\'\n\t\t\t\t\t} else if (category.indexOf(\'summary\') > -1) {\n\t\t\t\t\t\tcategory = \'summary\'\n\t\t\t\t\t} else if (category.indexOf(\'garage\') > -1) {\n\t\t\t\t\t\tcategory = \'garage\'\n\t\t\t\t\t} else if (category.indexOf(\'upholstery\') > -1) {\n\t\t\t\t\t\tcategory = \'upholstery\'\n\t\t\t\t\t} else if (category.indexOf(\'trims\') > -1) {\n\t\t\t\t\t\tcategory = \'trims\'\n\t\t\t\t\t} else if (category.indexOf(\'rims\') > -1) {\n\t\t\t\t\t\tcategory = \'rims\'\n\t\t\t\t\t} else if (category.indexOf(\'lines\') > -1) {\n\t\t\t\t\t\tcategory = \'lines\'\n\t\t\t\t\t} else if (category.indexOf(\'footer\') > -1) {\n\t\t\t\t\t\tcategory = \'footer\'\n\t\t\t\t\t} else if (category.indexOf(\'exterior_highlights\') > -1) {\n\t\t\t\t\t\tcategory = \'exterior\'\n\t\t\t\t\t} else if (category.indexOf(\'mirror_caps\') > -1) {\n\t\t\t\t\t\tcategory = \'mirror_caps\'\n\t\t\t\t\t} else if (category.indexOf(\'interior_highlights\') > -1 || category.indexOf(\'interior worlds\') > -1) {\n\t\t\t\t\t\tcategory = \'interior\'\n\t\t\t\t\t} else if (category.indexOf(\'packages_and_options\') > -1 || category.indexOf(\'midway_saving\') > -1) {\n\t\t\t\t\t\tcategory = \'packages\'\n\t\t\t\t\t} else if (category.indexOf(\'bmw-i4\') > -1 || category.indexOf(\'bmw-ix\') > -1) {\n\t\t\t\t\t\tcategory = \'bmw i\'\n\t\t\t\t\t} else if (category.indexOf(\'all-models-con-entry\') > -1 || category.indexOf(\'consent\') > -1 || category.indexOf(\'configid\') > -1) {\n\t\t\t\t\t\tcategory = \'con\'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (category != \'\') {\n\t\t\t\t\t\ti[category] ? i[category] += 1 : i[category] = 1\n\n\t\t\t\t\t\tfor (var h in i) t++\n\t\t\t\t\t\t1 >= t ? vco_updateBucket(vco_score_obj, "uniconsec", "g0_leq1") : 4 >= t ? vco_updateBucket(vco_score_obj, "uniconsec", "g2_leq4") : 5 >= t ? vco_updateBucket(vco_score_obj, "uniconsec", "gteq5") : t > 6 && (vco_updateBucket(vco_score_obj, "uniconsec", "gteq5"), t > 6 && (a = !1)), a && (e.uniconsec = i)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////model_series_interaction(In progress)////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_model_series_interaction_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.eVar65 == undefined || s.eVar65 == \'datalayer field missing\') {\n\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "modelIn", e.modelIn)\n\t\t\t\t} else {\n\t\t\t\t\tif (s.prop43 == \'showroom\') {\n\t\t\t\t\t\te.modelIn = \'true\'\n\t\t\t\t\t\tvco_updateBucket(vco_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.modelIn = "false"\n\t\t\t\t\t\tvco_updateBucket(vco_score_obj, "modelIn", e.modelIn)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//////////////////////////////////////////////topics_page_visited////////////////////////////////////////////////////////////////////////// \n\t\tfunction check_topics_page_visited_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\tif (s.prop43 == \'topics\') {\n\t\t\t\t\te.topicPV = \'true\'\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "topicPV", e.topicPV)\n\n\t\t\t\t} else {\n\t\t\t\t\te.topicPV = "false"\n\t\t\t\t\tvco_updateBucket(vco_score_obj, "topicPV", e.topicPV)\n\t\t\t\t}\n\t\t\t}, 2500);\n\t\t}\n\n\t\t//CFE end\n\n\t\t////////////////////final/////////////////////////////\n\t\tfunction scorefinal() {\n\t\t\tsetTimeout(function() {\n\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\te.SFB = _satellite.getVar(\'final_newscore\');\n\t\t\t\tconsole.log(e.SFB + \'final_newscore_cookie\')\n\t\t\t\tupdateBucket(score_obj, "SFB", e.SFB)\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 3000);\n\t\t}\n\n\n\t\tfunction scorefinal_rfi() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\te.rfi = _satellite.getVar(\'final_newscore_rfi\');\n\t\t\t\trfi_updateBucket(rfi_score_obj, "rfi", e.rfi)\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 2500);\n\t\t}\n\n\t\tfunction scorefinal_rfo() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\te.rfo = _satellite.getVar(\'final_newscore_rfo\');\n\t\t\t\tconsole.log(e.rfo + \'final_newscore_cookie_rfo\');\n\t\t\t\trfo_updateBucket(rfo_score_obj, "rfo", e.rfo)\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 3000);\n\t\t}\n\n\t\tfunction scorefinal_tda() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\te.tda = _satellite.getVar(\'final_newscore_tda\');\n\t\t\t\ttda_updateBucket(tda_score_obj, "tda", e.tda)\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 3000);\n\t\t}\n\n\t\tfunction scorefinal_vco() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar e = getParsedCookie("v_reco_data")\n\t\t\t\te.vco = _satellite.getVar(\'final_newscore_vco\');\n\t\t\t\tvco_updateBucket(vco_score_obj, "vco", e.vco)\n\t\t\t\twindow.epaas.api.setPersistence("v_reco_data", JSON.stringify(e))\n\t\t\t}, 3000);\n\t\t}\n\n\n\n\n\t\tfunction init() {\n\t\t\tvar e = {},\n\t\t\t\ti = {},\n\t\t\t\to = {},\n\t\t\t\tr = {},\n\t\t\t\tt = {},\n\t\t\t\tn = {},\n\t\t\t\ta = {},\n\t\t\t\tb = {},\n\t\t\t\tc = {},\n\t\t\t\tf = {},\n\t\t\t\th = {},\n\t\t\t\tj = {},\n\t\t\t\tk = {},\n\t\t\t\tm = {},\n\t\t\t\td = {},\n\t\t\t\tu = {},\n\t\t\t\tg = {},\n\t\t\t\tp = {},\n\t\t\t\tt = {},\n\t\t\t\ts = {}\n\t\t\tif (addDimension(s, "always_on", weight_value(-7.087538, 1)),\n\n\n\t\t\t\taddDimension(o, "leq19", weight_value(0)),\n\t\t\t\taddDimension(o, "g20_leq39", weight_value(1.659049)),\n\t\t\t\taddDimension(o, "g40_leq81", weight_value(4.083782)),\n\t\t\t\taddDimension(o, "g82_leq145", weight_value(4.518691)),\n\t\t\t\taddDimension(o, "g146_leq243", weight_value(4.393351)),\n\t\t\t\taddDimension(o, "g244_leq423", weight_value(4.06433)),\n\t\t\t\taddDimension(o, "g424_leq871", weight_value(4.124348)),\n\t\t\t\taddDimension(o, "gteq872", weight_value(4.016371)),\n\n\t\t\t\taddDimension(i, "eq1", weight_value(0)),\n\t\t\t\taddDimension(i, "eq2", weight_value(4.168646)),\n\t\t\t\taddDimension(i, "g3_leq4", weight_value(5.67539)),\n\t\t\t\taddDimension(i, "eq5", weight_value(-0.416266)),\n\t\t\t\taddDimension(i, "gteq6", weight_value(5.17734)),\n\n\t\t\t\taddDimension(j, "eq1", weight_value(0)),\n\t\t\t\taddDimension(j, "eq2", weight_value(-2.244601)),\n\t\t\t\taddDimension(j, "eq3", weight_value(-4.014151)),\n\t\t\t\taddDimension(j, "g4_leq7", weight_value(-5.323476)),\n\t\t\t\taddDimension(j, "gteq8", weight_value(-4.904513)),\n\n\t\t\t\taddDimension(k, "eq1", weight_value(0)),\n\t\t\t\taddDimension(k, "eq2", weight_value(-1.30324)),\n\t\t\t\taddDimension(k, "gteq3", weight_value(-0.841177)),\n\n\t\t\t\taddDimension(n, "mobile", weight_value(-0.161016)),\n\t\t\t\taddDimension(n, "misc", weight_value(0)),\n\t\t\t\taddDimension(n, "tablet", weight_value(0)),\n\t\t\t\taddDimension(n, "desktop", weight_value(-0.005643)),\n\n\t\t\t\taddDimension(a, "paid_search", weight_value(-0.486274)),\n\t\t\t\taddDimension(a, "display", weight_value(0)),\n\t\t\t\taddDimension(a, "other", weight_value(-0.492012)),\n\n\t\t\t\taddDimension(c, "yes", weight_value(-4.459954)),\n\t\t\t\taddDimension(c, "no", weight_value(0)),\n\n\t\t\t\taddDimension(f, "g0_leq3", weight_value(0)),\n\t\t\t\taddDimension(f, "g4_leq99", weight_value(2.974003)),\n\t\t\t\taddDimension(f, "g100_leq398", weight_value(2.600519)),\n\t\t\t\taddDimension(f, "gteq399", weight_value(2.687267)),\n\n\t\t\t\taddDimension(h, "new", weight_value(0)),\n\t\t\t\taddDimension(h, "return", weight_value(0.219004)),\n\n\t\t\t\taddDimension(d, "eq1", weight_value(0)),\n\t\t\t\taddDimension(d, "g2_leq4", weight_value(2.006194)),\n\t\t\t\taddDimension(d, "gteq5", weight_value(2.071282)),\n\n\t\t\t\taddDimension(u, "yes", weight_value(3.669935)),\n\t\t\t\taddDimension(u, "no", weight_value(0)),\n\n\t\t\t\taddDimension(p, "false", weight_value(0)),\n\t\t\t\taddDimension(p, "true", weight_value(3.459518)),\n\n\t\t\t\taddDimension(m, "SFB", weight_value(0)),\n\n\t\t\t\taddDimension(score_obj, "sessionDuration", o),\n\t\t\t\taddDimension(score_obj, "uniquePV", i),\n\t\t\t\taddDimension(score_obj, "distinctPage_CV1", j),\n\t\t\t\taddDimension(score_obj, "distinctPage_CV2", k),\n\t\t\t\taddDimension(score_obj, "deviceType", n),\n\t\t\t\taddDimension(score_obj, "lastChannel", a),\n\t\t\t\taddDimension(score_obj, "configPV", c),\n\t\t\t\taddDimension(score_obj, "sessionDuration_SL", f),\n\t\t\t\taddDimension(score_obj, "BUV_number", h),\n\t\t\t\taddDimension(score_obj, "uniconsec", d),\n\t\t\t\taddDimension(score_obj, "modelIn", u),\n\t\t\t\taddDimension(score_obj, "topicPV", p),\n\t\t\t\taddDimension(score_obj, "SFB", m),\n\t\t\t\taddDimension(score_obj, "intercept", s),\n\n\t\t\t\tcheck_session_duration(),\n\t\t\t\tcheck_user_visit_number(),\n\t\t\t\tcheck_distinctPage_CV1(),\n\t\t\t\tcheck_distinctPage_CV2(),\n\t\t\t\tcheck_deviceType(),\n\t\t\t\tcheck_channel(),\n\t\t\t\tcheck_configPV(),\n\t\t\t\tcheck_sessionDuration_SL(),\n\t\t\t\tcheck_pageview_metrics(),\n\t\t\t\tcheck_unique_configurator_sections(),\n\t\t\t\tcheck_model_series_interaction(),\n\t\t\t\tcheck_topics_page_visited(),\n\t\t\t\tscorefinal(),\n\n\t\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\t\tshouldSendScore = !0\n\t\t\telse {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tshouldSendScore = !0\n\t\t\t\t}, 3e4)\n\t\t\t}\n\t\t}\n\n\n\t\tfunction init_rfo() {\n\t\t\tvar e = {},\n\t\t\t\ti = {},\n\t\t\t\to = {},\n\t\t\t\tr = {},\n\t\t\t\tt = {},\n\t\t\t\tn = {},\n\t\t\t\ta = {},\n\t\t\t\tb = {},\n\t\t\t\tc = {},\n\t\t\t\tf = {},\n\t\t\t\th = {},\n\t\t\t\tj = {},\n\t\t\t\tk = {},\n\t\t\t\tm = {},\n\t\t\t\td = {},\n\t\t\t\tu = {},\n\t\t\t\tg = {},\n\t\t\t\tp = {},\n\t\t\t\ts = {}\n\t\t\tif (rfo_addDimension(s, "always_on", weight_value(-5.699333, 1)),\n\n\n\t\t\t\trfo_addDimension(o, "leq19", weight_value(0)),\n\t\t\t\trfo_addDimension(o, "g20_leq39", weight_value(-0.07964554)),\n\t\t\t\trfo_addDimension(o, "g40_leq81", weight_value(1.3300728)),\n\t\t\t\trfo_addDimension(o, "g82_leq145", weight_value(1.5830868)),\n\t\t\t\trfo_addDimension(o, "g146_leq243", weight_value(1.1632468)),\n\t\t\t\trfo_addDimension(o, "g244_leq423", weight_value(1.0817394)),\n\t\t\t\trfo_addDimension(o, "g424_leq871", weight_value(0.822058)),\n\t\t\t\trfo_addDimension(o, "gteq872", weight_value(0.95381204)),\n\n\t\t\t\trfo_addDimension(r, "leq28", weight_value(0)),\n\t\t\t\trfo_addDimension(r, "g28_leq189", weight_value(-0.7059624)),\n\t\t\t\trfo_addDimension(r, "gteq190", weight_value(-0.77865)),\n\n\t\t\t\trfo_addDimension(i, "eq1", weight_value(0)),\n\t\t\t\trfo_addDimension(i, "eq2", weight_value(1.1247418)),\n\t\t\t\trfo_addDimension(i, "g3_leq4", weight_value(1.7424623)),\n\t\t\t\trfo_addDimension(i, "gteq5", weight_value(1.37126503)),\n\n\t\t\t\trfo_addDimension(j, "eq1", weight_value(0)),\n\t\t\t\trfo_addDimension(j, "eq2", weight_value(1.34594053)),\n\t\t\t\trfo_addDimension(j, "eq3", weight_value(1.3675168)),\n\t\t\t\trfo_addDimension(j, "g4_leq7", weight_value(0.977439)),\n\t\t\t\trfo_addDimension(j, "gteq8", weight_value(1.308895)),\n\n\t\t\t\trfo_addDimension(k, "eq1", weight_value(0)),\n\t\t\t\trfo_addDimension(k, "eq2", weight_value(-1.7983516)),\n\t\t\t\trfo_addDimension(k, "gteq3", weight_value(-1.8503316)),\n\n\t\t\t\trfo_addDimension(n, "mobile", weight_value(0.41585416)),\n\t\t\t\trfo_addDimension(n, "misc", weight_value(0)),\n\t\t\t\trfo_addDimension(n, "tablet", weight_value(0)),\n\t\t\t\trfo_addDimension(n, "desktop", weight_value(0.4636847)),\n\n\t\t\t\trfo_addDimension(a, "paid_search", weight_value(0.61803081)),\n\t\t\t\trfo_addDimension(a, "display", weight_value(0)),\n\t\t\t\trfo_addDimension(a, "other", weight_value(0.48103772)),\n\n\t\t\t\trfo_addDimension(c, "yes", weight_value(-0.6712159)),\n\t\t\t\trfo_addDimension(c, "no", weight_value(0)),\n\n\t\t\t\trfo_addDimension(f, "g0_leq3", weight_value(0)),\n\t\t\t\trfo_addDimension(f, "g4_leq99", weight_value(2.70220026)),\n\t\t\t\trfo_addDimension(f, "g100_leq398", weight_value(2.60719333)),\n\t\t\t\trfo_addDimension(f, "gteq399", weight_value(2.7710956)),\n\n\t\t\t\trfo_addDimension(h, "eq1", weight_value(0)),\n\t\t\t\trfo_addDimension(h, "eq2", weight_value(0.21970439)),\n\t\t\t\trfo_addDimension(h, "g3_leq4", weight_value(0.3517049)),\n\t\t\t\trfo_addDimension(h, "g5_leq10", weight_value(0.2791864)),\n\t\t\t\trfo_addDimension(h, "g11_leq35", weight_value(0.001928886)),\n\t\t\t\trfo_addDimension(h, "gteq399", weight_value(-0.3786083)),\n\n\t\t\t\trfo_addDimension(d, "eq1", weight_value(0)),\n\t\t\t\trfo_addDimension(d, "g2_leq4", weight_value(0.1955772)),\n\t\t\t\trfo_addDimension(d, "gteq5", weight_value(0.8325525)),\n\n\t\t\t\trfo_addDimension(u, "yes", weight_value(0.4581199)),\n\t\t\t\trfo_addDimension(u, "no", weight_value(0)),\n\n\t\t\t\trfo_addDimension(p, "false", weight_value(0)),\n\t\t\t\trfo_addDimension(p, "true", weight_value(1.051735)),\n\n\t\t\t\trfo_addDimension(m, "rfo", weight_value(0)),\n\n\t\t\t\trfo_addDimension(rfo_score_obj, "sessionDuration", o),\n\t\t\t\trfo_addDimension(rfo_score_obj, "sessionDuration_config", r),\n\t\t\t\trfo_addDimension(rfo_score_obj, "uniquePV", i),\n\t\t\t\trfo_addDimension(rfo_score_obj, "distinctPage_CV1", j),\n\t\t\t\trfo_addDimension(rfo_score_obj, "distinctPage_CV2", k),\n\t\t\t\trfo_addDimension(rfo_score_obj, "deviceType", n),\n\t\t\t\trfo_addDimension(rfo_score_obj, "lastChannel", a),\n\t\t\t\trfo_addDimension(rfo_score_obj, "configPV", c),\n\t\t\t\trfo_addDimension(rfo_score_obj, "sessionDuration_SL", f),\n\t\t\t\trfo_addDimension(rfo_score_obj, "UV_number", h),\n\t\t\t\trfo_addDimension(rfo_score_obj, "uniconsec", d),\n\t\t\t\trfo_addDimension(rfo_score_obj, "modelIn", u),\n\t\t\t\trfo_addDimension(rfo_score_obj, "topicPV", p),\n\t\t\t\trfo_addDimension(rfo_score_obj, "rfo", m),\n\t\t\t\trfo_addDimension(rfo_score_obj, "intercept", s),\n\n\t\t\t\tcheck_session_duration_rfo(),\n\t\t\t\tcheck_configurator_session_duration_rfo(),\n\t\t\t\tcheck_user_visit_number_rfo(),\n\t\t\t\tcheck_distinctPage_CV1_rfo(),\n\t\t\t\tcheck_distinctPage_CV2_rfo(),\n\t\t\t\tcheck_deviceType_rfo(),\n\t\t\t\tcheck_channel_rfo(),\n\t\t\t\tcheck_configPV_rfo(),\n\t\t\t\tcheck_sessionDuration_SL_rfo(),\n\t\t\t\tcheck_pageview_metrics_rfo(),\n\t\t\t\tcheck_unique_configurator_sections_rfo(),\n\t\t\t\tcheck_model_series_interaction_rfo(),\n\t\t\t\tcheck_topics_page_visited_rfo(),\n\t\t\t\tscorefinal_rfo(),\n\n\t\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\t\tshouldSendScore = !0\n\t\t\telse {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tshouldSendScore = !0\n\t\t\t\t}, 3e4)\n\t\t\t}\n\t\t}\n\n\t\tfunction init_rfi() {\n\t\t\tvar e = {},\n\t\t\t\ti = {},\n\t\t\t\to = {},\n\t\t\t\tr = {},\n\t\t\t\tt = {},\n\t\t\t\tn = {},\n\t\t\t\ta = {},\n\t\t\t\tb = {},\n\t\t\t\tc = {},\n\t\t\t\tf = {},\n\t\t\t\th = {},\n\t\t\t\tj = {},\n\t\t\t\tk = {},\n\t\t\t\tm = {},\n\t\t\t\td = {},\n\t\t\t\tu = {},\n\t\t\t\tg = {},\n\t\t\t\tp = {},\n\t\t\t\tt = {},\n\t\t\t\ts = {}\n\t\t\tif (rfi_addDimension(s, "always_on", weight_value(-6.364535, 1)),\n\n\t\t\t\trfi_addDimension(o, "leq19", weight_value(0)),\n\t\t\t\trfi_addDimension(o, "g20_leq39", weight_value(0.39103004)),\n\t\t\t\trfi_addDimension(o, "g40_leq81", weight_value(2.173321)),\n\t\t\t\trfi_addDimension(o, "g82_leq145", weight_value(2.3946181)),\n\t\t\t\trfi_addDimension(o, "g146_leq243", weight_value(2.3515949)),\n\t\t\t\trfi_addDimension(o, "g244_leq423", weight_value(1.8834377)),\n\t\t\t\trfi_addDimension(o, "g424_leq871", weight_value(1.8578097)),\n\t\t\t\trfi_addDimension(o, "gteq872", weight_value(1.66780191)),\n\n\t\t\t\trfi_addDimension(r, "leq28", weight_value(0)),\n\t\t\t\trfi_addDimension(r, "g28_leq189", weight_value(-0.8330516)),\n\t\t\t\trfi_addDimension(r, "gteq190", weight_value(-0.4405019)),\n\n\t\t\t\trfi_addDimension(i, "eq1", weight_value(0)),\n\t\t\t\trfi_addDimension(i, "eq2", weight_value(2.0283013)),\n\t\t\t\trfi_addDimension(i, "g3_leq4", weight_value(2.2696157)),\n\t\t\t\trfi_addDimension(i, "gteq5", weight_value(1.98692947)),\n\n\t\t\t\trfi_addDimension(j, "eq1", weight_value(0)),\n\t\t\t\trfi_addDimension(j, "eq2", weight_value(-3.28611237)),\n\t\t\t\trfi_addDimension(j, "eq3", weight_value(-4.5777716)),\n\t\t\t\trfi_addDimension(j, "g4_leq7", weight_value(-4.8455193)),\n\t\t\t\trfi_addDimension(j, "gteq8", weight_value(-4.7042439)),\n\n\t\t\t\trfi_addDimension(k, "eq1", weight_value(0)),\n\t\t\t\trfi_addDimension(k, "eq2", weight_value(1.059368)),\n\t\t\t\trfi_addDimension(k, "gteq3", weight_value(2.816164)),\n\n\t\t\t\trfi_addDimension(n, "mobile", weight_value(-0.75471255)),\n\t\t\t\trfi_addDimension(n, "misc", weight_value(0)),\n\t\t\t\trfi_addDimension(n, "tablet", weight_value(0)),\n\t\t\t\trfi_addDimension(n, "desktop", weight_value(-0.2321874)),\n\n\t\t\t\trfi_addDimension(a, "paid_search", weight_value(0.05158983)),\n\t\t\t\trfi_addDimension(a, "display", weight_value(0)),\n\t\t\t\trfi_addDimension(a, "other", weight_value(-0.07045128)),\n\n\t\t\t\trfi_addDimension(c, "yes", weight_value(-1.9679375)),\n\t\t\t\trfi_addDimension(c, "no", weight_value(0)),\n\n\t\t\t\trfi_addDimension(f, "g0_leq3", weight_value(0)),\n\t\t\t\trfi_addDimension(f, "g4_leq99", weight_value(-0.20544458)),\n\t\t\t\trfi_addDimension(f, "g100_leq398", weight_value(0.11996217)),\n\t\t\t\trfi_addDimension(f, "gteq399", weight_value(0.613422)),\n\n\t\t\t\trfi_addDimension(h, "eq1", weight_value(0)),\n\t\t\t\trfi_addDimension(h, "eq2", weight_value(0.47951118)),\n\t\t\t\trfi_addDimension(h, "g3_leq4", weight_value(0.6032564)),\n\t\t\t\trfi_addDimension(h, "g5_leq10", weight_value(0.8190973)),\n\t\t\t\trfi_addDimension(h, "g11_leq35", weight_value(0.491981531)),\n\t\t\t\trfi_addDimension(h, "gteq399", weight_value(0.6898026)),\n\n\t\t\t\trfi_addDimension(d, "eq1", weight_value(0)),\n\t\t\t\trfi_addDimension(d, "g2_leq4", weight_value(0.8708433)),\n\t\t\t\trfi_addDimension(d, "gteq5", weight_value(0.847509)),\n\n\t\t\t\trfi_addDimension(u, "yes", weight_value(3.8274843)),\n\t\t\t\trfi_addDimension(u, "no", weight_value(0)),\n\n\t\t\t\trfi_addDimension(p, "false", weight_value(0)),\n\t\t\t\trfi_addDimension(p, "true", weight_value(3.086994)),\n\n\t\t\t\trfi_addDimension(m, "rfi", weight_value(0)),\n\n\t\t\t\trfi_addDimension(rfi_score_obj, "sessionDuration", o),\n\t\t\t\trfi_addDimension(rfi_score_obj, "sessionDuration_config", r),\n\t\t\t\trfi_addDimension(rfi_score_obj, "uniquePV", i),\n\t\t\t\trfi_addDimension(rfi_score_obj, "distinctPage_CV1", j),\n\t\t\t\trfi_addDimension(rfi_score_obj, "distinctPage_CV2", k),\n\t\t\t\trfi_addDimension(rfi_score_obj, "deviceType", n),\n\t\t\t\trfi_addDimension(rfi_score_obj, "lastChannel", a),\n\t\t\t\trfi_addDimension(rfi_score_obj, "configPV", c),\n\t\t\t\trfi_addDimension(rfi_score_obj, "sessionDuration_SL", f),\n\t\t\t\trfi_addDimension(rfi_score_obj, "UV_number", h),\n\t\t\t\trfi_addDimension(rfi_score_obj, "uniconsec", d),\n\t\t\t\trfi_addDimension(rfi_score_obj, "modelIn", u),\n\t\t\t\trfi_addDimension(rfi_score_obj, "topicPV", p),\n\t\t\t\trfi_addDimension(rfi_score_obj, "rfi", m),\n\t\t\t\trfi_addDimension(rfi_score_obj, "intercept", s),\n\n\t\t\t\tcheck_session_duration_rfi(),\n\t\t\t\tcheck_configurator_session_duration_rfi(),\n\t\t\t\tcheck_user_visit_number_rfi(),\n\t\t\t\tcheck_distinctPage_CV1_rfi(),\n\t\t\t\tcheck_distinctPage_CV2_rfi(),\n\t\t\t\tcheck_deviceType_rfi(),\n\t\t\t\tcheck_channel_rfi(),\n\t\t\t\tcheck_configPV_rfi(),\n\t\t\t\tcheck_sessionDuration_SL_rfi(),\n\t\t\t\tcheck_pageview_metrics_rfi(),\n\t\t\t\tcheck_unique_configurator_sections_rfi(),\n\t\t\t\tcheck_model_series_interaction_rfi(),\n\t\t\t\tcheck_topics_page_visited_rfi(),\n\t\t\t\tscorefinal_rfi(),\n\n\t\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\t\tshouldSendScore = !0\n\t\t\telse {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tshouldSendScore = !0\n\t\t\t\t}, 3e4)\n\t\t\t}\n\t\t}\n\n\t\tfunction init_tda() {\n\t\t\tvar e = {},\n\t\t\t\ti = {},\n\t\t\t\to = {},\n\t\t\t\tr = {},\n\t\t\t\tt = {},\n\t\t\t\tn = {},\n\t\t\t\ta = {},\n\t\t\t\tb = {},\n\t\t\t\tc = {},\n\t\t\t\tf = {},\n\t\t\t\th = {},\n\t\t\t\tj = {},\n\t\t\t\tk = {},\n\t\t\t\tm = {},\n\t\t\t\td = {},\n\t\t\t\tu = {},\n\t\t\t\tg = {},\n\t\t\t\tp = {},\n\t\t\t\tt = {},\n\t\t\t\ts = {}\n\t\t\tif (tda_addDimension(s, "always_on", weight_value(-12.378542, 1)),\n\n\t\t\t\ttda_addDimension(o, "leq19", weight_value(0)),\n\t\t\t\ttda_addDimension(o, "g20_leq39", weight_value(0.3760111)),\n\t\t\t\ttda_addDimension(o, "g40_leq81", weight_value(1.529529)),\n\t\t\t\ttda_addDimension(o, "g82_leq145", weight_value(3.0867599)),\n\t\t\t\ttda_addDimension(o, "g146_leq243", weight_value(3.3980845)),\n\t\t\t\ttda_addDimension(o, "g244_leq423", weight_value(3.0345146)),\n\t\t\t\ttda_addDimension(o, "g424_leq871", weight_value(3.3719911)),\n\t\t\t\ttda_addDimension(o, "gteq872", weight_value(3.18930926)),\n\n\t\t\t\ttda_addDimension(r, "leq28", weight_value(0)),\n\t\t\t\ttda_addDimension(r, "g28_leq189", weight_value(-1.5292852)),\n\t\t\t\ttda_addDimension(r, "gteq190", weight_value(-1.7516502)),\n\n\t\t\t\ttda_addDimension(i, "eq1", weight_value(0)),\n\t\t\t\ttda_addDimension(i, "eq2", weight_value(2.5302272)),\n\t\t\t\ttda_addDimension(i, "g3_leq4", weight_value(4.4916503)),\n\t\t\t\ttda_addDimension(i, "gteq5", weight_value(4.07482888)),\n\n\t\t\t\ttda_addDimension(j, "eq1", weight_value(0)),\n\t\t\t\ttda_addDimension(j, "eq2", weight_value(-4.116737)),\n\t\t\t\ttda_addDimension(j, "eq3", weight_value(-7.1898648)),\n\t\t\t\ttda_addDimension(j, "g4_leq7", weight_value(-8.3521313)),\n\t\t\t\ttda_addDimension(j, "gteq8", weight_value(-8.4840336)),\n\n\t\t\t\ttda_addDimension(k, "eq1", weight_value(0)),\n\t\t\t\ttda_addDimension(k, "eq2", weight_value(0.4898194)),\n\t\t\t\ttda_addDimension(k, "gteq3", weight_value(2.2077192)),\n\n\t\t\t\ttda_addDimension(n, "mobile", weight_value(0.92065981)),\n\t\t\t\ttda_addDimension(n, "misc", weight_value(0)),\n\t\t\t\ttda_addDimension(n, "tablet", weight_value(0)),\n\t\t\t\ttda_addDimension(n, "desktop", weight_value(1.1020127)),\n\n\t\t\t\ttda_addDimension(a, "paid_search", weight_value(3.6805147)),\n\t\t\t\ttda_addDimension(a, "display", weight_value(0)),\n\t\t\t\ttda_addDimension(a, "other", weight_value(4.54081249)),\n\n\t\t\t\ttda_addDimension(c, "yes", weight_value(-1.7516502)),\n\t\t\t\ttda_addDimension(c, "no", weight_value(0)),\n\n\t\t\t\ttda_addDimension(f, "g0_leq3", weight_value(0)),\n\t\t\t\ttda_addDimension(f, "g4_leq99", weight_value(-0.07748182)),\n\t\t\t\ttda_addDimension(f, "g100_leq398", weight_value(-0.07542031)),\n\t\t\t\ttda_addDimension(f, "gteq399", weight_value(-0.2603219)),\n\n\t\t\t\ttda_addDimension(h, "eq1", weight_value(0)),\n\t\t\t\ttda_addDimension(h, "eq2", weight_value(-0.05079873)),\n\t\t\t\ttda_addDimension(h, "g3_leq4", weight_value(0.6232582)),\n\t\t\t\ttda_addDimension(h, "g5_leq10", weight_value(0.4801349)),\n\t\t\t\ttda_addDimension(h, "g11_leq35", weight_value(0.106269594)),\n\t\t\t\ttda_addDimension(h, "gteq399", weight_value(-0.2103107)),\n\n\t\t\t\ttda_addDimension(d, "eq1", weight_value(0)),\n\t\t\t\ttda_addDimension(d, "g2_leq4", weight_value(2.1767089)),\n\t\t\t\ttda_addDimension(d, "gteq5", weight_value(3.1111518)),\n\n\t\t\t\ttda_addDimension(u, "yes", weight_value(4.2915764)),\n\t\t\t\ttda_addDimension(u, "no", weight_value(0)),\n\n\t\t\t\ttda_addDimension(p, "false", weight_value(0)),\n\t\t\t\ttda_addDimension(p, "true", weight_value(3.291797)),\n\n\t\t\t\ttda_addDimension(m, "tda", weight_value(0)),\n\n\t\t\t\ttda_addDimension(tda_score_obj, "sessionDuration", o),\n\t\t\t\ttda_addDimension(tda_score_obj, "sessionDuration_config", r),\n\t\t\t\ttda_addDimension(tda_score_obj, "uniquePV", i),\n\t\t\t\ttda_addDimension(tda_score_obj, "distinctPage_CV1", j),\n\t\t\t\ttda_addDimension(tda_score_obj, "distinctPage_CV2", k),\n\t\t\t\ttda_addDimension(tda_score_obj, "deviceType", n),\n\t\t\t\ttda_addDimension(tda_score_obj, "lastChannel", a),\n\t\t\t\ttda_addDimension(tda_score_obj, "configPV", c),\n\t\t\t\ttda_addDimension(tda_score_obj, "sessionDuration_SL", f),\n\t\t\t\ttda_addDimension(tda_score_obj, "UV_number", h),\n\t\t\t\ttda_addDimension(tda_score_obj, "uniconsec", d),\n\t\t\t\ttda_addDimension(tda_score_obj, "modelIn", u),\n\t\t\t\ttda_addDimension(tda_score_obj, "topicPV", p),\n\t\t\t\ttda_addDimension(tda_score_obj, "tda", m),\n\t\t\t\ttda_addDimension(tda_score_obj, "intercept", s),\n\n\t\t\t\tcheck_session_duration_tda(),\n\t\t\t\tcheck_configurator_session_duration_tda(),\n\t\t\t\tcheck_user_visit_number_tda(),\n\t\t\t\tcheck_distinctPage_CV1_tda(),\n\t\t\t\tcheck_distinctPage_CV2_tda(),\n\t\t\t\tcheck_deviceType_tda(),\n\t\t\t\tcheck_channel_tda(),\n\t\t\t\tcheck_configPV_tda(),\n\t\t\t\tcheck_sessionDuration_SL_tda(),\n\t\t\t\tcheck_pageview_metrics_tda(),\n\t\t\t\tcheck_unique_configurator_sections_tda(),\n\t\t\t\tcheck_model_series_interaction_tda(),\n\t\t\t\tcheck_topics_page_visited_tda(),\n\t\t\t\tscorefinal_tda(),\n\n\t\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\t\tshouldSendScore = !0\n\t\t\telse {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tshouldSendScore = !0\n\t\t\t\t}, 3e4)\n\t\t\t}\n\t\t}\n\n\t\tfunction init_vco() {\n\t\t\tvar e = {},\n\t\t\t\ti = {},\n\t\t\t\to = {},\n\t\t\t\tr = {},\n\t\t\t\tt = {},\n\t\t\t\tn = {},\n\t\t\t\ta = {},\n\t\t\t\tb = {},\n\t\t\t\tc = {},\n\t\t\t\tf = {},\n\t\t\t\th = {},\n\t\t\t\tj = {},\n\t\t\t\tk = {},\n\t\t\t\tm = {},\n\t\t\t\td = {},\n\t\t\t\tu = {},\n\t\t\t\tg = {},\n\t\t\t\tp = {},\n\t\t\t\tt = {},\n\t\t\t\ts = {}\n\t\t\tif (vco_addDimension(s, "always_on", weight_value(-5.751905, 1)),\n\n\n\t\t\t\tvco_addDimension(o, "leq19", weight_value(0)),\n\t\t\t\tvco_addDimension(o, "g20_leq39", weight_value(-0.09598045)),\n\t\t\t\tvco_addDimension(o, "g40_leq81", weight_value(0.4754542)),\n\t\t\t\tvco_addDimension(o, "g82_leq145", weight_value(0.6356871)),\n\t\t\t\tvco_addDimension(o, "g146_leq243", weight_value(0.6467945)),\n\t\t\t\tvco_addDimension(o, "g244_leq423", weight_value(0.4330469)),\n\t\t\t\tvco_addDimension(o, "g424_leq871", weight_value(0.4558163)),\n\t\t\t\tvco_addDimension(o, "gteq872", weight_value(0.05527873)),\n\n\t\t\t\tvco_addDimension(r, "leq28", weight_value(0)),\n\t\t\t\tvco_addDimension(r, "g28_leq189", weight_value(0.2025025)),\n\t\t\t\tvco_addDimension(r, "gteq190", weight_value(0.2410715)),\n\n\t\t\t\tvco_addDimension(i, "eq1", weight_value(0)),\n\t\t\t\tvco_addDimension(i, "eq2", weight_value(0.5616713)),\n\t\t\t\tvco_addDimension(i, "g3_leq4", weight_value(0.4705377)),\n\t\t\t\tvco_addDimension(i, "gteq5", weight_value(0.05263841)),\n\n\t\t\t\tvco_addDimension(j, "eq1", weight_value(0)),\n\t\t\t\tvco_addDimension(j, "eq2", weight_value(-0.06725896)),\n\t\t\t\tvco_addDimension(j, "eq3", weight_value(-0.5159119)),\n\t\t\t\tvco_addDimension(j, "g4_leq7", weight_value(-0.4402425)),\n\t\t\t\tvco_addDimension(j, "gteq8", weight_value(-0.5302061)),\n\n\t\t\t\tvco_addDimension(k, "eq1", weight_value(0)),\n\t\t\t\tvco_addDimension(k, "eq2", weight_value(-0.1362104)),\n\t\t\t\tvco_addDimension(k, "gteq3", weight_value(-0.3666309)),\n\n\t\t\t\tvco_addDimension(n, "mobile", weight_value(-0.06902611)),\n\t\t\t\tvco_addDimension(n, "misc", weight_value(0)),\n\t\t\t\tvco_addDimension(n, "tablet", weight_value(0)),\n\t\t\t\tvco_addDimension(n, "desktop", weight_value(0.1090741)),\n\n\t\t\t\tvco_addDimension(a, "paid_search", weight_value(1.37340559)),\n\t\t\t\tvco_addDimension(a, "display", weight_value(0)),\n\t\t\t\tvco_addDimension(a, "other", weight_value(1.4033827)),\n\n\t\t\t\tvco_addDimension(c, "yes", weight_value(1.5406263)),\n\t\t\t\tvco_addDimension(c, "no", weight_value(0)),\n\n\t\t\t\tvco_addDimension(f, "g0_leq3", weight_value(0)),\n\t\t\t\tvco_addDimension(f, "g4_leq99", weight_value(-0.11381631)),\n\t\t\t\tvco_addDimension(f, "g100_leq398", weight_value(0.21164899)),\n\t\t\t\tvco_addDimension(f, "gteq399", weight_value(0.341216)),\n\n\t\t\t\tvco_addDimension(h, "eq1", weight_value(0)),\n\t\t\t\tvco_addDimension(h, "eq2", weight_value(0.06642785)),\n\t\t\t\tvco_addDimension(h, "g3_leq4", weight_value(0.0360447)),\n\t\t\t\tvco_addDimension(h, "g5_leq10", weight_value(0.2083515)),\n\t\t\t\tvco_addDimension(h, "g11_leq35", weight_value(0.140756039)),\n\t\t\t\tvco_addDimension(h, "gteq399", weight_value(0.3321052)),\n\n\t\t\t\tvco_addDimension(d, "eq1", weight_value(0)),\n\t\t\t\tvco_addDimension(d, "g2_leq4", weight_value(1.1787112)),\n\t\t\t\tvco_addDimension(d, "gteq5", weight_value(1.8173017)),\n\n\t\t\t\tvco_addDimension(u, "yes", weight_value(1.2538523)),\n\t\t\t\tvco_addDimension(u, "no", weight_value(0)),\n\n\t\t\t\tvco_addDimension(p, "false", weight_value(0)),\n\t\t\t\tvco_addDimension(p, "true", weight_value(0.483502)),\n\n\t\t\t\tvco_addDimension(m, "vco", weight_value(0)),\n\n\t\t\t\tvco_addDimension(vco_score_obj, "sessionDuration", o),\n\t\t\t\tvco_addDimension(vco_score_obj, "sessionDuration_config", r),\n\t\t\t\tvco_addDimension(vco_score_obj, "uniquePV", i),\n\t\t\t\tvco_addDimension(vco_score_obj, "distinctPage_CV1", j),\n\t\t\t\tvco_addDimension(vco_score_obj, "distinctPage_CV2", k),\n\t\t\t\tvco_addDimension(vco_score_obj, "deviceType", n),\n\t\t\t\tvco_addDimension(vco_score_obj, "lastChannel", a),\n\t\t\t\tvco_addDimension(vco_score_obj, "configPV", c),\n\t\t\t\tvco_addDimension(vco_score_obj, "sessionDuration_SL", f),\n\t\t\t\tvco_addDimension(vco_score_obj, "UV_number", h),\n\t\t\t\tvco_addDimension(vco_score_obj, "uniconsec", d),\n\t\t\t\tvco_addDimension(vco_score_obj, "modelIn", u),\n\t\t\t\tvco_addDimension(vco_score_obj, "topicPV", p),\n\t\t\t\tvco_addDimension(vco_score_obj, "vco", m),\n\t\t\t\tvco_addDimension(vco_score_obj, "intercept", s),\n\n\t\t\t\tcheck_session_duration_vco(),\n\t\t\t\tcheck_configurator_session_duration_vco(),\n\t\t\t\tcheck_user_visit_number_vco(),\n\t\t\t\tcheck_distinctPage_CV1_vco(),\n\t\t\t\tcheck_distinctPage_CV2_vco(),\n\t\t\t\tcheck_deviceType_vco(),\n\t\t\t\tcheck_channel_vco(),\n\t\t\t\tcheck_configPV_vco(),\n\t\t\t\tcheck_sessionDuration_SL_vco(),\n\t\t\t\tcheck_pageview_metrics_vco(),\n\t\t\t\tcheck_unique_configurator_sections_vco(),\n\t\t\t\tcheck_model_series_interaction_vco(),\n\t\t\t\tcheck_topics_page_visited_vco(),\n\t\t\t\tscorefinal_vco(),\n\n\t\t\t\twindow.epaas.api.getPersistence("bmwdtm_hq_perf"))\n\t\t\t\tshouldSendScore = !0\n\t\t\telse {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tshouldSendScore = !0\n\t\t\t\t}, 3e4)\n\t\t\t}\n\t\t}\n\n\t\tvar score_obj = {},\n\t\t\trfi_score_obj = {},\n\t\t\trfo_score_obj = {},\n\t\t\ttda_score_obj = {},\n\t\t\tvco_score_obj = {},\n\t\t\tshouldSendScore = !1,\n\t\t\tisScoreSame = !1,\n\t\t\tshouldCalculateScore = !0,\n\t\t\tshouldDisplayScore = !1,\n\t\t\tURL = document.location.href,\n\t\t\trawScore, finalScore, rawScore_rfi, finalScore_rfi, rawScore_rfo, finalScore_rfo, rawScore_tda, finalScore_tda, rawScore_vco, finalScore_vco, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n\t\twindow.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init(), init_rfo(), init_rfi(), init_tda(), init_vco()\n\t}()\n',
language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL332ddcbdd2ca47e38e990709f424d90b",name:"TPT - NL - AEM - Adwords - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6517ea6d288d48b597635242e8c5f270-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ec5c211579b47a5a696a03cf820b262",name:"TPT - PT - AEM - Adwords - Digital Show Room More Detail Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC22249136d40d4f8e87cc218a5c370d07-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLebb6c8433f8b41e9876e129bd22b159d",name:"TPT - PT - AEM - Adform - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC149a6cb94e494c8ca6bfc4a86f1f6a1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd06a966153fe4ff2829c1f67ed785523",name:"TPT - GR - AEM - Adform - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2fcfa3e71e0e46d79073fabfe52615f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5164b583209d46eaa05dd76125fa7800",name:"TPT - AU - AEM - DoubleClick - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1ace5b978d8543889dde7e3130a12d9d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL979452ee859345c3865e95afd399622c",name:"TPT - ES - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb1e30d23573d4d549c2678e8b4845907-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53dbf1f4d2f04a62b052c74713bae452",name:"TPT - ZA - AEM - Adform - Request a Quote - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.za/en/topics/offers-and-services/service-workshop/my-bmw-plans.html#Request-a-Quote",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc86254b8a0af40389f53e224767dc94d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa1f1cf5d2f314c3ab6a0fe3531af59c0",name:"TPT - NL - AEM - Facebook - DCSStockLocator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa5b7bca406df41e98e429e4822c7c2f1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f6568504cc94bceb28d51a79d71e5a7",name:"TPT - ES - AEM - Adform - Brochure_Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8234572b44334751843e912b4341010b-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLb93113f18ddf42fcb119b679fbfeea2a",name:"TPT - NL - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC818ecf7dc13c4046a6f450fb6a2235be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcbf03adec0db4f7cb7883c015ce7390f",name:"TPT - NL - AEM - Facebook - Sign In/Register - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC40f29d261eea4d5bbd22bdc3574d97de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL089be9d87a444492906d9c36463c554c",name:"TPT - DE FR ES UK - AEM - Usabilla - Adhoc Survey - PaCC Relevance Showroom",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t=_satellite.getVar("snapshotDL").get("page.pageInfo.pageName");return("bmw.de"==e||"bmw.fr"==e||"bmw.es"==e||"bmw.co.uk"==e)&&t.indexOf("bmw-i7-series-")>-1&&t.indexOf("highlights")>-1}catch(e){var a={from:"TPT",type:"Rule",name:"TPT - DE FR ES UK - AEM - Usabilla - Adhoc Survey - PaCC Relevance Showroom"};_satellite.logger.error(e,a)}}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),a=t[t.length-1].toUpperCase();"UK"==a&&(a="GB"),"COM"==a&&(a="DE");var o={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:20,CES:0,Psyma:60,Other:20}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:0,Psyma:52,Other:22}}};return null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e])?(npsValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e])?(cesValue=localStorage.getItem("usbl."+o[a].buttonCode[e]+".c."+o[a].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC37bc4af0a09541efb7a7937703cc9b2d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL07db6b325c5648f0baf51ed901f57fa4",name:"TPT - CZ - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCfe3c9a3492744b60808956d4a0e7ab89-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b14ee50375f405eb9ac71340d8a2520",name:"TPT - ES - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC18eccce445b040b2997a78e959066286-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcb2f7c418c8e428991fccf076a4c3dde",name:"TPT - AT - AEM - GTagDC - visualizer - DCR -  p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC9c39ed9e8f224b21a2728c4582d4f27c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc8887abe88a04841b62fe3b3827b662e",name:"TPT - UK - AEM - GTagDC - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4f4f3122e3ef4834ba41452e28338c1e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f0e16e60dca425aa86a1ccc426e9533",name:"TPT - CH - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC0a7016d6d259418bb8b0ecf641f007f4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5743fee7916b43b9803d88227184ec09-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60b843e988b540fbbdfc047ed7419414",name:"TPT - PT - AEM - Adwords - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5248a01e3b3f4bacb4ac0747f8cbcd58-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLebec648e2acb4dfe9a6a645cbebc13f1",name:"TPT - GR - AEM - Adwords - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8bd9a2f3f879431aa36d6438933cc574-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL326ad553d6ab492f85cb1d8b6fdf7e59",name:"TPT - RU - AEM - DoubleClick - Configurator Last Page - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div",elementProperties:[{name:"className",value:"h5vco-table-cell needsclick h5vco-nav-description h5vco-bold h5vco-clickable-text ng-binding"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC5ce877d94a634530a7447fdf0febd504-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7572f9c4cd2c41df915243077365245a",name:"TPT - AT - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2e8bcaad4ace419481928d234eb6ce10-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL966e7cbe142041cf97ffd984cc35995a",name:"TPT - BG - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC169caccae1e4477bb1f0f51617c19ca6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5aa60a8f6bc4402488c919ba2a4da913",name:"TPT - NL - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCcd1bcad2107f4c419b142fb002579cb8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL11b22be3c7b24874aacd40ed5ece2abe",name:"TPT - JP - AEM - Pardot - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCd0478dbd94a14ef5b2a83e780b735352-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL122c9504e1bd4ad387110c351a5495d8",name:"TPT - TH - AEM - GtagAW - Link to Shop - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"shop.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC928faf5a249a452097f0debe6373684d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa77c64be9ce741398ce437ee60005802",name:"TPT - PL - AEM - GTagDC - FindAService - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility > span.ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc7abd626456345208368bae4d8d55cd2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe6dac08293d64ca8a8cdbe12f9d4684f",name:"TPT - UK - AEM - GTagDC - Local Form - RFI Form Sub - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1384c123d50247cabde82c1025ef8351-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLbddf86528925468fa0eca9d1a300c7ee",name:"TPT - LU - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCa859af457518422babb1fddaf827f2be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbdd65624b07b4c009a60fb684392f7de",name:"EBR - CA - iFrame - AA - ACS Page Load",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var a=JSON.parse(t.data);a.detail&&a.detail.custom&&Object.keys(a.detail.custom)&&!Object.keys(a.detail.custom).length&&(_satellite.setVar("acs_event_data",a),e())}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}else _satellite.logger.log("no data in event object",t)}))}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("acs_event_data").detail,o=a.event.length?a.event[a.event.length-1].eventInfo.eventAction:"datalayer field empty",s=a.event.length?a.event[a.event.length-1].eventInfo.eventName:"datalayer field empty",n=a.event.length?a.event[a.event.length-1].eventInfo.eventPoints:"datalayer field empty",i=a.event.length?a.event[a.event.length-1].eventInfo.type:"datalayer field empty",r=a.event.length?a.event[a.event.length-1].eventInfo.timeStamp:"datalayer field empty",c=a.event.length?a.event[a.event.length-1].eventInfo.cause:"datalayer field empty",d=a.event.length?a.event[a.event.length-1].eventInfo.effect:"datalayer field empty",l=a.component.length?a.component[a.component.length-1].componentInfo.componentID:"datalayer field empty",u=a.component.length?a.component[a.component.length-1].componentInfo.componentName:"datalayer field empty",m=a.component.length?a.component[a.component.length-1].category.componentType:"datalayer field empty",b=a.component.length?a.component[a.component.length-1].category.primaryCategory:"datalayer field empty",g=a.component.length?a.component[a.component.length-1].category.subCategory1:"datalayer field empty";a.component.length&&a.component[a.component.length-1].category.subCategory2,t.prop44=l,t.prop19=u,t.prop41=m,t.prop42=b,t.prop43=g,t.prop56=s,t.prop57=o,(n="na"==n?"datalayer field empty":n)&&parseInt(n)&&!isNaN(parseInt(n))?(parseInt(n)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(n)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+n,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=n,t.prop53=i,t.prop12=r,t.prop52=c,t.eVar34=d}catch(a){_satellite.getVar("catchblock",e)(t,a)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLbf0fcbc4f3214926b3f82f4218327126",name:"TPT - SI - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7c1d84f08fc84faa8689f860a29ef056-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ac5fb2adf5248f396feaabf547970a5",name:"TPT - UK - AEM - LinkedIn - TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7f02fdb4219a4169b1d7ff60d4872873-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8ddb4458a01c4e6d8416888b5149f9c2",name:"TPT - PT - AEM - Adwords - App Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC1cc3d14653724c46af64e267d38e05fa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb9ff4572aca749d4b617607ebb99ce2b",name:"PLR - ALL - NSC - AA - TRON generic event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    // Listener for TRON Custom Events\n    window.addEventListener('TRON: generic event listener', function(e) {\n        //_satellite.logger.log(\"TRON PV listener\");\n        var _eventName = Array.isArray(e.detail.event) ? e.detail.event[0].eventInfo.eventName : e.detail.event.eventInfo.eventName\n        //_satellite.logger.log(\"DEBUG:\",\"LISTENER:GENERIC\",\"eventName:\"+_eventName,\"eventEffect:\"+e.detail.event.eventInfo.effect,\"Type:\"+e.detail.type);\n        if (_eventName == 'page view') {\n            delete e.detail.custom; // to delete the custom object from object\n            var dlParam = e.detail;\n\n            // direct call set to trigger tron pageview rule\n            _satellite.track('tron_pageview', {\n                'webDL': dlParam\n            });\n        } else {\n            delete e.detail.custom; // to delete the custom object from object\n            var dlParam = e.detail;\n\n            // direct call set to trigger tron event rule\n            _satellite.track('tron_event', {\n                'webDL': dlParam\n            });\n\n        }\n    });\n\n    //Capture the events sent by iframe\n    window.addEventListener('message', function(e) {\n        //_satellite.logger.log(e, \"TRON POST MESSAGE LISTENER INTERCEPTED\");\n        if (e.data && typeof e.data == 'string' && e.data.indexOf('TRON:') > -1) {\n            if (e.origin.indexOf(window.location.host) < 0) {\n                //_satellite.logger.log(\"TRON POST MESSAGE LISTENER\");\n                //_satellite.logger.log('TRON POST MESSAGE', e.data.origin);\n                var eventCaptured = JSON.parse(e.data).detail;\n                var _eventName = (Array.isArray(eventCaptured.event)) ? eventCaptured.event[0].eventInfo.eventName : eventCaptured.event.eventInfo.eventName;\n                var _eventEffect = (Array.isArray(eventCaptured.event)) ? eventCaptured.event[0].eventInfo.effect : eventCaptured.event.eventInfo.effect;\n                //_satellite.logger.log(\"DEBUG:\",\"LISTENER:POSTMESSAGE\",\"eventName:\"+_eventName,\"eventEffect:\"+_eventEffect);\n                // Delete keys which are available in page datalayer\n                delete eventCaptured.custom;\n                delete eventCaptured.cart;\n                delete eventCaptured.transaction;\n                delete eventCaptured.dealer;\n                delete eventCaptured.user;\n                delete eventCaptured.page;\n                delete eventCaptured.product;\n\n                //Datalayer from parent page  \n                var oldDL = _satellite.getVar('webDL');\n\n                //Datalayer from tron which is in iframe\n                var newDL = eventCaptured;\n\n                var dlParam = Object.assign(oldDL, newDL);\n                if (_eventName != \"page view\") {\n                    // direct call set to trigger tron event rule\n                    _satellite.track('tron_event', {\n                        'webDL': dlParam\n                    });\n                } else if (_eventName == 'page view') {\n                    // direct call set to trigger tron pageview rule\n                    _satellite.track('tron_pageview', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n\n        }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"TRON: Event listener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa237c9227af1426e95a038fc801be309",name:"DCR - BE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC6fb92dc9fa604ae0b36ea631e5406208-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0fa84789a29f49e1a5758e1ae9d0cace",name:"TPT - RO - AEM - Facebook - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC4aed0f76953a432ead8b55b1e30e5c41-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL7a04446088354ed390ed5aff761c5e88",name:"TPT - RO - AEM - Linkedin - Local Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{
modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC2a7604418c4d4c1ba327ce78f0a9a323-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL9a6a07ac42604ddcb22753c7421f5c3f",name:"TPT - NL - AEM - Facebook - Adobe Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC8971624bb485412d8ac98aebd09427e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL766682a5f39d41d9b894468586c2ff30",name:"TPT - PT - AEM - GtagDC - Submit CTA  - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCc9395b4027e6484daaf5e242bee8c856-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL00bdfe4964b34ee0a727a5377ced5588",name:"TPT - IE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC988121d9a7de487ea65b45429f97904f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c890432e77743568f7819bb75493694",name:"TPT - AT - AEM - AdWords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC21ae19e8bc444768992571b7286b438e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22dac952fc4d4bf49cccc2ff29f5f060",name:"TPT - DK - AEM - Doubleclick - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.dk/da/ssl/find-forhandlere-vaerksteder.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC302d176687ee48479389be51d41c4834-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ef880daab0c4b67863b9ed47a13f484",name:"TPT - PT - AEM - GTagDC - App Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/topics/offers-and-services/visao-geral-aplicacao-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RC7333bff2d7424173b6d873660efc068b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ab3c5afe26d43f6ac12e3e90c0e77a2",name:"TPT - SK - AEM - Facebook - Brochure Download - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/b39c027add49/RCb28d9d22d3174b498591bde17a248e8c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}function a(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})})),t}function o(e){var t={exports:{}};return e(t,t.exports),t.exports}function s(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){return t.reject(a)}))}))}function n(e){return Boolean(e&&void 0!==e.length)}function i(){}function r(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function d(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var a=1===e._state?t.onFulfilled:t.onRejected;if(null!==a){var o;try{o=a(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,o)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof c)return e._state=3,e._value=t,void m(e);if("function"==typeof a)return void g(r(a,t),e)}e._state=1,e._value=t,m(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,m(e)}function m(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,a=e._deferreds.length;t<a;t++)d(e,e._deferreds[t]);e._deferreds=null}function b(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function g(e,t){var a=!1;try{e((function(e){a||(a=!0,l(t,e))}),(function(e){a||(a=!0,u(t,e))}))}catch(e){if(a)return;a=!0,u(t,e)}}function f(e){return!0===Je(e)&&"[object Object]"===Object.prototype.toString.call(e)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function h(e){return e.substr(0,e.indexOf("["))}function _(e,t,a){if(e.length&&Ye(t)){var o=e[0];if(1!==e.length){var s=e.slice(1);if(!v(o))return _(s,t[o],a);var n=t[o=h(o)];Array.isArray(n)&&n.forEach((function(e){return _(s,e,a)}))}else t.hasOwnProperty(o)&&"string"==typeof t[o]&&(t[o]=a(t[o]))}}if(window.atob){var P=document,j=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,w=t()?Object.assign:function(t){for(var a,o,s=e(t),n=1;n<arguments.length;n++){for(var i in a=Object(arguments[n]))y.call(a,i)&&(s[i]=a[i]);if(j){o=j(a);for(var r=0;r<o.length;r++)C.call(a,o[r])&&(s[o[r]]=a[o[r]])}}return s},R=w,x=window,k=function(e,t,a,o){var s,n=Boolean(t&&Array.isArray(a)),i=Boolean(n&&e),r=document.createElement("a");if(n){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?r.href=x.location.protocol+e:r.href=e),r.hostname||c(),-1===a.indexOf(r.hostname)){var d=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw d.code="dynamic_host_not_allowed",d}}var l=function(){if(null!=s)return s;if(i){var e=r.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),s=r.protocol+"//"+e}else s="";return s},u=function(e){return i&&"string"==typeof e?[l(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:l,decorateWithDynamicHost:u,get isDynamicEnforced(){return n}};return x&&o.onDebugChanged((function(e){e?x.dynamicHostResolver=m:delete x.dynamicHostResolver})),m},T=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},E="debug",I=function(e,t){var a=function(){return"true"===e.getItem(E)},o=function(t){e.setItem(E,t)},s=[],n=function(e){s.push(e)};return t.outputEnabled=a(),{onDebugChanged:n,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(o(e),t.outputEnabled=e,s.forEach((function(t){t(e)})))}}},A="Module did not export a function.",D=function(e,t,a){return function(o,s,n){n=n||[];var i=e.getModuleExports(o.modulePath);if("function"!=typeof i)throw new Error(A);var r=e.getModuleDefinition(o.modulePath),c=o.settings||{};!o.hasTransformedFilePaths&&r.filePaths&&(a(c,r.filePaths,o.modulePath),o.hasTransformedFilePaths=!0);var d=t(c,s);return i.bind(null,d).apply(null,n)}},O=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},V={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},S="\ud83d\ude80",L=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":S,N=!1,M=function(e){if(N&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(L),e!==V.DEBUG||window.console[e]||(e=V.INFO),window.console[e].apply(window.console,t)}},F=M.bind(null,V.LOG),B=M.bind(null,V.INFO),q=M.bind(null,V.DEBUG),U=M.bind(null,V.WARN),G=M.bind(null,V.ERROR),H=function(){var e=N;N=!0,M.apply(null,Array.prototype.concat(V.WARN,Array.prototype.slice.call(arguments))),e||(N=!1)},z={log:F,info:B,debug:q,warn:U,error:G,deprecation:H,get outputEnabled(){return N},set outputEnabled(e){N=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:F.bind(null,t),info:B.bind(null,t),debug:q.bind(null,t),warn:U.bind(null,t),error:G.bind(null,t)}}},K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},W=o((function(e){!function(t){if(e.exports=t(),!!0){var a=window.Cookies,o=window.Cookies=t();o.noConflict=function(){return window.Cookies=a,o}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var o in a)t[o]=a[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(o){function s(){}function n(t,a,n){if("undefined"!=typeof document){"number"==typeof(n=e({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(a);/^[\{\[]/.test(i)&&(a=i)}catch(e){}a=o.write?o.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var c in n)n[c]&&(r+="; "+c,!0!==n[c]&&(r+="="+n[c].split(";")[0]));return document.cookie=t+"="+a+r}}function i(e,a){if("undefined"!=typeof document){for(var s={},n=document.cookie?document.cookie.split("; "):[],i=0;i<n.length;i++){var r=n[i].split("="),c=r.slice(1).join("=");a||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var d=t(r[0]);if(c=(o.read||o)(c,d)||t(c),a)try{c=JSON.parse(c)}catch(e){}if(s[d]=c,e===d)break}catch(e){}}return e?s[e]:s}}return s.set=n,s.get=function(e){return i(e,!1)},s.getJSON=function(e){return i(e,!0)},s.remove=function(t,a){n(t,"",e(a,{expires:-1}))},s.defaults={},s.withConverter=a,s}return a((function(){}))}))})),J={get:W.get,set:W.set,remove:W.remove},Y="com.adobe.reactor.",Z=function(e,t){var a=Y+(t||"");return{getItem:function(t){try{return x[e].getItem(a+t)}catch(e){return null}},setItem:function(t,o){try{return x[e].setItem(a+t,o),!0}catch(e){return!1}}}},$="_sdsat_",Q="dataElements.",X="dataElementCookiesMigrated",ee=Z("localStorage"),te=Z("sessionStorage",Q),ae=Z("localStorage",Q),oe={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},se={},ne=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ie=function(e,t,a){var o;switch(t){case oe.PAGEVIEW:return void(se[e]=a);case oe.SESSION:return void((o=ne(a))&&te.setItem(e,o));case oe.VISITOR:return void((o=ne(a))&&ae.setItem(e,o))}},re=function(e,t){var a=J.get($+e);void 0!==a&&ie(e,t,a)},ce=function(e){ee.getItem(X)||(Object.keys(e).forEach((function(t){re(t,e[t].storageDuration)})),ee.setItem(X,!0))},de={setValue:ie,getValue:function(e,t){var a;switch(t){case oe.PAGEVIEW:return se.hasOwnProperty(e)?se[e]:null;case oe.SESSION:return null===(a=te.getItem(e))?a:JSON.parse(a);case oe.VISITOR:return null===(a=ae.getItem(e))?a:JSON.parse(a)}},migrateCookieData:ce},le=function(e,t,a,o){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(o?"\n"+o:"")},ue=function(e,t,a,o,s){return function(n,i){var r=t(n);if(!r)return o?"":void 0;var c,d,l=r.storageDuration;try{c=e.getModuleExports(r.modulePath),d=e.getModuleDefinition(r.modulePath)}catch(e){return void z.error(le(r,n,e.message,e.stack))}if("function"==typeof c){var u,m=r.settings||{};!r.hasTransformedFilePaths&&d.filePaths&&(s(m,d.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);try{u=c(a(m,i),i)}catch(e){return void z.error(le(r,n,e.message,e.stack))}return l&&(null!=u?de.setValue(n,l,u):u=de.getValue(n,l)),null==u&&null!=r.defaultValue&&(u=r.defaultValue),"string"==typeof u&&(r.cleanText&&(u=O(u)),r.forceLowerCase&&(u=u.toLowerCase())),u}z.error(le(r,n,"Module did not export a function."))}},me={text:function(e){return e.textContent},cleanText:function(e){return O(e.textContent)}},be=function(e,t,a){for(var o,s=e,n=0,i=t.length;n<i;n++){if(null==s)return;var r=t[n];if(a&&"@"===r.charAt(0)){var c=r.slice(1);s=me[c](s)}else if(s.getAttribute&&(o=r.match(/^getAttribute\((.+)\)$/))){var d=o[1];s=s.getAttribute(d)}else s=s[r]}return s},ge=function(e,t,a){return function(o,s){var n;if(t(o))n=a(o,s);else{var i=o.split("."),r=i.shift();"this"===r?s&&(n=be(s.element,i,!0)):"event"===r?s&&(n=be(s,i)):"target"===r?s&&(n=be(s.target,i)):n=be(e[r],i)}return n}},fe=function(e,t){return function(a){var o=a.split(".")[0];return Boolean(t(a)||"this"===o||"event"===o||"target"===o||e.hasOwnProperty(o))}},pe=function(e,t,a){var o={exports:{}};return e.call(o.exports,o,o.exports,t,a),o.exports},ve=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{o(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");z.error(t)}}))},o=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=pe(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,o,s,n){var i={definition:a,extensionName:o,require:s,turbine:n};i.require=s,e[t]=i},hydrateCache:a,getModuleExports:o,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},he=!1,_e=function(e){return function(t,a){var o=e._monitors;o&&(he||(z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),he=!0),o.forEach((function(e){e[t]&&e[t](a)})))}},Pe=function(e,t,a){var o,s,n,i,r=[],c=function(o,s,n){if(!e(s))return o;r.push(s);var i=t(s,n);return r.pop(),null==i&&a?"":i};return o=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?c(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return c(e,a,t)}))},s=function(e,t){for(var a={},o=Object.keys(e),s=0;s<o.length;s++){var n=o[s],r=e[n];a[n]=i(r,t)}return a},n=function(e,t){for(var a=[],o=0,s=e.length;o<s;o++)a.push(i(e[o],t));return a},i=function(e,t){return"string"==typeof e?o(e,t):Array.isArray(e)?n(e,t):"object"==typeof e&&null!==e?s(e,t):e},function(e,t){return r.length>10?(z.error("Data element circular reference detected: "+r.join(" -> ")),e):i(e,t)}},je=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},ye=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var a=new this.constructor(i);return d(this,new b(e,t,a)),a},c.prototype.finally=s,c.all=function(e){return new c((function(t,a){function o(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r)return void r.call(n,(function(t){o(e,t)}),a)}s[e]=n,0==--i&&t(s)}catch(e){a(e)}}if(!n(e))return a(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(e);if(0===s.length)return t([]);for(var i=s.length,r=0;r<s.length;r++)o(r,s[r])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,a){a(e)}))},c.race=function(e){return new c((function(t,a){if(!n(e))return a(new TypeError("Promise.race accepts an array"));for(var o=0,s=e.length;o<s;o++)c.resolve(e[o]).then(t,a)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ye(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Ce=a(Object.freeze({__proto__:null,default:c})),we="undefined"!=typeof window&&window.Promise||void 0!==K&&K.Promise||Ce.default||Ce,Re=function(e,t,a){return function(o,s,n,i){return i.then((function(){var i,r=o.delayNext;return new we((function(t,a){var s=e(o,n,[n]);if(!r)return t();var c=o.timeout,d=new we((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));we.race([s,d]).then(t,a)})).catch((function(e){return clearTimeout(i),e=t(e),a(o,s,e),we.reject(e)})).then((function(){clearTimeout(i)}))}))}},xe=function(e,t,a,o,s){return function(n,i,r,c){return c.then((function(){var c;return new we((function(t,a){var o=e(n,r,[r]),s=n.timeout,i=new we((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+s/1e3+" seconds to complete. "))}),s)}));we.race([o,i]).then(t,a)})).catch((function(e){return clearTimeout(c),e=t(e),o(n,i,e),we.reject(e)})).then((function(e){if(clearTimeout(c),!a(n,e))return s(n,i),we.reject()}))}))}},ke=we.resolve(),Te=function(e,t,a){return function(o,s){return o.conditions&&o.conditions.forEach((function(t){ke=e(t,o,s,ke)})),o.actions&&o.actions.forEach((function(e){ke=t(e,o,s,ke)})),ke=(ke=ke.then((function(){a(o)}))).catch((function(){}))}},Ee=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Ie=function(e,t,a,o){return function(s,n){var i;if(s.conditions)for(var r=0;r<s.conditions.length;r++){i=s.conditions[r];try{var c=e(i,n,[n]);if(Ee(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return a(i,s),!1}catch(e){return o(i,s,e),!1}}return!0}},Ae=function(e,t){return function(a,o){e(a,o)&&t(a,o)}},De=function(e){return function(t){var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},Oe=function(e){return function(t){var a=t.rule,o=t.event,s=e.getModuleDefinition(o.modulePath).name;return{$type:e.getModuleExtensionName(o.modulePath)+"."+s,$rule:{id:a.id,name:a.name}}}},Ve=function(e,t,a,o,s,n){return function(i,r){var c=r.rule,d=r.event;d.settings=d.settings||{};try{var l=s(r);t(d,null,[function(t){var o=a(l,t);i((function(){e(o,c)}))}])}catch(e){n.error(o(d,c,e))}}},Se=function(e,t,a,o){return function(s,n,i){var r=t(s);a.error(e(r,n.name,i)),o("ruleActionFailed",{rule:n,action:s})}},Le=function(e,t,a,o){return function(s,n,i){var r=t(s);a.error(e(r,n.name,i)),o("ruleConditionFailed",{rule:n,condition:s})}},Ne=function(e,t,a){return function(o,s){var n=e(o);t.log('Condition "'+n+'" for rule "'+s.name+'" was not met.'),a("ruleConditionFailed",{rule:s,condition:o})}},Me=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},Fe=function(e,t,a){return function(o,s){var n;if(o.actions)for(var i=0;i<o.actions.length;i++){n=o.actions[i];try{e(n,s,[s])}catch(e){return void t(n,o,e)}}a(o)}},Be=function(e,t,a,o){return function(s,n){o("ruleTriggered",{rule:n}),e?a(n,s):t(n,s)}},qe=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Ue=function(e,t){return t&&!e.negate||!t&&e.negate},Ge=[],He=!1,ze=function(e){He?e():Ge.push(e)},Ke=function(e,t,a){e(t).forEach((function(e){a(ze,e)})),He=!0,Ge.forEach((function(e){e()})),Ge=[]},We=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Je=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ye=function(e){var t,a;return!1!==f(e)&&("function"==typeof(t=e.constructor)&&(!1!==f(a=t.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf")))},Ze=function(e,t){return Ye(t=t||{})?t=R({},t,e):R(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},$e=function(e,t){return function(a,o){var s=e[a];if(s){var n=s.modules;if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var c=i[r],d=n[c];if(d.shared&&d.name===o)return t.getModuleExports(c)}}}},Qe=function(e,t){return function(){return t?e(t):{}}},Xe=function(e,t,a){return function(o){if(a){var s=o.split(".");s.splice(s.length-1||1,0,"min"),o=s.join(".")}return e(t)+o}},et=".js",tt=function(e){return e.substr(0,e.lastIndexOf("/"))},at=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ot=function(e,t){at(t,et)||(t+=et);var a=t.split("/"),o=tt(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?o.length&&o.pop():o.push(e))})),o.join("/")},st=function(e,t){return new we((function(a,o){t.onload=function(){a(t)},t.onerror=function(){o(new Error("Failed to load script "+e))}}))},nt=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=st(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},it=function(e,t,a,o){t=t||"&",a=a||"=";var s={};if("string"!=typeof e||0===e.length)return s;var n=/\+/g;e=e.split(t);var i=1e3;o&&"number"==typeof o.maxKeys&&(i=o.maxKeys);var r=e.length;i>0&&r>i&&(r=i);for(var c=0;c<r;++c){var d,l,u,m,b=e[c].replace(n,"%20"),g=b.indexOf(a);g>=0?(d=b.substr(0,g),l=b.substr(g+1)):(d=b,l=""),u=decodeURIComponent(d),m=decodeURIComponent(l),p(s,u)?Array.isArray(s[u])?s[u].push(m):s[u]=[s[u],m]:s[u]=m}return s},rt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ct=function(e,t,a,o){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var s=encodeURIComponent(rt(o))+a;return Array.isArray(e[o])?e[o].map((function(e){return s+encodeURIComponent(rt(e))})).join(t):s+encodeURIComponent(rt(e[o]))})).join(t):o?encodeURIComponent(rt(o))+a+encodeURIComponent(rt(e)):""},dt=o((function(e,t){t.decode=t.parse=it,t.encode=t.stringify=ct})),lt="@adobe/reactor-",ut={cookie:J,document:P,"load-script":nt,"object-assign":R,promise:we,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),dt.parse(e)},stringify:function(e){return dt.stringify(e)}},window:x},mt=function(e){return function(t){if(0===t.indexOf(lt)){var a=t.substr(lt.length),o=ut[a];if(o)return o}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},bt=function(e,t,a,o,s,n,i){var r=e.extensions,c=e.buildInfo,d=e.environment,l=e.property.settings;if(r){var u=$e(r,t);Object.keys(r).forEach((function(m){var b=r[m],g=b.settings;Array.isArray(b.filePaths)&&(g=n(g,b.filePaths));var f=Qe(o,g);if(b.modules){var p=z.createPrefixedLogger(b.displayName),v=Xe(i,b.hostedLibFilesBaseUrl,c.minified),h={buildInfo:c,environment:d,property:{name:e.property.name,id:e.property.id},getDataElementValue:s,getExtensionSettings:f,getHostedLibFileUrl:v,getSharedModule:u,logger:p,propertySettings:l,replaceTokens:o,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(b.modules).forEach((function(e){var a=b.modules[e],o=mt((function(a){var o=ot(e,a);return t.getModuleExports(o)}));t.registerModule(e,a,m,o,h)}))}})),t.hydrateCache()}return t},gt=function(e,t,a,o,s){var n=z.createPrefixedLogger("Custom Script");e.track=function(e){z.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=n,e.notify=function(e,t){switch(z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:n.info(e);break;case 4:n.warn(e);break;case 5:n.error(e);break;default:n.log(e)}},e.getVar=o,e.setVar=s,e.setCookie=function(e,t,a){var o="",s={};a&&(o=", { expires: "+a+" }",s.expires=a);var n='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+o+").";z.deprecation(n),J.set(e,t,s)},e.readCookie=function(e){return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),J.get(e)},e.removeCookie=function(e){z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),J.remove(e)},e.cookie=J,e.pageBottom=function(){},e.setDebug=a;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(z.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},ft=function(e){for(var t=P.querySelectorAll("script"),a=0;a<t.length;a++){var o=t[a];if(e.test(o.src))return o}},pt=function(e,t){return function(a,o,s){return e&&Ye(a)&&Object.keys(a).length&&Array.isArray(o)&&o.length?(o.forEach((function(e){Boolean(null!=s&&/^core\/.*actions.*\/customCode\.js$/.test(s))&&"source"===e&&!a.isExternal||_(e.split("."),a,t)})),a):a}},vt={getTurbine:function(){return ft(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:ft}.getTurbine,ht=window._satellite;if(ht&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var _t=ht.container;delete ht.container;var Pt=R({},_t.buildInfo);Object.defineProperty(Pt,"environment",{get:function(){return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),_t.environment.stage}}),_t.buildInfo=Pt;var jt,yt=I(Z("localStorage"),z),Ct="";P.currentScript&&P.currentScript.getAttribute("src")?Ct=P.currentScript.getAttribute("src"):vt()&&(Ct=vt().getAttribute("src"));try{jt=k(Ct,Boolean(_t.company.dynamicCdnEnabled),_t.company.cdnAllowList,yt)}catch(e){throw z.warn("Please review the following error:"),e}var wt,Rt=pt(jt.isDynamicEnforced,jt.decorateWithDynamicHost),xt=ve(),kt=_t.property.settings.undefinedVarsReturnEmpty,Tt=_t.property.settings.ruleComponentSequencingEnabled,Et=_t.dataElements||{};de.migrateCookieData(Et);var It=function(e){return Et[e]},At=function(){return wt.apply(null,arguments)},Dt=ue(xt,It,At,kt,Rt),Ot={},Vt=je(Ot),St=fe(Ot,It),Lt=ge(Ot,It,Dt);wt=Pe(St,Lt,kt),gt(ht,_t,yt.setDebugEnabled,Lt,Vt),bt(_t,xt,yt,wt,Dt,Rt,jt.decorateWithDynamicHost);var Nt=_e(ht),Mt=D(xt,wt,Rt),Ft=De(xt),Bt=Ne(Ft,z,Nt),qt=Le(qe,Ft,z,Nt),Ut=Se(qe,Ft,z,Nt),Gt=Me(z,Nt),Ht=Ve(Be(Tt,Ae(Ie(Mt,Ue,Bt,qt),Fe(Mt,Ut,Gt)),Te(xe(Mt,We,Ue,qt,Bt),Re(Mt,We,Ut),Gt),Nt),Mt,Ze,qe,Oe(xt),z);Ke(T,_t.rules||[],Ht)}return ht}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();